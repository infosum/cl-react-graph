{"version":3,"sources":["webpack:///./src/pages/joyplot.tsx","webpack:///../src/utils/defaults.ts","webpack:///../src/colors/index.js","webpack:///../src/d3/attrs.ts","webpack:///../src/tip.ts","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer.js","webpack:///../src/colors/filterRange.ts","webpack:///./src/components/seo.tsx","webpack:///./src/components/header.tsx","webpack:///./src/components/layout.tsx","webpack:///./.cache/public-page-renderer-prod.js","webpack:///../src/JoyplotD3.ts","webpack:///../src/JoyPlot.tsx","webpack:///./src/data.ts"],"names":["data3","Object","assign","data2","counts","data","label","title","JoyPlotExample","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","_components_layout__WEBPACK_IMPORTED_MODULE_4__","_components_seo__WEBPACK_IMPORTED_MODULE_5__","description","_material_ui_core__WEBPACK_IMPORTED_MODULE_2__","variant","container","spacing","item","xs","_src_JoyPlot__WEBPACK_IMPORTED_MODULE_3__","colorScheme","width","height","lineStyle","fill","opacity","shape-rendering","stroke","stroke-opacity","stroke-width","visible","color","dasharray","linecap","axis","curveCatmullRom","x","dateFormat","margin","numberFormat","scale","style","text","dy","text-anchor","transform","y","tickSize","tickValues","ticks","__webpack_exports__","selection","keys","forEach","k","attr","__webpack_require__","d","makeTip","d3_selection__WEBPACK_IMPORTED_MODULE_0__","fx","in","event","pageX","pageY","transition","duration","move","out","selector","tipContainer","remove","select","append","tipContent","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","StaticQueryContext","React","createContext","props","Consumer","staticQueryData","query","render","children","propTypes","PropTypes","object","string","isRequired","func","m","module","exports","require","default","colors","filter","value","c","Color","hsl","array","length","luminosity","e","v","index","self","indexOf","sort","Math","random","SEO","_ref","lang","meta","keywords","site","_public_static_d_2417117884_json__WEBPACK_IMPORTED_MODULE_0__","metaDescription","siteMetadata","react__WEBPACK_IMPORTED_MODULE_2___default","react_helmet__WEBPACK_IMPORTED_MODULE_3___default","htmlAttributes","titleTemplate","content","name","property","author","concat","join","defaultProps","arrayOf","Header","siteTitle","react_default","index_es","position","gatsby_browser_entry","to","Layout","Fragment","header","flexGrow","padding","paddingTop","Date","getFullYear","href","_755544856","node","ProdPageRenderer","location","pageResources","loader","getResourcesForPathnameSync","pathname","InternalPageRenderer","json","shape","joyPlotD3","svg","dataSets","yOuterScaleBand","scaleBand","scaleLinear","innerScaleBand","defaultAxis","bar","groupMargin","className","bins","delay","domain","max","min","grid","left","top","tip","tips","tipContentFn","i","joyTitle","create","el","newProps","this","mergeProps","_makeSvg","makeGrid","makeScales","containers","map","update","merge","selectAll","childNodes","getElementsByTagName","removeChild","_props","r","valuesCount","reduce","b","appendDomainRange","yDomain","allCounts","prev","next","thisCounts","p","thisExtent","extent","hasOwnProperty","yRange","bandwidth","range","yAxisWidth","xAxisHeight","_props5","xAxis","yAxis","Number","gridHeight","getBins","Array","from","Set","_drawScales","_this","_props6","w","gridWidth","dataLabels","rangeRound","paddingInner","groupedMargin","barMargin","axisBottom","get","undefined","call","yLabels","yOuterBounds","axisLeft","yTickSize","attrs","_props7","_props8","barWidth","updateChart","groupData","_this2","_props9","scaleOrdinal","borderColors","thisMax","g","bars","enter","joyLabel","groupLabel","ix","on","findIndex","html","currentHeight","exit","gridX","gridY","_drawGrid","_this3","_props10","axisWidth","offset","make_x_gridlines","tickFormat","make_y_gridlines","_props11","lineData","count","push","destroy","Histogram","_React$Component","chart","state","parentWidth","handleResize","elem","getDOMNode","ref","offsetWidth","setState","getChartState","componentDidMount","window","addEventListener","componentDidUpdate","_this$props","rest","objectWithoutPropertiesLoose_default","componentWillUnmount","removeEventListener","ReactDOM","_this4","react","rgb","darker","toString","theme","filterRange"],"mappings":"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","file":"component---src-pages-joyplot-tsx-0adaa637da41ab33bf60.js","sourcesContent":["import React from 'react';\n\nimport {\n  Card,\n  CardContent,\n  Grid,\n  Typography,\n} from '@material-ui/core';\n\nimport JoyPlot from '../../../src/JoyPlot';\nimport Layout from '../components/layout';\nimport SEO from '../components/seo';\nimport { data2 } from '../data';\n\nconst data3 = {\n  ...data2,\n  counts: [{\n    ...data2.counts[0],\n    data: [7, 6, 5, 4, 3, 2, 1],\n    label: 'Data 2',\n  }],\n  title: 'Plot 2',\n};\n\nconst JoyPlotExample = () => {\n  return (\n    <Layout>\n      <SEO title=\"Joy Plot\" description=\"\" />\n      <Typography variant=\"h2\">Joy Plot</Typography>\n      <div>\n        <Grid container spacing={24}>\n          <Grid item xs={6}>\n            <Card>\n              <CardContent>\n                <JoyPlot\n                  data={[data2, data3]}\n                  colorScheme={['rgba(0, 0, 0, 0.5)', '#666']}\n                  width={400} height={400} />\n              </CardContent>\n            </Card>\n          </Grid>\n        </Grid>\n      </div>\n    </Layout>\n  );\n};\n\nexport default JoyPlotExample;\n","import { curveCatmullRom } from 'd3-shape';\n\nimport {\n  IAxes,\n  IStroke,\n} from '../';\nimport { ISVGLineStyle } from '../Histogram';\nimport { ILineProps } from '../LineChart';\n\nexport const lineStyle: ISVGLineStyle = {\n  'fill': '#000',\n  'opacity': 1,\n  'shape-rendering': 'auto',\n  'stroke': '#000',\n  'stroke-opacity': 1,\n  'stroke-width': 1,\n  'visible': true,\n};\n\nexport const stroke: IStroke = {\n  color: '#000',\n  dasharray: '0',\n  linecap: 'butt',\n  width: 1,\n};\n\nexport const line: ILineProps = {\n  curveType: curveCatmullRom,\n  fill: {\n    fill: '#000',\n    show: true,\n  },\n  show: true,\n  stroke: '#000',\n  strokeDashArray: '0',\n  strokeDashOffset: 0,\n};\n\nexport const axis: IAxes = {\n  x: {\n    dateFormat: '',\n    height: 20,\n    label: 'X Axis',\n    margin: 20,\n    numberFormat: '',\n    scale: 'LINEAR',\n    style: {\n      ...lineStyle,\n      fill: 'none',\n      stroke: '#666',\n    },\n    text: {\n      style: {\n        'dy': '.35em',\n        'text-anchor': 'start',\n        'transform': 'rotate(90)',\n        'x': 0,\n        'y': 0,\n      },\n    },\n    tickSize: 0,\n    tickValues: [],\n    ticks: 3,\n    visible: true,\n    width: 50,\n  },\n  y: {\n    dateFormat: '',\n    height: 20,\n    label: 'Y Axis!',\n    margin: 20,\n    numberFormat: '',\n    scale: 'LINEAR',\n    style: {\n      ...lineStyle,\n      fill: 'none',\n      stroke: '#666',\n    },\n    text: {\n      style: {\n        fill: '#666',\n      },\n    },\n    tickSize: 20,\n    tickValues: [],\n    ticks: 3,\n    visible: true,\n    width: 50,\n  },\n};","export default ['#4bbcad',\n  '#d54539',\n  '#5ab94d',\n  '#8a5cd3',\n  '#a4b243',\n  '#ba5ccd',\n  '#54995c',\n  '#cf47a1',\n  '#d29f3e',\n  '#5c6fda',\n  '#c36528',\n  '#5fa6dc',\n  '#d74770',\n  '#7d7430',\n  '#8a529e',\n  '#df9273',\n  '#5f74b8',\n  '#ac5450',\n  '#d192d7',\n  '#b26088'];\n","import { ISVGLineStyle } from '../Histogram';\n\n/**\n * Apply style object to a d3 selection\n * @param {Object} selection D3 selection\n * @param {Object} style Css styling\n * @return {Object} selection\n */\nexport default (selection, style: ISVGLineStyle) => {\n  Object.keys(style).forEach((k: string) => {\n    selection.attr(k, style[k]);\n  });\n  return selection;\n};\n","import { event } from 'd3-selection';\nimport { select } from 'd3-selection';\n\nexport default {\n  fx: {\n    in: (container) => {\n      container.style('left', (event.pageX) + 'px')\n        .style('top', (event.pageY - 55) + 'px');\n      container.transition()\n        .duration(200)\n        .style('opacity', 0.9);\n    },\n    move: (container) => {\n      container.style('left', (event.pageX) + 'px')\n        .style('top', (event.pageY - 55) + 'px');\n    },\n    out: (container) => {\n      container.transition()\n        .duration(100)\n        .style('opacity', 0);\n    },\n  },\n};\n\nexport const makeTip = (selector, tipContainer): { tipContainer: any, tipContent: any } => {\n  if (tipContainer) {\n    // Chart could be rebuilt - remove old tip\n    tipContainer.remove();\n  }\n  tipContainer = select(selector).append('div')\n    .attr('class', 'tooltip top')\n    .style('opacity', 0);\n\n  tipContainer.append('div')\n    .attr('class', 'tooltip-arrow');\n  return {\n    tipContainer,\n    tipContent: tipContainer.append('div')\n      .attr('class', 'tooltip-inner'),\n  };\n};\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import * as Color from 'color';\n\nexport default (colors) => {\n  return colors.filter((value) => {\n    try {\n      const c = Color(value);\n      const hsl = c.hsl().array();\n      if (hsl.length > 3) {\n        // remove alpha colours\n        return false;\n      }\n      const luminosity = c.luminosity();\n      return ((luminosity < 0.8 && luminosity > 0.1) && (hsl[2] < 200 && hsl[2] > 20)) // not too light\n        ; // not too dark\n    } catch (e) {\n      return false;\n    }\n  })\n    .filter((v, index, self) => self.indexOf(v) === index)\n    .sort(() => Math.random() - 0.5);\n};\n","/**\n * SEO component that queries for data with\n *  Gatsby's useStaticQuery React hook\n *\n * See: https://www.gatsbyjs.org/docs/use-static-query/\n */\nimport {\n  graphql,\n  useStaticQuery,\n} from 'gatsby';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Helmet from 'react-helmet';\n\nfunction SEO({ description, lang, meta, keywords, title }) {\n  const { site } = useStaticQuery(\n    graphql`\n      query {\n        site {\n          siteMetadata {\n            title\n            description\n            author\n          }\n        }\n      }\n    `,\n  );\n\n  const metaDescription = description || site.siteMetadata.description;\n\n  return (\n    <Helmet\n      htmlAttributes={{\n        lang,\n      }}\n      title={title}\n      titleTemplate={`%s | ${site.siteMetadata.title}`}\n      meta={[\n        {\n          content: metaDescription,\n          name: `description`,\n        },\n        {\n          content: title,\n          property: `og:title`,\n        },\n        {\n          content: metaDescription,\n          property: `og:description`,\n        },\n        {\n          content: `website`,\n          property: `og:type`,\n        },\n        {\n          content: `summary`,\n          name: `twitter:card`,\n        },\n        {\n          content: site.siteMetadata.author,\n          name: `twitter:creator`,\n        },\n        {\n          content: title,\n          name: `twitter:title`,\n        },\n        {\n          content: metaDescription,\n          name: `twitter:description`,\n        },\n      ]\n        .concat(\n          keywords.length > 0\n            ? {\n              content: keywords.join(`, `),\n              name: `keywords`,\n            }\n            : [],\n        )\n        .concat(meta)}\n    />\n  );\n}\n\nSEO.defaultProps = {\n  keywords: [],\n  lang: `en`,\n  meta: [],\n};\n\nSEO.propTypes = {\n  description: PropTypes.string,\n  keywords: PropTypes.arrayOf(PropTypes.string),\n  lang: PropTypes.string,\n  meta: PropTypes.array,\n  title: PropTypes.string.isRequired,\n};\n\nexport default SEO;\n","import { Link } from 'gatsby';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {\n  AppBar,\n  Button,\n  Toolbar,\n  Typography,\n} from '@material-ui/core';\n\nconst Header = ({ siteTitle }) => (\n  <AppBar position=\"static\">\n    <Toolbar>\n      <Typography variant=\"h6\" color=\"inherit\" >\n        <Link to=\"/\">{siteTitle}</Link>\n      </Typography>\n\n      <Button><Link to=\"histogram\">Histogram</Link></Button>\n      <Button><Link to=\"line\">Line Chart</Link></Button>\n      <Button><Link to=\"pie\">Pie Chart</Link></Button>\n      <Button><Link to=\"joyplot\">Joy Plot</Link></Button>\n      {/* <Button><Link to=\"/map\">Map</Link></Button> */}\n    </Toolbar>\n  </AppBar>\n);\n\nHeader.propTypes = {\n  siteTitle: PropTypes.string,\n};\n\nHeader.defaultProps = {\n  siteTitle: ``,\n};\n\nexport default Header;\n","import './layout.css';\n\n/**\n * Layout component that queries for data\n * with Gatsby's StaticQuery component\n *\n * See: https://www.gatsbyjs.org/docs/static-query/\n */\nimport {\n  graphql,\n  StaticQuery,\n} from 'gatsby';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Header from './header';\n\nconst Layout = ({ children }) => (\n  <StaticQuery\n    query={graphql`\n      query SiteTitleQuery {\n        site {\n          siteMetadata {\n            title\n          }\n        }\n      }\n    `}\n    render={(data) => (\n      <>\n        <Header siteTitle={data.site.siteMetadata.title} />\n        <div\n          style={{\n            flexGrow: 2,\n            margin: `0 auto`,\n            padding: `0px 1.0875rem 1.45rem`,\n            paddingTop: 0,\n            width: '100%',\n          }}\n        >\n          <main>{children}</main>\n\n        </div>\n        <footer>\n          Â© {new Date().getFullYear()}, Built by\n            {` `}\n          <a href=\"https://www.infosum.com\">InfoSum</a>\n        </footer>\n      </>\n    )}\n  />\n);\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Layout;\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import { extent } from 'd3-array';\nimport {\n  axisBottom,\n  axisLeft,\n} from 'd3-axis';\nimport {\n  scaleBand,\n  scaleLinear,\n  ScaleLinear,\n  scaleOrdinal,\n} from 'd3-scale';\nimport { select } from 'd3-selection';\nimport * as merge from 'deepmerge';\nimport * as get from 'lodash.get';\n\nimport colorScheme from './colors';\nimport attrs from './d3/attrs';\nimport {\n  IChartAdaptor,\n  IHistogramData,\n  IHistogramDataSet,\n} from './Histogram';\nimport { IJoyPlotProps } from './JoyPlot';\nimport tips, { makeTip } from './tip';\nimport {\n  axis as defaultAxis,\n  lineStyle,\n} from './utils/defaults';\n\ninterface IGroupDataItem {\n  label: string;\n  value: number;\n}\n\ntype IGroupData = IGroupDataItem[][];\n\nexport const joyPlotD3 = ((): IChartAdaptor => {\n  let svg;\n  let tipContainer;\n  let tipContent;\n  let props: IJoyPlotProps;\n  let dataSets: IGroupData[];\n  const yOuterScaleBand = scaleBand();\n  const y = scaleLinear();\n  const x = scaleBand();\n  const innerScaleBand = scaleBand();\n\n  // Gridlines in x axis function\n  function make_x_gridlines(ticks: number = 5) {\n    return axisBottom(x)\n      .ticks(ticks);\n  }\n\n  // Gridlines in y axis function\n  function make_y_gridlines(ticks: number = 5) {\n    return axisLeft(yOuterScaleBand)\n      .ticks(ticks);\n  }\n\n  const defaultProps: IJoyPlotProps = {\n    axis: defaultAxis,\n    bar: {\n      groupMargin: 0,\n      margin: 0,\n      width: 50,\n    },\n    className: 'histogram-d3',\n    colorScheme,\n    data: [{\n      bins: [],\n      counts: [],\n    }],\n    delay: 0,\n    domain: {\n      max: null,\n      min: null,\n    },\n    duration: 400,\n    grid: {\n      x: {\n        style: {\n          ...lineStyle,\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n      y: {\n        style: {\n          ...lineStyle,\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n    },\n    height: 200,\n    margin: {\n      left: 5,\n      top: 5,\n    },\n    stroke: {\n      color: '#005870',\n      dasharray: '',\n      linecap: 'butt',\n      width: 0,\n    },\n    tip: tips,\n    tipContainer: 'body',\n    tipContentFn: (bins, i, d, joyTitle): string =>\n      joyTitle + ': ' +\n      bins[i] + '<br />' + d,\n    visible: {},\n    width: 200,\n  };\n\n  const JoyPlotD3 = {\n    /**\n     * Initialization\n     * @param {Node} el Target DOM node\n     * @param {Object} props Chart properties\n     */\n    create(el: HTMLElement, newProps: Partial<IJoyPlotProps> = {}) {\n      this.mergeProps(newProps);\n      this._makeSvg(el);\n      this.makeGrid();\n      this.makeScales();\n      this.containers = props.data.map((d, i) => svg\n        .append('g')\n        .attr('class', `histogram-container-${i}`),\n      );\n\n      this.update(el, props);\n    },\n\n    mergeProps(newProps: Partial<IJoyPlotProps>) {\n      props = merge<IJoyPlotProps>(defaultProps, newProps);\n      props.data = newProps.data;\n      if (newProps.colorScheme) {\n        props.colorScheme = newProps.colorScheme;\n      }\n    },\n\n    /**\n     * Make the SVG container element\n     * Recreate if it previously existed\n     * @param {Dom} el Dom container node\n     */\n    _makeSvg(el) {\n      if (svg) {\n        svg.selectAll('svg > *').remove();\n        svg.remove();\n        const childNodes = el.getElementsByTagName('svg');\n        if (childNodes.length > 0) {\n          el.removeChild(childNodes[0]);\n        }\n      }\n      const { margin, width, height, className } = props;\n\n      // Reference to svg element containing chart\n      svg = select(el).append('svg')\n        .attr('class', className)\n        .attr('width', width)\n        .attr('height', height)\n        .attr('viewBox', `0 0 ${width} ${height}`)\n        .append('g')\n        .attr('transform',\n          'translate(' + margin.left + ',' + margin.top + ')');\n      const r = makeTip(props.tipContainer, tipContainer);\n      tipContent = r.tipContent;\n      tipContainer = r.tipContainer;\n    },\n\n    /**\n     * Get a max count of values in each data set\n     * @param {Object} counts Histogram data set values\n     * @return {Number} count\n     */\n    valuesCount(counts: IHistogramDataSet[]): number {\n      return counts.reduce((a: number, b: IHistogramDataSet): number => {\n        return b.data.length > a ? b.data.length : a;\n      }, 0);\n    },\n\n    /**\n     * Update a linear scale with range and domain values taken either from the compiled\n     * group data\n     */\n    appendDomainRange(scale: ScaleLinear<number, number>, data: IGroupData[]): void {\n      const yDomain: number[] = [];\n      const { domain } = props;\n\n      const allCounts: number[] = data.reduce((prev, next) => {\n        const thisCounts: number[] = next.reduce((p, n) => {\n          return [...p, ...n.map((item) => item.value)];\n        }, [] as number[]);\n        return [...prev, ...thisCounts];\n      }, [0]);\n\n      const thisExtent = extent(allCounts, (d) => d);\n      yDomain[1] = domain && domain.hasOwnProperty('max') && domain.max !== null\n        ? domain.max\n        : thisExtent[1];\n      yDomain[0] = domain && domain.hasOwnProperty('min') && domain.min !== null\n        ? domain.min\n        : thisExtent[0];\n      const yRange = [yOuterScaleBand.bandwidth(), 0];\n      scale.range(yRange)\n        .domain(yDomain);\n    },\n\n    yAxisWidth() {\n      const { axis } = props;\n      return axis.y.label === ''\n        ? axis.y.width\n        : axis.y.width + 30;\n    },\n\n    xAxisHeight() {\n      const { axis } = props;\n      return axis.x.label === ''\n        ? axis.x.height\n        : axis.x.height + 30;\n    },\n\n    makeScales() {\n      const { axis, margin, height, width } = props;\n      this.xAxis = svg.append('g').attr('class', 'x-axis');\n      this.yAxis = svg.append('g').attr('class', 'y-axis');\n\n      if (axis.x.label !== '') {\n        svg.append('text')\n          .attr('class', 'x-axis-label')\n          .attr('transform',\n            'translate(' + (Number(width) / 2) + ' ,' +\n            ((height - this.xAxisHeight() - (margin.left * 2)) + 10 + axis.x.margin) + ')')\n          .style('text-anchor', 'middle')\n          .text(axis.x.label);\n      }\n\n      if (axis.y.label !== '') {\n        svg.append('text')\n          .attr('class', 'y-axis-label')\n          .attr('transform', 'translate(0, -' + this.gridHeight() + ')rotate(-90)')\n          .attr('y', 0 - margin.left)\n          .attr('x', 0 - (height / 2 - (margin.top * 2)))\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .text(axis.y.label);\n      }\n    },\n\n    getBins() {\n      return props.data.reduce((prev, next) => {\n        return Array.from(new Set(prev.concat(next.bins)));\n      }, [] as string[]);\n    },\n\n    /**\n     * Draw scales\n     * @param {Object} data Chart data\n     */\n    _drawScales(data: IHistogramData[]) {\n      const { bar, domain, margin, width, height, axis } = props;\n      const valuesCount = data.reduce((prev, next) => {\n        const c = this.valuesCount(next.counts);\n        return c > prev ? c : prev;\n      }, 0);\n      const w = this.gridWidth();\n\n      let xAxis;\n      const dataLabels = data[0].counts.map((c) => c.label);\n\n      const bins = this.getBins();\n      x\n        .domain(bins)\n        .rangeRound([0, w])\n        .paddingInner(this.groupedMargin());\n\n      innerScaleBand\n        .domain(dataLabels)\n        .rangeRound([0, x.bandwidth()])\n        .paddingInner(this.barMargin());\n\n      xAxis = axisBottom(x);\n\n      const tickSize = get(axis, 'x.tickSize', undefined);\n      if (tickSize !== undefined) {\n        xAxis.tickSize(tickSize);\n      } else {\n        if (w / valuesCount < 10) {\n          // Show one in 10 x axis labels\n          xAxis.tickValues(x.domain().filter((d, i) => !(i % 10)));\n        }\n      }\n\n      this.xAxis\n        .attr('transform', 'translate(' + (this.yAxisWidth() + axis.y.style['stroke-width']) + ',' +\n          (height - this.xAxisHeight() - (margin.left * 2)) + ')')\n        .call(xAxis);\n\n      const yLabels = data.map((d) => d.title);\n      const yOuterBounds: [number, number] = [height - (margin.top * 2) - this.xAxisHeight(), 0];\n      yOuterScaleBand.domain(yLabels)\n        .rangeRound(yOuterBounds);\n\n      this.appendDomainRange(y, dataSets);\n\n      const yAxis = axisLeft(yOuterScaleBand).ticks(axis.y.ticks);\n\n      const yTickSize = get(axis, 'y.tickSize', undefined);\n      if (yTickSize !== undefined) {\n        yAxis.tickSize(yTickSize);\n      }\n\n      this.yAxis\n        .attr('transform', 'translate(' + this.yAxisWidth() + ', 0)')\n        .transition()\n        .call(yAxis);\n\n      const { ...xLabelStyle } = axis.x.text.style;\n      const { ...yLabelStyle } = axis.y.text.style;\n      attrs(svg.selectAll('.y-axis .domain, .y-axis .tick line'), axis.y.style);\n      attrs(svg.selectAll('.y-axis .tick text'), axis.y.text.style as any);\n\n      attrs(svg.selectAll('.x-axis .domain, .x-axis .tick line'), axis.x.style);\n      attrs(svg.selectAll('.x-axis .tick text'), axis.x.text.style as any);\n    },\n\n    /**\n     * Calculate the width of the area used to display the\n     * chart bars. Removes chart margins and Y axis from\n     * chart total width.\n     * @return {number} width\n     */\n    gridWidth(): number {\n      const { axis, width, margin } = props;\n      return Number(width) - (margin.left * 2) - this.yAxisWidth();\n    },\n\n    /**\n     * Calculate the height of the area used to display the\n     * chart bars. Removes chart margins and X axis from\n     * chart total height.\n     * @return {number} width\n     */\n    gridHeight(): number {\n      const { height, margin, axis } = props;\n      return height - (margin.top * 2) - this.xAxisHeight();\n    },\n\n    /**\n     * Returns the margin between similar bars in different data sets\n     * @return {Number} Margin\n     */\n    groupedMargin(): number {\n      const m = get(props.bar, 'groupMargin', 0.1);\n      return m >= 0 && m <= 1\n        ? m\n        : 0;\n    },\n\n    barMargin(): number {\n      const m = get(props.bar, 'margin', 0);\n      return m >= 0 && m <= 1\n        ? m\n        : 0.1;\n    },\n\n    /**\n     * Calculate the bar width\n     * @return {number} bar width\n     */\n    barWidth() {\n      return innerScaleBand.bandwidth();\n    },\n\n    /**\n     * Draw a single data set into the chart\n     */\n    updateChart(\n      groupData: IGroupData[],\n    ) {\n      const bins = this.getBins();\n      const { height, width, margin, bar, delay, duration,\n        axis, stroke, tip, tipContentFn } = props;\n      const barWidth = this.barWidth();\n\n      const colors = scaleOrdinal(props.colorScheme);\n      const borderColors = scaleOrdinal(['#FFF']);\n\n      const yAxisWidth = this.yAxisWidth();\n      const groupedMargin = this.groupedMargin();\n\n      const maxItems = groupData.reduce((prev, next) => {\n        const thisMax = next.reduce((p, n) => n.length > p ? n.length : p, 0);\n        return thisMax > prev ? thisMax : prev;\n      }, 0);\n      groupData.forEach((data, i) => {\n        const joyTitle = props.data[i].title;\n        const g = this.containers[i]\n          .selectAll('g')\n          .data(data);\n\n        const bars = g.enter()\n          .append('g')\n          .merge(g)\n          .attr('transform', (d) => {\n            const xdelta = yAxisWidth\n              + axis.y.style['stroke-width']\n              + x(d[0].label);\n\n            const ydelta = yOuterScaleBand(d[0].joyLabel);\n            return `translate(${xdelta}, ${ydelta})`;\n          })\n          .selectAll('rect')\n          .data((d) => d);\n\n        bars\n          .enter()\n          .append('rect')\n          .attr('height', 0)\n          .attr('y', (d: IGroupDataItem): number => yOuterScaleBand.bandwidth())\n\n          .attr('class', 'bar')\n          .attr('x', (d) => innerScaleBand(d.groupLabel))\n          .attr('width', (d) => barWidth)\n          .attr('fill', (d, ix) => colors(ix))\n\n          .on('mouseover', (d: IGroupDataItem) => {\n            const ix = bins.findIndex((b) => b === d.label);\n            tipContent.html(() => tipContentFn(bins, ix, d.value, joyTitle));\n            tip.fx.in(tipContainer);\n          })\n          .on('mousemove', () => tip.fx.move(tipContainer))\n          .on('mouseout', () => tip.fx.out(tipContainer))\n          .merge(bars)\n          .transition()\n          .duration(duration)\n          .delay(delay)\n          .attr('y', (d: IGroupDataItem): number => y(d.value))\n          .attr('stroke', (d, ix) => {\n            if (borderColors) {\n              return borderColors(ix);\n            }\n          })\n          .attr('shape-rendering', 'crispEdges')\n          .attr('stroke-width', stroke.width)\n          .attr('stroke-linecap', stroke.linecap)\n\n          // Hide bar's bottom border\n          .attr('stroke-dasharray',\n            (d: IGroupDataItem): string => {\n              const currentHeight = yOuterScaleBand.bandwidth() - y(d.value);\n              return `${barWidth} 0 ${currentHeight} ${barWidth}`;\n            })\n          .attr('height', (d: IGroupDataItem): number =>\n            yOuterScaleBand.bandwidth() - y(d.value),\n          );\n\n        g.exit().remove();\n      });\n    },\n\n    makeGrid() {\n      this.gridX = svg.append('g')\n        .attr('class', 'grid gridX');\n      this.gridY = svg.append('g')\n        .attr('class', 'grid gridY');\n    },\n\n    /**\n     * Draw a grid onto the chart background\n     * @param {Object} props Props\n     */\n    _drawGrid() {\n      const { data, height, width, axis, grid, margin, bar } = props;\n      const ticks = data.reduce((prev, next) => {\n        const c = this.valuesCount(next.counts);\n        return c > prev ? prev : c;\n      }, 0);\n      const axisWidth = axis.y.style['stroke-width'];\n\n      const offset = {\n        x: this.yAxisWidth() + axisWidth,\n        y: this.gridHeight(),\n      };\n\n      if (grid.x.visible) {\n        // Add the X gridlines\n        this.gridX.attr('transform', `translate(${offset.x}, ${offset.y})`);\n\n        this.gridX.call(make_x_gridlines(get(grid, 'x.ticks', ticks))\n          .tickSize(-height + this.xAxisHeight() + (margin.top * 2))\n          .tickFormat(() => ''));\n\n        attrs(this.gridX.selectAll('.tick line'), grid.x.style);\n        attrs(this.gridX.selectAll('.domain'), { ...axis.y.style, stroke: 'transparent' });\n      }\n\n      if (grid.y.visible) {\n        // add the Y gridlines\n        this.gridY.attr('transform', 'translate(' + (this.yAxisWidth() + axisWidth) + ', 0)')\n          .transition()\n          .call(make_y_gridlines(get(grid, 'y.ticks', ticks))\n            .tickSize(-width + (margin.left * 2) + this.yAxisWidth())\n            .tickFormat(() => ''),\n          );\n\n        attrs(this.gridY.selectAll('.tick line'), grid.y.style);\n\n        // Hide the first horizontal grid line to show axis\n        this.gridY.selectAll('.gridY .tick line').filter((d, i) => i === 0)\n          .attr('display', 'none');\n        attrs(this.gridY.selectAll('.domain'), { ...axis.x.style, stroke: 'transparent' });\n      }\n    },\n\n    /**\n     * Update chart\n     * @param {HTMLElement} el Chart element\n     * @param {Object} props Chart props\n     */\n    update(el: HTMLElement, newProps: IJoyPlotProps) {\n      if (!props.data) {\n        return;\n      }\n      this.mergeProps(newProps);\n      const { data, visible } = props;\n\n      dataSets = data.map((d) => {\n        const lineData = [] as IGroupData;\n        d.counts.forEach((count) => {\n          count.data.forEach((value, i) => {\n            if (!lineData[i]) {\n              lineData[i] = [];\n            }\n            lineData[i].push({\n              groupLabel: count.label,\n              joyLabel: d.title,\n              label: d.bins[i],\n              value: visible[d.bins[i]] !== false && visible[count.label] !== false ? value : 0,\n            } as IGroupDataItem);\n          });\n        });\n        return lineData;\n      });\n\n      this._drawScales(props.data);\n      this._drawGrid();\n      this.updateChart(dataSets);\n    },\n\n    /**\n     * Any necessary clean up\n     * @param {Element} el To remove\n     */\n    destroy(el: HTMLElement) {\n      svg.selectAll('svg > *').remove();\n    },\n  };\n  return JoyPlotD3;\n});\n","import { rgb } from 'd3-color';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n\nimport {\n  IAxes,\n  IChartAdaptor,\n  IChartState,\n  IDomain,\n  IGrid,\n  IHistogramBar,\n  IHistogramData,\n  IMargin,\n  IStroke,\n  TipContentFn,\n} from './Histogram';\nimport { joyPlotD3 } from './JoyplotD3';\nimport {\n  axis as defaultAxis,\n  lineStyle,\n  stroke,\n} from './utils/defaults';\n\nexport interface IJoyPlotProps {\n  axis?: IAxes;\n  bar?: IHistogramBar;\n  className?: string;\n  data: IHistogramData[];\n  delay?: number;\n  duration?: number;\n  colorScheme?: string[];\n  domain?: IDomain;\n  grid?: IGrid;\n  height: number;\n  margin?: IMargin;\n  stroke?: IStroke;\n  tip?: any;\n  tipContainer?: string;\n  tipContentFn?: TipContentFn<string>;\n  visible?: { [key: string]: boolean };\n  width: number | string;\n}\n\n/**\n * Histogram component\n */\nclass Histogram extends React.Component<IJoyPlotProps, IChartState> {\n\n  private chart: IChartAdaptor;\n  private ref;\n\n  public static defaultProps: Partial<IJoyPlotProps> = {\n    axis: defaultAxis,\n    bar: {\n      margin: 0,\n      width: 10,\n    },\n    grid: {\n      x: {\n        style: {\n          ...lineStyle,\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n      y: {\n        style: {\n          ...lineStyle,\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n    },\n    height: 200,\n    margin: {\n      left: 5,\n      top: 5,\n    },\n    stroke: {\n      ...stroke,\n      color: (d, i, colors) => rgb(colors(i)).darker(1).toString(),\n      width: 1,\n    },\n    width: '100%',\n  };\n\n  /**\n   * Constructor\n   * @param {Object} props\n   */\n  constructor(props: IJoyPlotProps) {\n    super(props);\n    this.chart = joyPlotD3();\n    this.state = {\n      parentWidth: 300,\n    };\n  }\n\n  /**\n   * Handle the page resize\n   */\n  private handleResize() {\n    const elem = this.getDOMNode();\n    const width = (this.ref && this.ref.offsetWidth) ? this.ref.offsetWidth : 0;\n\n    this.setState({\n      parentWidth: width,\n    }, () => this.chart.create(elem, this.getChartState()));\n  }\n\n  /**\n   * Component mounted\n   */\n  public componentDidMount() {\n    this.chart.create(this.getDOMNode(), this.getChartState());\n    if (this.props.width === '100%') {\n      window.addEventListener('resize', (e) => this.handleResize());\n      this.handleResize();\n    }\n  }\n\n  /**\n   * Component updated\n   */\n  public componentDidUpdate() {\n    this.chart.update(this.getDOMNode(), this.getChartState());\n  }\n\n  /**\n   * Get the chart state\n   * @return {Object} ChartState\n   */\n  public getChartState(): IJoyPlotProps {\n    let { width } = this.props;\n    const { children, ...rest } = this.props;\n    if (width === '100%') {\n      width = this.state.parentWidth || 300;\n    }\n    return {\n      ...rest,\n      width,\n    };\n  }\n\n  /**\n   * Component will un mount, remove the chart and\n   * any event listeners\n   */\n  public componentWillUnmount() {\n    if (this.props.width === '100%') {\n      window.removeEventListener('resize', this.handleResize);\n    }\n    this.chart.destroy(this.getDOMNode());\n  }\n\n  /**\n   * Get the chart's dom node\n   * @return {Element} dom noe\n   */\n  private getDOMNode() {\n    return ReactDOM.findDOMNode(this.ref);\n  }\n\n  /**\n   * Render\n   * @return {Dom} node\n   */\n  public render(): JSX.Element {\n    return (<div ref={(ref) => this.ref = ref} className=\"histogram-chart-container\"></div>);\n  }\n}\n\nexport default Histogram;\n","import { IHistogramData } from '../../src';\nimport filterRange from '../../src/colors/filterRange';\nimport { IGrid } from '../../src/Histogram';\nimport { lineStyle } from '../../src/utils/defaults';\n\nexport const grid: IGrid = {\n  x: {\n    style: {\n      ...lineStyle,\n      'stroke': '#ccc',\n      'stroke-opacity': 0.4,\n    },\n    ticks: 5,\n  },\n  y: {\n    style: {\n      ...lineStyle,\n      'stroke': '#ccc',\n      'stroke-opacity': 0.4,\n    },\n    ticks: 5,\n  },\n};\n\nexport const data: IHistogramData = {\n  bins: ['Data 1', 'Data 6', 'Data 3', 'Dat 4'],\n  counts: [\n    {\n      data: [1, 2, 3, 4],\n      label: 'DataSet 1',\n    },\n    {\n      data: [13, 14, 15, 16],\n      label: 'DataSet 2',\n    },\n  ],\n};\n\nexport const data2 = {\n  bins: ['bin 1', 'bin 2', 'bin 3 with a long name', 'bin 4', 'bin 5', 'bin 6', 'bin 7'],\n  counts: [\n    {\n      borderColors: ['red'],\n      data: [1, 2, 3, 4, 5, 6, 7],\n      label: 'Data 1',\n    },\n  ],\n  title: 'Plot 1',\n};\n\nexport const data3 = {\n  bins: ['bin 1', 'bin 2', 'bin 3'],\n  counts: [\n    {\n      borderColors: ['red'],\n      colors: ['red'],\n      data: [100, 50, 40],\n      label: 'Data 1',\n    },\n    {\n      borderColors: ['red'],\n      colors: ['blue'],\n      data: [32, 1, 5, 0],\n      label: 'Data 2',\n    },\n  ],\n};\n\nexport const theme = filterRange(['rgba(255, 113, 1, 0.5)', '#fff6ef', 'rgba(0, 169, 123, 0.5)', '#f6fffd',\n  '#D7263D', 'rgba(215, 38, 61, 0.05)',\n  '#0f2629', '#ededed', 'rgba(86, 180, 191, 0.5)', '#f5fbfb', '#000000', '#0f2629', '#D7263D', '#FBD7D9',\n  '#ffebec', '#963540', '#22545a', '#56b4bf', '#56b4bf', '#56b4bf', '#FF7101', '#449098', '#77c3cb', '#d4eef8',\n  '#ff7101', '#FF7101', '#cc5a00', '#ff8d33', '#fef9e5', '#7d5d2e', '#00a97b', '#008762', '#33ba95', '#dbf1d6',\n  '#227839', '#0f5e7b', '#d4eef8', '#0f5e7b', '#F9C80E', '#007656', '#c5e5e9', '#f9c80e', '#a9a9a9',\n  '#dbdbdb', '#cccccc', '#e6e6e6', '#56b4bf', '#449098', '#77c3cb', '#22545a', '#ff7101', '#cdcdcd', '#ffffff',\n  '#d7263d', '#00a97b', '#888888', '#e6e6e6', '#f2f2f2', '#f4f4f4']);\n"],"sourceRoot":""}