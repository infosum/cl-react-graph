{"version":3,"sources":["webpack:///./src/pages/histogram.tsx","webpack:///./src/pages/pie.tsx","webpack:///../src/HistogramD3.ts","webpack:///../src/Histogram.tsx","webpack:///../src/colors/index.js","webpack:///../src/d3/attrs.ts","webpack:///../src/tip.ts","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer.js","webpack:///../src/colors/filterRange.ts","webpack:///./src/components/seo.tsx","webpack:///./src/components/header.tsx","webpack:///./src/components/layout.tsx","webpack:///./.cache/public-page-renderer-prod.js","webpack:///../src/JoyplotD3.ts","webpack:///../src/JoyPlot.tsx","webpack:///../src/Legend.tsx","webpack:///../src/PieChartD3.ts","webpack:///../src/PieChart.tsx","webpack:///../src/grid.ts","webpack:///./node_modules/react-datasheet/lib/CellShape.js","webpack:///./src/data.ts","webpack:///./node_modules/react-datasheet/lib/Cell.js","webpack:///./node_modules/react-datasheet/lib/DataEditor.js","webpack:///./node_modules/react-datasheet/lib/ValueViewer.js","webpack:///../src/HorizontalHistogramD3.ts","webpack:///../src/HorizontalHistogram.tsx","webpack:///../src/utils/scales.ts","webpack:///../src/lineChartD3.ts","webpack:///../src/LineChart.tsx","webpack:///../src/MapD3.ts","webpack:///../src/Map.tsx","webpack:///../src/ScatterPlotD3.ts","webpack:///../src/ScatterPlot.tsx","webpack:///../src/index.ts","webpack:///./node_modules/react-datasheet/lib/Sheet.js","webpack:///./node_modules/react-datasheet/lib/Row.js","webpack:///./node_modules/react-datasheet/lib/keys.js","webpack:///./node_modules/react-datasheet/lib/renderHelpers.js","webpack:///./node_modules/deepmerge/dist/es.js","webpack:///./node_modules/react-datasheet/lib/index.js","webpack:///./node_modules/react-datasheet/lib/DataSheet.js","webpack:///./node_modules/react-datasheet/lib/DataCell.js","webpack:///./src/components/TabContainer.tsx","webpack:///./node_modules/@material-ui/lab/Slider/index.js","webpack:///./node_modules/@material-ui/lab/Slider/Slider.js","webpack:///./node_modules/@material-ui/lab/utils/clamp.js"],"names":["initialSate","chartType","data","reducer","state","action","type","Object","assign","Error","dataToSpreadSheet","datum","speadSheetData","bins","forEach","b","i","value","counts","c","d","x","HistogramExample","_useState","useState","_useReducer","useReducer","_useState2","Histogram","HorizontalHistogram","react__WEBPACK_IMPORTED_MODULE_2___default","a","createElement","_components_layout__WEBPACK_IMPORTED_MODULE_6__","_components_seo__WEBPACK_IMPORTED_MODULE_7__","title","description","_material_ui_core__WEBPACK_IMPORTED_MODULE_3__","variant","data2","donutWidth","height","labels","display","visible","width","_Object$assign","key","hasOwnProperty","merge","show","PieExample","tab","setTab","dispatch","console","log","react__WEBPACK_IMPORTED_MODULE_4___default","_components_layout__WEBPACK_IMPORTED_MODULE_11__","_components_seo__WEBPACK_IMPORTED_MODULE_12__","_material_ui_core__WEBPACK_IMPORTED_MODULE_7__","container","spacing","item","xs","_src_PieChart__WEBPACK_IMPORTED_MODULE_10__","colorScheme","theme","_src_Legend__WEBPACK_IMPORTED_MODULE_9__","onSelect","react_json_view__WEBPACK_IMPORTED_MODULE_6___default","src","onChange","e","v","label","_components_TabContainer__WEBPACK_IMPORTED_MODULE_13__","react_datasheet__WEBPACK_IMPORTED_MODULE_5___default","valueRenderer","cell","sheetRenderer","props","className","map","count","children","onCellsChanged","changes","_ref","row","col","Number","_material_ui_lab_Slider__WEBPACK_IMPORTED_MODULE_8___default","aria-labelledby","step","_","control","checked","color","histogramD3","svg","tipContainer","tipContent","y","scaleLinear","scaleBand","innerScaleBand","defaultProps","axis","margin","style","fill","shape-rendering","stroke","stroke-opacity","stroke-width","text","ticks","bar","groupMargin","delay","domain","max","min","duration","grid","left","top","dasharray","linecap","tip","tips","tipContentFn","create","el","this","mergeProps","_makeSvg","makeGrid","makeScales","append","attr","update","newProps","selectAll","remove","childNodes","getElementsByTagName","length","removeChild","_this$props","scale","select","r","makeTip","valuesCount","reduce","appendDomainRange","yDomain","_this$props2","allCounts","prev","next","concat","n","thisExtent","extent","yRange","xAxisHeight","range","xAxis","yAxis","xAxisLabel","yAxisLabel","_drawScales","_this$props3","w","gridWidth","dataLabels","rangeRound","paddingInner","groupedMargin","bandwidth","barMargin","axisBottom","tickSize","get","undefined","tickValues","filter","dateFormat","tickFormat","timeFormat","yAxisWidth","call","dataSets","axisLeft","yTickSize","transition","attrs","m","barWidth","updateChart","groupData","_this","_this$props4","colors","scaleOrdinal","gHeight","gridHeight","g","bars","enter","stackIndex","setIndex","findIndex","on","ix","html","fx","in","move","out","groupLabel","currentHeight","exit","xText","yText","gridX","gridY","_this2","_this$props5","push","drawGrid","destroy","_React$Component","chart","parentWidth","handleResize","elem","getDOMNode","ref","offsetWidth","setState","getChartState","componentDidMount","_this3","window","addEventListener","componentDidUpdate","rest","objectWithoutPropertiesLoose_default","componentWillUnmount","removeEventListener","ReactDOM","render","_this4","react","React","rgb","darker","toString","toFixed","__webpack_exports__","selection","keys","k","__webpack_require__","d3_selection__WEBPACK_IMPORTED_MODULE_0__","event","pageX","pageY","selector","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","StaticQueryContext","createContext","Consumer","staticQueryData","query","propTypes","PropTypes","object","string","isRequired","func","module","exports","require","default","Color","hsl","array","luminosity","index","self","indexOf","sort","Math","random","SEO","lang","meta","keywords","site","_public_static_d_2417117884_json__WEBPACK_IMPORTED_MODULE_0__","metaDescription","siteMetadata","react_helmet__WEBPACK_IMPORTED_MODULE_3___default","htmlAttributes","titleTemplate","content","name","property","author","join","arrayOf","Header","siteTitle","react_default","index_es","position","gatsby_browser_entry","to","Layout","Fragment","header","flexGrow","padding","paddingTop","Date","getFullYear","href","_755544856","node","ProdPageRenderer","location","pageResources","loader","getResourcesForPathnameSync","pathname","InternalPageRenderer","json","shape","joyPlotD3","yOuterScaleBand","joyTitle","containers","_props","thisCounts","p","_props5","getBins","Array","from","Set","_props6","yLabels","yOuterBounds","_props7","_props8","_props9","borderColors","thisMax","joyLabel","_drawGrid","_props10","axisWidth","offset","make_x_gridlines","make_y_gridlines","_props11","lineData","legendIconStyle","cursor","listStyle","Legend","_ref$theme","scheme","react__WEBPACK_IMPORTED_MODULE_2__","active","backgroundColor","border","onClick","pieChartD3","displayFn","previousData","set","dataSet","drawChartBg","drawCharts","outerRadius","_this$props2$donutWid","radius","innerRadius","_this$props3$donutWid","drawChart","tau","PI","bgArc","arc","startAngle","endAngle","background","_this$props6","thisPie","pie","arcs","thisArc","path","j","each","_current","attrTween","interpolate","t","arcTween","path2","_height","_width","centroid","PieChart","d3_axis__WEBPACK_IMPORTED_MODULE_0__","lodash_get__WEBPACK_IMPORTED_MODULE_1__","_d3_attrs__WEBPACK_IMPORTED_MODULE_2__","makeXGridlines","makeYGridlines","defineProperty","obj","_propTypes","_propTypes2","__esModule","CellShape","readOnly","bool","component","oneOfType","element","forceComponent","disableEvents","colSpan","number","rowSpan","overflow","oneOf","dataEditor","valueViewer","_src_colors_filterRange__WEBPACK_IMPORTED_MODULE_0__","dy","text-anchor","transform","filterRange","_extends","target","arguments","source","prototype","_createClass","defineProperties","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","_react2","_interopRequireDefault","_CellShape2","Cell","_PureComponent","instance","TypeError","_classCallCheck","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","apply","subClass","superClass","constructor","setPrototypeOf","_inherits","PureComponent","attributesRenderer","onMouseDown","onMouseOver","onDoubleClick","onContextMenu","attributes","selected","editing","updated","DataEditor","handleChange","bind","_input","focus","onKeyDown","input","onCommit","onRevert","ValueViewer","horizontalHistogramD3","xDomain","xRange","h","_drawBars","info","drawDataSet","barHeight","setCount","barItem","all","multiLineOffset","currentWidth","gy","histogram","componentWillReceiveProps","buildScales","scaleLog","clamp","scaleTime","lineChartD3","xParseTime","xFormatTime","lineProps","curveType","curveCatmullRom","strokeDashArray","strokeDashOffset","pointProps","easeCubic","line","point","datumProps","_buildScales","lineContainer","_createLines","_drawDataPointSet","getYAxisWidth","pointContainer","points","dx","ys","numberFormat","format","getXAxisHeight","parsedY","parsedX","_drawLines","curve","drawAreas","area","y0","y1","_buildScales2","timeParse","LineChart","mapD3","geojson","features","projection","geoMercator","translate","geoGenerator","geoPath","Map","scatterPlotD3","yScale","xScale","domainByTrait","choices","legendWidth","xSize","ySize","_drawLegend","split","legend","_drawPoints","traits","nx","cross","plotCell","values","distModels","trait","ScatterPlot","_Component","chartWidth","chartHeight","innerHeight","getBoundingClientRect","Component","src_HorizontalHistogram","src_LineChart","src_Map","Sheet","Row","cells","TAB_KEY","ENTER_KEY","ESCAPE_KEY","LEFT_KEY","UP_KEY","RIGHT_KEY","DOWN_KEY","DELETE_KEY","BACKSPACE_KEY","renderValue","renderData","dataRenderer","isMergeableObject","isNonNullObject","stringValue","$$typeof","REACT_ELEMENT_TYPE","isReactElement","isSpecial","Symbol","for","cloneUnlessOtherwiseSpecified","options","clone","deepmerge","val","isArray","defaultArrayMerge","arrayMerge","sourceIsArray","destination","mergeObject","deepmerge_1","_DataSheet2","_Sheet2","_Row2","_Cell2","_DataEditor2","_ValueViewer2","_renderHelpers","_DataCell2","_keys","isEmpty","start","end","inc","unshift","defaultParsePaste","str","DataSheet","onMouseUp","handleNavigate","handleKey","handleCut","handleCopy","handlePaste","pageClick","isSelected","isEditing","isClearing","handleComponentKey","handleKeyboardCellMovement","defaultState","selecting","forceEdit","clear","removeAllListeners","document","dgDom","isSelectionControlled","_objectWithoutProperties","contains","preventDefault","_getState","getState","clearSelectedCells","_props2","_getState2","clipboardData","setData","_getState3","parse","parsePaste","pasteData","getData","_props3","onPaste","additions","rowData","pastedData","_setState","commit","_getState4","currentCell","hasComponent","keyCode","which","shiftKey","isPropagationStopped","_getState5","noCellsSelected","ctrlKeyPressed","ctrlKey","metaKey","deleteKeysPressed","enterKeyPressed","numbersPressed","lettersPressed","latin1Supplement","numPadKeysPressed","equationKeysPressed","_props4","getSelectedCells","setTimeout","_ref2","offsets","jumpRow","newLocation","updateLocation","includes","evt","prevProps","prevState","_state","prevEnd","_getState7","posX","negX","posY","negY","_this5","SheetRenderer","RowRenderer","rowRenderer","cellRenderer","keyFn","tabIndex","onNavigate","onKey","clearing","initialData","initialValue","widthStyle","DataCell","handleCommit","handleRevert","handleMouseDown","handleMouseOver","handleContextMenu","handleDoubleClick","reverting","committing","nextProps","timeout","clearTimeout","eatKeys","Editor","Viewer","CellRenderer","onKeyUp","renderComponent","renderEditor","renderViewer","TabContainer","_material_ui_core__WEBPACK_IMPORTED_MODULE_1__","_interopRequireWildcard","_Slider","defaultValueReducer","global","styles","_extends2","_objectWithoutProperties2","_defineProperty2","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf3","_inherits2","_reactDom","_classnames","_withStyles","_ButtonBase","_colorManipulator","_clamp","commonTransitionsOptions","transitions","shortest","easing","easeOut","trackTransitions","thumbTransitions","primary","palette","main","disabled","grey","thumbOutline","fade","root","WebkitTapHighlightColor","&$disabled","&$vertical","track","&$activated","boxShadow","bottom","trackBefore","zIndex","transformOrigin","trackAfter","right","opacity","thumbWrapper","thumb","flip","borderRadius","&$focused, &:hover","pressedOutlineRadius","&$jumped","thumbIconWrapper","thumbIcon","jumped","focused","activated","vertical","percentToValue","percent","calculatePercent","isVertical","isRtl","touchId","_node$getBoundingClie2","_getOffset","_global","pageYOffset","pageXOffset","_node$getBoundingClie","getOffset","_getMousePosition","changedTouches","touchIndex","identifier","getMousePosition","onePercent","preventPageScrolling","rawValue","round","roundToStep","Slider","_getPrototypeOf2","_len","args","_key","currentState","jumpAnimationTimeoutId","handleKeyDown","currentValue","abs","emitChange","handleFocus","handleBlur","handleClick","containerRef","isReverted","playJumpAnimation","handleMouseEnter","buttons","handleDragEnd","handleMouseLeave","handleMouseMove","handleTouchStart","touch","body","handleTouchEnd","onDragStart","handleMouseUp","handleTouchMove","passive","onDragEnd","callback","previousValue","newValue","valueReducer","direction","complex","_commonClasses","_classNames","classNameProp","classes","other","commonClasses","rtl","containerClasses","trackBeforeClasses","trackAfterClasses","thumbTransformFunction","thumbDirectionInverted","inlineTrackBeforeStyles","calculateTrackPartStyles","inlineTrackAfterStyles","inlineThumbStyles","ThumbIcon","cloneElement","thumbWrapperClasses","thumbClasses","role","aria-disabled","aria-valuenow","aria-valuemin","aria-valuemax","aria-orientation","onTouchStartCapture","onTouchMove","findDOMNode","disableRipple","onBlur","onFocusVisible","_default","withTheme"],"mappings":"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","file":"component---src-pages-pie-tsx-f4cbcad8539ffe1bb627.js","sourcesContent":["import React, {\n  useReducer,\n  useState,\n} from 'react';\n\n// import ReactDataSheet from 'react-datasheet';\n// import ReactJson from 'react-json-view';\nimport {\n  Card,\n  CardContent,\n  Grid,\n  MenuItem,\n  Tab,\n  Tabs,\n  TextField,\n  Typography,\n} from '@material-ui/core';\n\nimport { HorizontalHistogram } from '../../../src';\nimport Histogram, { IHistogramData } from '../../../src/Histogram';\n// import Legend from '../../../src/Legend';\nimport Layout from '../components/layout';\nimport SEO from '../components/seo';\n// import { TabContainer } from '../components/TabContainer';\nimport {\n  axis,\n  data,\n  grid,\n  theme,\n} from '../data';\n\n// const tipContentFns = [\n//   (bins, i, d) =>\n//     bins[i] + '<br />HI THere ' + d.toFixed(2),\n//   (bins, i, d) =>\n//     bins[i] + '<br />Bookay ' + d.toFixed(2),\n// ];\n\n// const dataLegendData = {\n//   bins: data.counts.map((c) => c.label),\n//   counts: [{\n//     data: data.counts.map((c) => c.data.reduce((p, n) => p + n, 0)),\n//     label: '',\n//   }],\n// };\n\ninterface IInitialState {\n  chartType: 'HorizontalHistogram' | 'Histogram';\n  data: IHistogramData;\n}\nconst initialSate: IInitialState = {\n  chartType: 'Histogram',\n  data,\n};\n\ntype Actions = { type: 'setChartType'; chartType: string }\n  | { type: 'setData', data: IHistogramData };\n\nfunction reducer(state: IInitialState, action: Actions) {\n  switch (action.type) {\n    case 'setChartType':\n      return { ...state, chartType: action.chartType };\n    case 'setData':\n      return { ...state, data: action.data };\n    default:\n      throw new Error();\n  }\n}\n\nexport const dataToSpreadSheet = (datum: IHistogramData): any => {\n  const speadSheetData: any = [];\n\n  datum.bins.forEach((b, i) => {\n    if (!speadSheetData[i]) {\n      speadSheetData[i] = [];\n    }\n    speadSheetData[i][0] = { value: b };\n  });\n  datum.counts.forEach((c, i) => {\n    c.data.forEach((d, x) => {\n      if (!speadSheetData[x]) {\n        speadSheetData[x] = [];\n      }\n      speadSheetData[x][i + 1] = { value: d };\n    });\n  });\n  return speadSheetData;\n};\n\nconst HistogramExample = () => {\n  const [tab, setTab] = useState(0);\n  const [state, dispatch] = useReducer(reducer, initialSate);\n  const [visible, setVisible] = useState({});\n\n  const speadSheetData = dataToSpreadSheet(state.data);\n\n  const Chart = state.chartType === 'Histogram' ? Histogram : HorizontalHistogram;\n  return (\n    <Layout>\n      <SEO title=\"Histogram\" description=\"\" />\n      <Typography variant=\"h2\">Histogram</Typography>\n      <div>\n        {/* <Grid container spacing={24}>\n          <Grid item xs={6}>\n            <Card>\n              <CardContent>\n                <Chart data={state.data}\n                  axis={axis}\n                  grid={grid}\n                  width={'100%'}\n                  height={300}\n                  visible={visible}\n                  colorScheme={theme}\n                  tipContentFn={tipContentFns[0]} />\n                <Legend\n                  theme={theme}\n                  data={dataLegendData}\n                  onSelect={(key) => {\n                    setVisible({ ...visible, [key]: visible.hasOwnProperty(key) ? !visible[key] : false });\n                  }}\n                  visible={visible}\n                />\n              </CardContent>\n            </Card>\n            <br />\n            <Card>\n              <CardContent>\n                <ReactJson src={state} />\n              </CardContent>\n            </Card>\n          </Grid>\n          <Grid item xs={6}>\n            <Card>\n              <CardContent>\n                <Tabs value={tab} onChange={(e, v) => setTab(v)}>\n                  <Tab label=\"Data\" />\n                  <Tab label=\"Styling\" />\n                </Tabs>\n                {\n                  tab === 0 && <TabContainer>\n                    <ReactDataSheet<any, any> data={speadSheetData}\n                      valueRenderer={(cell) => cell.value}\n                      sheetRenderer={(props) => (\n                        <table className={props.className + ' my-awesome-extra-class'}>\n                          <thead>\n                            <tr>\n                              <th className=\"action-cell\">Bin</th>\n                              {\n                                state.data.counts.map((count) => (<th key={count.label} className=\"action-cell\">\n                                  {count.label}\n                                </th>))\n                              }\n                            </tr>\n                          </thead>\n                          <tbody>\n                            {props.children}\n                          </tbody>\n                        </table>\n                      )}\n                      onCellsChanged={(changes) => {\n                        changes.forEach(({ cell, row, col, value }) => {\n                          if (col === 0) {\n                            state.data.bins[row] = value;\n                          } else {\n                            state.data.counts[col - 1].data[row] = Number(value);\n                          }\n                        });\n                        dispatch({ type: 'setData', data: state.data });\n                      }} />\n                  </TabContainer>\n                }\n                {\n                  tab === 1 && <TabContainer>\n                    <Grid container spacing={24}>\n                      <Grid item xs={6}>\n                        <TextField\n                          select\n                          label=\"Chart direction\"\n                          value={state.chartType}\n                          onChange={(e) => {\n                            dispatch({ type: 'setChartType', chartType: e.target.value });\n                          }}\n                        >\n                          <MenuItem value=\"Histogram\">\n                            Histogram\n                            </MenuItem>\n                          <MenuItem value=\"HorizontalHistogram\">\n                            HorizontalHistogram\n                            </MenuItem>\n\n                        </TextField>\n                      </Grid>\n                    </Grid>\n                  </TabContainer>\n                }\n              </CardContent>\n            </Card>\n          </Grid>\n        </Grid>*/}\n      </div>\n    </Layout>\n  );\n};\n\nexport default HistogramExample;\n","import merge from 'deepmerge';\nimport React, {\n  useReducer,\n  useState,\n} from 'react';\nimport ReactDataSheet, { Cell } from 'react-datasheet';\nimport ReactJson from 'react-json-view';\n\nimport {\n  Card,\n  CardContent,\n  FormControlLabel,\n  FormGroup,\n  Grid,\n  Switch,\n  Tab,\n  Tabs,\n  Typography,\n} from '@material-ui/core';\nimport Slider from '@material-ui/lab/Slider';\n\nimport Legend from '../../../src/Legend';\nimport PieChart, { IPieChartProps } from '../../../src/PieChart';\nimport Layout from '../components/layout';\nimport SEO from '../components/seo';\nimport { TabContainer } from '../components/TabContainer';\nimport {\n  data2,\n  theme,\n} from '../data';\nimport { dataToSpreadSheet } from './histogram';\n\nconst initialSate: IPieChartProps = {\n  data: data2,\n  donutWidth: 0,\n  height: 200,\n  labels: {\n    display: false,\n    // displayFn: () => null,\n  },\n  visible: {},\n  width: '100%',\n};\n\ntype Actions = { type: 'toggleVisible'; key: string }\n  | { type: 'setData', data: IPieChartProps['data'] }\n  | { type: 'setDonutWidth', width: number }\n  | { type: 'showLabels', show: boolean };\n\nfunction reducer(state: IPieChartProps, action: Actions) {\n  switch (action.type) {\n    case 'toggleVisible':\n      const visible = {\n        ...state.visible,\n        [action.key]: state.visible.hasOwnProperty(action.key)\n          ? !state.visible[action.key]\n          : false,\n      };\n      return { ...state, visible };\n    case 'setData':\n      return { ...state, data: action.data };\n    case 'setDonutWidth':\n      return { ...state, donutWidth: action.width };\n    case 'showLabels':\n      return merge(state, { labels: { display: action.show } });\n    default:\n      throw new Error();\n  }\n}\n\nconst PieExample = () => {\n  const [tab, setTab] = useState(0);\n  const [state, dispatch] = useReducer(reducer, initialSate);\n\n  const speadSheetData = dataToSpreadSheet(state.data);\n  console.log('state', state);\n  return (\n    <Layout>\n      <SEO title=\"Histogram\" description=\"\" />\n      <Typography variant=\"h2\">Pie Chart</Typography>\n      <div>\n        <Grid container spacing={24}>\n          <Grid item xs={6}>\n            <Card>\n              <CardContent>\n                <PieChart\n                  width={state.width}\n                  height={state.height}\n                  donutWidth={state.donutWidth}\n                  labels={state.labels}\n                  data={state.data}\n                  colorScheme={theme}\n                  visible={state.visible} />\n                <Legend\n                  data={state.data}\n                  theme={theme}\n                  onSelect={(key) => dispatch({ type: 'toggleVisible', key })}\n                  visible={state.visible}\n                />\n              </CardContent>\n            </Card>\n            <br />\n            <Card>\n              <CardContent>\n                <ReactJson src={state} />\n              </CardContent>\n            </Card>\n          </Grid>\n          <Grid item xs={6}>\n            <Card>\n              <CardContent>\n                <Tabs value={tab} onChange={(e, v) => setTab(v)}>\n                  <Tab label=\"Data\" />\n                  <Tab label=\"Styling\" />\n                </Tabs>\n                {\n                  tab === 0 && <TabContainer>\n                    <ReactDataSheet data={speadSheetData}\n                      valueRenderer={(cell) => cell.value}\n                      sheetRenderer={(props) => (\n                        <table className={props.className + ' my-awesome-extra-class'}>\n                          <thead>\n                            <tr>\n                              <th className=\"action-cell\">Bin</th>\n                              {\n                                state.data.counts.map((count) => (<th key={count.label} className=\"action-cell\">\n                                  {count.label}\n                                </th>))\n                              }\n                            </tr>\n                          </thead>\n                          <tbody>\n                            {props.children}\n                          </tbody>\n                        </table>\n                      )}\n                      onCellsChanged={(changes) => {\n                        changes.forEach(({ cell, row, col, value }) => {\n                          if (col === 0) {\n                            state.data.bins[row] = value;\n                          } else {\n                            state.data.counts[col - 1].data[row] = Number(value);\n                          }\n                        });\n                        dispatch({ type: 'setData', data: state.data });\n                      }} />\n                  </TabContainer>\n                }\n                {\n                  tab === 1 && <TabContainer>\n                    <Grid container spacing={24}>\n                      <Grid item xs={6}>\n                        <FormGroup>\n                          <Typography>Donut <small>({state.donutWidth})</small></Typography>\n                          <Slider\n                            value={state.donutWidth}\n                            aria-labelledby=\"label\"\n                            step={1}\n                            onChange={(_, value) => dispatch({ type: 'setDonutWidth', width: Number(value) })}\n                          />\n                        </FormGroup>\n                        <FormGroup>\n                          <FormControlLabel\n                            control={\n                              <Switch\n                                checked={state.labels.display}\n                                color=\"primary\"\n                                onChange={(_, value) => {\n                                  dispatch({ type: 'showLabels', show: value });\n                                }}\n                              />\n                            }\n                            label=\"Show labels\"\n                          />\n                        </FormGroup>\n                      </Grid>\n                    </Grid>\n                  </TabContainer>\n                }\n              </CardContent>\n            </Card>\n          </Grid>\n\n        </Grid>\n      </div>\n    </Layout>\n  );\n};\n\nexport default PieExample;\n","import { extent } from 'd3-array';\nimport {\n  axisBottom,\n  axisLeft,\n} from 'd3-axis';\nimport {\n  scaleBand,\n  scaleLinear,\n  ScaleLinear,\n  scaleOrdinal,\n} from 'd3-scale';\nimport { select } from 'd3-selection';\nimport { timeFormat } from 'd3-time-format';\nimport * as merge from 'deepmerge';\nimport * as get from 'lodash.get';\n\nimport colorScheme from './colors';\nimport attrs from './d3/attrs';\nimport {\n  drawGrid,\n  gridHeight,\n  gridWidth,\n  xAxisHeight,\n  yAxisWidth,\n} from './grid';\nimport {\n  IChartAdaptor,\n  IHistogramData,\n  IHistogramDataSet,\n  IHistogramProps,\n} from './Histogram';\nimport tips, { makeTip } from './tip';\n\ninterface IGroupDataItem {\n  label: string;\n  value: number;\n}\n\ntype IGroupData = IGroupDataItem[][];\n\nexport const histogramD3 = ((): IChartAdaptor => {\n  let svg;\n  let tipContainer;\n  let tipContent;\n  const y = scaleLinear();\n  const x = scaleBand();\n  const innerScaleBand = scaleBand();\n  // @TODO make this a prop\n  const stacked = false;\n\n  const defaultProps: IHistogramProps = {\n    axis: {\n      x: {\n        height: 20,\n        label: '',\n        margin: 10,\n        style: {\n          'fill': 'none',\n          'shape-rendering': 'crispEdges',\n          'stroke': '#666',\n          'stroke-opacity': 1,\n          'stroke-width': 1,\n        },\n        text: {\n          style: {\n            fill: '#666',\n          },\n        },\n      },\n      y: {\n        label: '',\n        style: {\n          'fill': 'none',\n          'shape-rendering': 'crispEdges',\n          'stroke': '#666',\n          'stroke-opacity': 1,\n          'stroke-width': 1,\n        },\n        text: {\n          style: {\n            fill: '#666',\n          },\n        },\n        ticks: 10,\n        width: 25,\n      },\n    },\n    bar: {\n      groupMargin: 0.1,\n      margin: 0,\n      width: 50,\n    },\n    className: 'histogram-d3',\n    colorScheme,\n    data: {\n      bins: [],\n      counts: [],\n    },\n    delay: 0,\n    domain: {\n      max: null,\n      min: null,\n    },\n    duration: 400,\n    grid: {\n      x: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n      y: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n    },\n    height: 200,\n    margin: {\n      left: 5,\n      top: 5,\n    },\n    stroke: {\n      color: '#005870',\n      dasharray: '',\n      linecap: 'butt',\n      width: 0,\n    },\n    tip: tips,\n    tipContainer: 'body',\n    tipContentFn: (bins: string[], i: number, d: number): string =>\n      bins[i] + '<br />' + d,\n    visible: {},\n    width: 200,\n  };\n\n  const HistogramD3 = {\n    /**\n     * Initialization\n     */\n    create(el: HTMLElement, props: Partial<IHistogramProps> = {}) {\n      this.mergeProps(props);\n      this._makeSvg(el);\n      this.makeGrid();\n      this.makeScales();\n      this.container = svg\n        .append('g')\n        .attr('class', 'histogram-container');\n\n      this.update(el, props);\n    },\n\n    mergeProps(newProps: Partial<IHistogramProps>) {\n      this.props = merge<IHistogramProps>(defaultProps, newProps);\n      this.props.data = newProps.data;\n      if (newProps.colorScheme) {\n        this.props.colorScheme = newProps.colorScheme;\n      }\n    },\n\n    /**\n     * Make the SVG container element\n     * Recreate if it previously existed\n     */\n    _makeSvg(el) {\n      if (svg) {\n        svg.selectAll('svg > *').remove();\n        svg.remove();\n        const childNodes = el.getElementsByTagName('svg');\n        if (childNodes.length > 0) {\n          el.removeChild(childNodes[0]);\n        }\n      }\n      const { margin, width, height, className } = this.props;\n      const scale = {\n        x: 1 - (margin.left / width),\n        y: 1 - (margin.top / height),\n      };\n\n      // Reference to svg element containing chart\n      svg = select(el).append('svg')\n        .attr('class', className)\n        .attr('width', width)\n        .attr('height', height)\n        .attr('viewBox', `0 0 ${width} ${height}`)\n        .append('g')\n        .attr('transform', `translate(${margin.left},${margin.top}) scale(${scale.x},${scale.y})`);\n\n      const r = makeTip(this.props.tipContainer, tipContainer);\n      tipContent = r.tipContent;\n      tipContainer = r.tipContainer;\n    },\n\n    valuesCount(counts: IHistogramDataSet[]): number {\n      return counts.reduce((a: number, b: IHistogramDataSet): number => {\n        return b.data.length > a ? b.data.length : a;\n      }, 0);\n    },\n\n    /**\n     * Update a linear scale with range and domain values taken either from the compiled\n     * group data\n     */\n    appendDomainRange(scale: ScaleLinear<number, number>, data: IGroupData): void {\n      const yDomain: number[] = [];\n      const { domain, margin, height } = this.props;\n      const allCounts: number[] = data.reduce((prev: number[], next): number[] => {\n        return [...prev, ...next.map((n) => n.value)];\n      }, [0]);\n\n      const thisExtent = extent(allCounts, (d) => d);\n      yDomain[1] = domain && domain.hasOwnProperty('max') && domain.max !== null\n        ? domain.max\n        : thisExtent[1];\n      yDomain[0] = domain && domain.hasOwnProperty('min') && domain.min !== null\n        ? domain.min\n        : thisExtent[0];\n      const yRange = [height - (margin.top * 2) - xAxisHeight(this.props.axis), 0];\n      scale.range(yRange)\n        .domain(yDomain);\n    },\n\n    makeScales() {\n      this.xAxis = svg.append('g').attr('class', 'x-axis');\n      this.yAxis = svg.append('g').attr('class', 'y-axis');\n\n      this.xAxisLabel = svg.append('g');\n      this.yAxisLabel = svg.append('g');\n    },\n\n    /**\n     * Draw scales\n     */\n    _drawScales(data: IHistogramData) {\n      const { axis, margin, height } = this.props;\n      const valuesCount = this.valuesCount(data.counts);\n      const w = gridWidth(this.props);\n\n      const dataLabels = data.counts.map((c) => c.label);\n\n      x\n        .domain(data.bins)\n        .rangeRound([0, w])\n        .paddingInner(this.groupedMargin());\n\n      if (stacked) {\n        innerScaleBand\n          .domain(['main'])\n          .rangeRound([0, x.bandwidth()])\n          .paddingInner(this.barMargin());\n      } else {\n        innerScaleBand\n          .domain(dataLabels)\n          .rangeRound([0, x.bandwidth()])\n          .paddingInner(this.barMargin());\n      }\n      const xAxis = axisBottom(x);\n\n      const tickSize = get(axis, 'x.tickSize', undefined);\n      if (tickSize !== undefined) {\n        xAxis.tickSize(tickSize);\n      } else {\n        if (w / valuesCount < 10) {\n          // Show one in 10 x axis labels\n          xAxis.tickValues(x.domain().filter((d, i) => !(i % 10)));\n        }\n      }\n      if (axis.x.scale === 'TIME' && axis.x.dateFormat) {\n        xAxis.tickFormat(timeFormat(axis.x.dateFormat));\n      }\n\n      this.xAxis\n        .attr('transform', 'translate(' + (yAxisWidth(axis) + axis.y.style['stroke-width']) + ',' +\n          (height - xAxisHeight(this.props.axis) - (margin.left * 2)) + ')')\n        .call(xAxis);\n\n      this.appendDomainRange(y, this.dataSets);\n\n      const yAxis = axisLeft(y).ticks(axis.y.ticks);\n\n      const yTickSize = get(axis, 'y.tickSize', undefined);\n      if (yTickSize !== undefined) {\n        yAxis.tickSize(yTickSize);\n      }\n      if (axis.y.scale === 'TIME' && axis.y.dateFormat) {\n        yAxis.tickFormat(timeFormat(axis.y.dateFormat));\n      }\n      this.yAxis\n        .attr('transform', 'translate(' + yAxisWidth(axis) + ', 0)')\n        .transition()\n        .call(yAxis);\n\n      attrs(svg.selectAll('.y-axis .domain, .y-axis .tick line'), axis.y.style);\n      attrs(svg.selectAll('.y-axis .tick text'), axis.y.text.style);\n\n      attrs(svg.selectAll('.x-axis .domain, .x-axis .tick line'), axis.x.style);\n      attrs(svg.selectAll('.x-axis .tick text'), axis.x.text.style);\n    },\n\n    /**\n     * Returns the margin between similar bars in different data sets\n     */\n    groupedMargin(): number {\n      const m = get(this.props.bar, 'groupMargin', 0.1);\n      return m >= 0 && m <= 1\n        ? m\n        : 0.1;\n    },\n\n    barMargin(): number {\n      const m = get(this.props.bar, 'margin', 0);\n      return m >= 0 && m <= 1\n        ? m\n        : 0.1;\n    },\n\n    barWidth() {\n      return innerScaleBand.bandwidth();\n    },\n\n    /**\n     * Draw a single data set into the chart\n     */\n    updateChart(\n      bins: string[],\n      groupData: IGroupData,\n    ) {\n      const { axis, height, width, margin, delay, duration, tip } = this.props;\n      const barWidth = this.barWidth();\n\n      // const borderColors = set.borderColors ? d3.scaleOrdinal(set.borderColors) : null;\n      const colors = scaleOrdinal(this.props.colorScheme);\n      const gHeight = gridHeight(this.props);\n\n      const g = this.container\n        .selectAll('g')\n        .data(groupData);\n\n      const bars = g.enter()\n        .append('g')\n        .merge(g)\n        .attr('transform', (d) => {\n          const xdelta = yAxisWidth(axis)\n            + axis.y.style['stroke-width']\n            + x(d[0].label);\n          return `translate(${xdelta}, 0)`;\n        })\n        .selectAll('rect')\n        .data((d) => d);\n\n      // Don't ask why but we must reference tipContentFn as this.props.tipContentFn otherwise\n      // it doesn't update with props changes\n      const onMouseOver = (d: IGroupDataItem, i: number) => {\n        const ix = bins.findIndex((b) => b === d.label);\n        tipContent.html(() => this.props.tipContentFn(bins, ix, d.value));\n        tip.fx.in(tipContainer);\n      };\n\n      bars\n        .enter()\n        .append('rect')\n        .attr('height', 0)\n        .attr('y', (d: IGroupDataItem, stackIndex: number): number => {\n          const setIndex = bins.findIndex((b) => b === d.label);\n          const thisSetData = groupData[setIndex];\n          // @TODO stack charts\n          // const offset = stackIndex > 0\n          //   ? y(10)\n          //   : 0;\n          const offset = 0;\n          return gHeight - offset;\n        })\n        .attr('class', 'bar')\n        .on('mouseover', onMouseOver)\n        .on('mousemove', () => tip.fx.move(tipContainer))\n        .on('mouseout', () => tip.fx.out(tipContainer))\n        .merge(bars)\n        .attr('x', (d) => {\n          return innerScaleBand(d.groupLabel);\n        })\n        .attr('width', (d) => barWidth)\n        .attr('fill', (d, i) => colors(i))\n        .transition()\n        .duration(duration)\n        .delay(delay)\n        .attr('y', (d: IGroupDataItem, stackIndex: number): number => {\n          // const setIndex = bins.findIndex((b) => b === d.label);\n          // const thisSetData = groupData[setIndex];\n          // @TODO stack charts\n          // const offset = stackIndex > 0\n          //   ? 5\n          //   : 0;\n          const offset = 0;\n          return y(d.value + offset);\n        })\n        // Hide bar's bottom border\n        .attr('stroke-dasharray',\n          (d: IGroupDataItem): string => {\n            const currentHeight = gHeight - (y(d.value));\n            return `${barWidth} 0 ${currentHeight} ${barWidth}`;\n          })\n        .attr('height', (d: IGroupDataItem): number => gHeight - (y(d.value)));\n\n      bars.exit().remove();\n      g.exit().remove();\n\n      const xText = this.xAxisLabel\n        .selectAll('text')\n        .data([axis.x.label]);\n\n      xText.enter().append('text')\n        .attr('class', 'x-axis-label')\n        .merge(xText)\n        .attr('transform',\n          'translate(' + (width / 2) + ' ,' +\n          ((height - xAxisHeight(this.props.axis) - (margin.left * 2)) + axis.x.margin) + ')')\n        .style('text-anchor', 'middle')\n        .text((d) => d);\n\n      const yText = this.yAxisLabel\n        .selectAll('text')\n        .data([axis.y.label]);\n\n      yText.enter().append('text')\n        .attr('class', 'y-axis-label')\n        .merge(yText)\n        .attr('transform', 'rotate(-90)')\n        .attr('y', 0)\n        .attr('x', 0 - (gHeight / 2 - (margin.top * 2)))\n        .attr('dy', '1em')\n        .style('text-anchor', 'middle')\n        .text((d) => d);\n    },\n\n    makeGrid() {\n      this.gridX = svg.append('g')\n        .attr('class', 'grid gridX');\n      this.gridY = svg.append('g')\n        .attr('class', 'grid gridY');\n    },\n    /**\n     * Update chart\n     */\n    update(el: HTMLElement, props: IHistogramProps) {\n      if (!props.data) {\n        return;\n      }\n      this.mergeProps(props);\n      if (!this.props.data.bins) {\n        return;\n      }\n\n      const { data, visible } = this.props;\n      this.dataSets = [] as IGroupData;\n\n      data.counts.forEach((count) => {\n        count.data.forEach((value, i) => {\n          if (!this.dataSets[i]) {\n            this.dataSets[i] = [];\n          }\n          this.dataSets[i].push({\n            groupLabel: count.label,\n            label: data.bins[i],\n            value: visible[data.bins[i]] !== false && visible[count.label] !== false ? value : 0,\n          } as IGroupDataItem);\n        });\n      });\n\n      this._drawScales(this.props.data);\n      drawGrid(x, y, this.gridX, this.gridY, this.props, this.valuesCount(data.counts));\n      this.updateChart(data.bins, this.dataSets);\n    },\n\n    /**\n     * Any necessary clean up\n     */\n    destroy(el: HTMLElement) {\n      svg.selectAll('svg > *').remove();\n    },\n  };\n  return HistogramD3;\n});\n","import { rgb } from 'd3-color';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n\nimport { histogramD3 } from './HistogramD3';\n\nexport interface IChartAdaptor {\n  create: (el: Element | Text, props: { [key: string]: any }) => void;\n  update: (el: Element | Text, props: { [key: string]: any }) => void;\n  destroy: (el: Element | Text) => void;\n}\n\nexport interface IHistogramBar {\n  groupMargin?: number;\n  margin?: number;\n  width?: number;\n}\n\nexport interface IGrid {\n  x?: {\n    height?: number;\n    ticks?: number;\n    visible?: boolean;\n    style?: ISVGLineStyle;\n  };\n  y?: {\n    style?: ISVGLineStyle;\n    ticks?: number;\n    visible?: boolean;\n  };\n}\n\nexport interface IStroke {\n  color: ((d, i: number, colors: (i: number) => string) => string) | string;\n  dasharray?: string;\n  linecap?: string;\n  width: number;\n}\n\nexport interface IAxes {\n  y?: IAxis;\n  x?: IAxis;\n}\nexport interface IHistogramDataSet {\n  borderColors?: string[];\n  colors?: string[];\n  label: string;\n  data: number[];\n}\n\nexport interface IHistogramData {\n  bins: string[];\n  counts: IHistogramDataSet[];\n  colorScheme?: string[];\n  title?: string;\n  grid?: IGrid;\n}\n\nexport interface IDomain {\n  max: number;\n  min: number;\n}\n\nexport interface IMargin {\n  top?: number;\n  left?: number;\n  right?: number;\n  bottom?: number;\n}\nexport interface IHistogramProps {\n  axis?: IAxes;\n  bar?: IHistogramBar;\n  className?: string;\n  data: IHistogramData;\n  delay?: number;\n  duration?: number;\n  colorScheme?: string[];\n  domain?: IDomain;\n  grid?: IGrid;\n  height: number;\n  margin?: IMargin;\n  stroke?: IStroke;\n  tip?: any;\n  tipContainer?: string;\n  tipContentFn?: TipContentFn<string>;\n  visible?: { [key: string]: boolean };\n  width: number | string;\n}\n\ntype Scale = 'LINEAR' | 'TIME' | 'LOG';\n\nexport interface ISVGLineStyle {\n  'stroke'?: string;\n  'fill'?: string;\n  'opacity'?: number;\n  'stroke-width'?: number;\n  'stroke-opacity'?: number;\n  'shape-rendering'?: string;\n  'visible'?: boolean;\n}\n\ninterface ISVGTextStyle {\n  fill?: string;\n  'font-size'?: string;\n  dy?: string | number;\n  'stroke-opacity'?: number;\n  'text-anchor'?: string;\n  transform?: string;\n  x?: string | number;\n  y?: string | number;\n}\n\nexport interface IChartState {\n  parentWidth?: number;\n}\n\nexport interface IAxis {\n  dateFormat?: string;\n  numberFormat?: string;\n  ticks?: number;\n  tickValues?: number[];\n  height?: number;\n  label?: string;\n  margin?: number;\n  scale?: Scale;\n  style?: ISVGLineStyle;\n  text?: {\n    style: ISVGTextStyle;\n  };\n  width?: number;\n  tickSize?: number;\n  visible?: boolean;\n}\n\nexport type TipContentFn<T> = (bins: T[], i: number, d: number, groupTitle?: string) => string;\n\n/**\n * Histogram component\n */\nclass Histogram extends React.Component<IHistogramProps, IChartState> {\n\n  private chart: IChartAdaptor;\n  private ref;\n\n  public static defaultProps: Partial<IHistogramProps> = {\n    axis: {},\n    bar: {\n      margin: 0,\n      width: 10,\n    },\n    grid: {\n      x: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n      y: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n    },\n    height: 200,\n    margin: {\n      left: 5,\n      top: 5,\n    },\n    stroke: {\n      color: (d, i, colors) => rgb(colors(i)).darker(1).toString(),\n      width: 1,\n    },\n    tipContentFn: (bins: string[], i, d) =>\n      bins[i] + '<br />' + d.toFixed(2),\n    width: '100%',\n  };\n\n  /**\n   * Constructor\n   * @param {Object} props\n   */\n  constructor(props: IHistogramProps) {\n    super(props);\n    this.chart = histogramD3();\n    this.state = {\n      parentWidth: 300,\n    };\n  }\n\n  /**\n   * Handle the page resize\n   */\n  private handleResize() {\n    const elem = this.getDOMNode();\n    const width = (this.ref && this.ref.offsetWidth) ? this.ref.offsetWidth : 0;\n\n    this.setState({\n      parentWidth: width,\n    }, () => this.chart.create(elem, this.getChartState()));\n  }\n\n  /**\n   * Component mounted\n   */\n  public componentDidMount() {\n    this.chart.create(this.getDOMNode(), this.getChartState());\n    if (this.props.width === '100%') {\n      window.addEventListener('resize', (e) => this.handleResize());\n      this.handleResize();\n    }\n  }\n\n  /**\n   * Component updated\n   */\n  public componentDidUpdate() {\n    this.chart.update(this.getDOMNode(), this.getChartState());\n  }\n\n  /**\n   * Get the chart state\n   * @return {Object} ChartState\n   */\n  public getChartState(): IHistogramProps {\n    let { width } = this.props;\n    const { children, ...rest } = this.props;\n    if (width === '100%') {\n      width = this.state.parentWidth || 300;\n    }\n\n    return {\n      ...rest,\n      width,\n    };\n  }\n\n  /**\n   * Component will un mount, remove the chart and\n   * any event listeners\n   */\n  public componentWillUnmount() {\n    if (this.props.width === '100%') {\n      window.removeEventListener('resize', this.handleResize);\n    }\n    this.chart.destroy(this.getDOMNode());\n  }\n\n  /**\n   * Get the chart's dom node\n   * @return {Element} dom noe\n   */\n  private getDOMNode() {\n    return ReactDOM.findDOMNode(this.ref);\n  }\n\n  /**\n   * Render\n   * @return {Dom} node\n   */\n  public render(): JSX.Element {\n    return (<div ref={(ref) => this.ref = ref} className=\"histogram-chart-container\"></div>);\n  }\n}\n\nexport default Histogram;\n","export default ['#4bbcad',\n  '#d54539',\n  '#5ab94d',\n  '#8a5cd3',\n  '#a4b243',\n  '#ba5ccd',\n  '#54995c',\n  '#cf47a1',\n  '#d29f3e',\n  '#5c6fda',\n  '#c36528',\n  '#5fa6dc',\n  '#d74770',\n  '#7d7430',\n  '#8a529e',\n  '#df9273',\n  '#5f74b8',\n  '#ac5450',\n  '#d192d7',\n  '#b26088'];\n","import { ISVGLineStyle } from '../Histogram';\n\n/**\n * Apply style object to a d3 selection\n * @param {Object} selection D3 selection\n * @param {Object} style Css styling\n * @return {Object} selection\n */\nexport default (selection, style: ISVGLineStyle) => {\n  Object.keys(style).forEach((k: string) => {\n    selection.attr(k, style[k]);\n  });\n  return selection;\n};\n","import { event } from 'd3-selection';\nimport { select } from 'd3-selection';\n\nexport default {\n  fx: {\n    in: (container) => {\n      container.style('left', (event.pageX) + 'px')\n        .style('top', (event.pageY - 55) + 'px');\n      container.transition()\n        .duration(200)\n        .style('opacity', 0.9);\n    },\n    move: (container) => {\n      container.style('left', (event.pageX) + 'px')\n        .style('top', (event.pageY - 55) + 'px');\n    },\n    out: (container) => {\n      container.transition()\n        .duration(100)\n        .style('opacity', 0);\n    },\n  },\n};\n\nexport const makeTip = (selector, tipContainer): { tipContainer: any, tipContent: any } => {\n  if (tipContainer) {\n    // Chart could be rebuilt - remove old tip\n    tipContainer.remove();\n  }\n  tipContainer = select(selector).append('div')\n    .attr('class', 'tooltip top')\n    .style('opacity', 0);\n\n  tipContainer.append('div')\n    .attr('class', 'tooltip-arrow');\n  return {\n    tipContainer,\n    tipContent: tipContainer.append('div')\n      .attr('class', 'tooltip-inner'),\n  };\n};\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import * as Color from 'color';\n\nexport default (colors) => {\n  return colors.filter((value) => {\n    try {\n      const c = Color(value);\n      const hsl = c.hsl().array();\n      if (hsl.length > 3) {\n        // remove alpha colours\n        return false;\n      }\n      const luminosity = c.luminosity();\n      return ((luminosity < 0.8 && luminosity > 0.1) && (hsl[2] < 200 && hsl[2] > 20)) // not too light\n        ; // not too dark\n    } catch (e) {\n      return false;\n    }\n  })\n    .filter((v, index, self) => self.indexOf(v) === index)\n    .sort(() => Math.random() - 0.5);\n};\n","/**\n * SEO component that queries for data with\n *  Gatsby's useStaticQuery React hook\n *\n * See: https://www.gatsbyjs.org/docs/use-static-query/\n */\nimport {\n  graphql,\n  useStaticQuery,\n} from 'gatsby';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Helmet from 'react-helmet';\n\nfunction SEO({ description, lang, meta, keywords, title }) {\n  const { site } = useStaticQuery(\n    graphql`\n      query {\n        site {\n          siteMetadata {\n            title\n            description\n            author\n          }\n        }\n      }\n    `,\n  );\n\n  const metaDescription = description || site.siteMetadata.description;\n\n  return (\n    <Helmet\n      htmlAttributes={{\n        lang,\n      }}\n      title={title}\n      titleTemplate={`%s | ${site.siteMetadata.title}`}\n      meta={[\n        {\n          content: metaDescription,\n          name: `description`,\n        },\n        {\n          content: title,\n          property: `og:title`,\n        },\n        {\n          content: metaDescription,\n          property: `og:description`,\n        },\n        {\n          content: `website`,\n          property: `og:type`,\n        },\n        {\n          content: `summary`,\n          name: `twitter:card`,\n        },\n        {\n          content: site.siteMetadata.author,\n          name: `twitter:creator`,\n        },\n        {\n          content: title,\n          name: `twitter:title`,\n        },\n        {\n          content: metaDescription,\n          name: `twitter:description`,\n        },\n      ]\n        .concat(\n          keywords.length > 0\n            ? {\n              content: keywords.join(`, `),\n              name: `keywords`,\n            }\n            : [],\n        )\n        .concat(meta)}\n    />\n  );\n}\n\nSEO.defaultProps = {\n  keywords: [],\n  lang: `en`,\n  meta: [],\n};\n\nSEO.propTypes = {\n  description: PropTypes.string,\n  keywords: PropTypes.arrayOf(PropTypes.string),\n  lang: PropTypes.string,\n  meta: PropTypes.array,\n  title: PropTypes.string.isRequired,\n};\n\nexport default SEO;\n","import { Link } from 'gatsby';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {\n  AppBar,\n  Button,\n  Toolbar,\n  Typography,\n} from '@material-ui/core';\n\nconst Header = ({ siteTitle }) => (\n  <AppBar position=\"static\">\n    <Toolbar>\n      <Typography variant=\"h6\" color=\"inherit\" >\n        <Link to=\"/\">{siteTitle}</Link>\n      </Typography>\n\n      <Button><Link to=\"/histogram\">Histogram</Link></Button>\n      <Button><Link to=\"/line\">Line Chart</Link></Button>\n      <Button><Link to=\"/pie\">Pie Chart</Link></Button>\n      <Button><Link to=\"/joyplot\">Joy Plot</Link></Button>\n      {/* <Button><Link to=\"/map\">Map</Link></Button> */}\n    </Toolbar>\n  </AppBar>\n);\n\nHeader.propTypes = {\n  siteTitle: PropTypes.string,\n};\n\nHeader.defaultProps = {\n  siteTitle: ``,\n};\n\nexport default Header;\n","import './layout.css';\n\n/**\n * Layout component that queries for data\n * with Gatsby's StaticQuery component\n *\n * See: https://www.gatsbyjs.org/docs/static-query/\n */\nimport {\n  graphql,\n  StaticQuery,\n} from 'gatsby';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Header from './header';\n\nconst Layout = ({ children }) => (\n  <StaticQuery\n    query={graphql`\n      query SiteTitleQuery {\n        site {\n          siteMetadata {\n            title\n          }\n        }\n      }\n    `}\n    render={(data) => (\n      <>\n        <Header siteTitle={data.site.siteMetadata.title} />\n        <div\n          style={{\n            flexGrow: 2,\n            margin: `0 auto`,\n            padding: `0px 1.0875rem 1.45rem`,\n            paddingTop: 0,\n            width: '100%',\n          }}\n        >\n          <main>{children}</main>\n\n        </div>\n        <footer>\n           {new Date().getFullYear()}, Built by\n            {` `}\n          <a href=\"https://www.infosum.com\">InfoSum</a>\n        </footer>\n      </>\n    )}\n  />\n);\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Layout;\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import { extent } from 'd3-array';\nimport { axisBottom, axisLeft } from 'd3-axis';\nimport { scaleBand, scaleLinear, ScaleLinear, scaleOrdinal } from 'd3-scale';\nimport { select } from 'd3-selection';\nimport * as merge from 'deepmerge';\nimport * as get from 'lodash.get';\nimport colorScheme from './colors';\nimport attrs from './d3/attrs';\nimport { IChartAdaptor, IHistogramData, IHistogramDataSet } from './Histogram';\nimport { IJoyPlotProps } from './JoyPlot';\nimport tips, { makeTip } from './tip';\n\ninterface IGroupDataItem {\n  label: string;\n  value: number;\n}\n\ntype IGroupData = IGroupDataItem[][];\n\nexport const joyPlotD3 = ((): IChartAdaptor => {\n  let svg;\n  let tipContainer;\n  let tipContent;\n  let props: IJoyPlotProps;\n  let dataSets: IGroupData[];\n  const yOuterScaleBand = scaleBand();\n  const y = scaleLinear();\n  const x = scaleBand();\n  const innerScaleBand = scaleBand();\n\n  // Gridlines in x axis function\n  function make_x_gridlines(ticks: number = 5) {\n    return axisBottom(x)\n      .ticks(ticks);\n  }\n\n  // Gridlines in y axis function\n  function make_y_gridlines(ticks: number = 5) {\n    return axisLeft(yOuterScaleBand)\n      .ticks(ticks);\n  }\n\n  const defaultProps: IJoyPlotProps = {\n    axis: {\n      x: {\n        height: 20,\n        label: '',\n        margin: 10,\n        style: {\n          'fill': 'none',\n          'shape-rendering': 'crispEdges',\n          'stroke': '#666',\n          'stroke-opacity': 1,\n          'stroke-width': 1,\n        },\n        text: {\n          style: {\n            fill: '#666',\n          },\n        },\n      },\n      y: {\n        label: '',\n        style: {\n          'fill': 'none',\n          'shape-rendering': 'crispEdges',\n          'stroke': '#666',\n          'stroke-opacity': 1,\n          'stroke-width': 1,\n        },\n        text: {\n          style: {\n            fill: '#666',\n          },\n        },\n        ticks: 10,\n        width: 25,\n      },\n    },\n    bar: {\n      groupMargin: 0,\n      margin: 0,\n      width: 50,\n    },\n    className: 'histogram-d3',\n    colorScheme,\n    data: [{\n      bins: [],\n      counts: [],\n    }],\n    delay: 0,\n    domain: {\n      max: null,\n      min: null,\n    },\n    duration: 400,\n    grid: {\n      x: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n      y: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n    },\n    height: 200,\n    margin: {\n      left: 5,\n      top: 5,\n    },\n    stroke: {\n      color: '#005870',\n      dasharray: '',\n      linecap: 'butt',\n      width: 0,\n    },\n    tip: tips,\n    tipContainer: 'body',\n    tipContentFn: (bins, i, d, joyTitle): string =>\n      joyTitle + ': ' +\n      bins[i] + '<br />' + d,\n    visible: {},\n    width: 200,\n  };\n\n  const JoyPlotD3 = {\n    /**\n     * Initialization\n     * @param {Node} el Target DOM node\n     * @param {Object} props Chart properties\n     */\n    create(el: HTMLElement, newProps: Partial<IJoyPlotProps> = {}) {\n      this.mergeProps(newProps);\n      this._makeSvg(el);\n      this.makeGrid(props);\n      this.makeScales();\n      this.containers = props.data.map((d, i) => svg\n        .append('g')\n        .attr('class', `histogram-container-${i}`),\n      );\n\n      this.update(el, props);\n    },\n\n    mergeProps(newProps: Partial<IJoyPlotProps>) {\n      props = merge<IJoyPlotProps>(defaultProps, newProps);\n      props.data = newProps.data;\n      if (newProps.colorScheme) {\n        props.colorScheme = newProps.colorScheme;\n      }\n    },\n\n    /**\n     * Make the SVG container element\n     * Recreate if it previously existed\n     * @param {Dom} el Dom container node\n     */\n    _makeSvg(el) {\n      if (svg) {\n        svg.selectAll('svg > *').remove();\n        svg.remove();\n        const childNodes = el.getElementsByTagName('svg');\n        if (childNodes.length > 0) {\n          el.removeChild(childNodes[0]);\n        }\n      }\n      const { margin, width, height, className } = props;\n\n      // Reference to svg element containing chart\n      svg = select(el).append('svg')\n        .attr('class', className)\n        .attr('width', width)\n        .attr('height', height)\n        .attr('viewBox', `0 0 ${width} ${height}`)\n        .append('g')\n        .attr('transform',\n          'translate(' + margin.left + ',' + margin.top + ')');\n      const r = makeTip(props.tipContainer, tipContainer);\n      tipContent = r.tipContent;\n      tipContainer = r.tipContainer;\n    },\n\n    /**\n     * Get a max count of values in each data set\n     * @param {Object} counts Histogram data set values\n     * @return {Number} count\n     */\n    valuesCount(counts: IHistogramDataSet[]): number {\n      return counts.reduce((a: number, b: IHistogramDataSet): number => {\n        return b.data.length > a ? b.data.length : a;\n      }, 0);\n    },\n\n    /**\n     * Update a linear scale with range and domain values taken either from the compiled\n     * group data\n     */\n    appendDomainRange(scale: ScaleLinear<number, number>, data: IGroupData[]): void {\n      const yDomain: number[] = [];\n      const { domain } = props;\n\n      const allCounts: number[] = data.reduce((prev, next) => {\n        const thisCounts: number[] = next.reduce((p, n) => {\n          return [...p, ...n.map((item) => item.value)];\n        }, [] as number[]);\n        return [...prev, ...thisCounts];\n      }, [0]);\n\n      const thisExtent = extent(allCounts, (d) => d);\n      yDomain[1] = domain && domain.hasOwnProperty('max') && domain.max !== null\n        ? domain.max\n        : thisExtent[1];\n      yDomain[0] = domain && domain.hasOwnProperty('min') && domain.min !== null\n        ? domain.min\n        : thisExtent[0];\n      const yRange = [yOuterScaleBand.bandwidth(), 0];\n      scale.range(yRange)\n        .domain(yDomain);\n    },\n\n    yAxisWidth() {\n      const { axis } = props;\n      return axis.y.label === ''\n        ? axis.y.width\n        : axis.y.width + 30;\n    },\n\n    xAxisHeight() {\n      const { axis } = props;\n      return axis.x.label === ''\n        ? axis.x.height\n        : axis.x.height + 30;\n    },\n\n    makeScales() {\n      const { axis, margin, height, width } = props;\n      this.xAxis = svg.append('g').attr('class', 'x-axis');\n      this.yAxis = svg.append('g').attr('class', 'y-axis');\n\n      if (axis.x.label !== '') {\n        svg.append('text')\n          .attr('class', 'x-axis-label')\n          .attr('transform',\n            'translate(' + (Number(width) / 2) + ' ,' +\n            ((height - this.xAxisHeight() - (margin.left * 2)) + 10 + axis.x.margin) + ')')\n          .style('text-anchor', 'middle')\n          .text(axis.x.label);\n      }\n\n      if (axis.y.label !== '') {\n        svg.append('text')\n          .attr('class', 'y-axis-label')\n          .attr('transform', 'translate(0, -' + this.gridHeight() + ')rotate(-90)')\n          .attr('y', 0 - margin.left)\n          .attr('x', 0 - (height / 2 - (margin.top * 2)))\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .text(axis.y.label);\n      }\n    },\n\n    getBins() {\n      return props.data.reduce((prev, next) => {\n        return Array.from(new Set(prev.concat(next.bins)));\n      }, [] as string[]);\n    },\n\n    /**\n     * Draw scales\n     * @param {Object} data Chart data\n     */\n    _drawScales(data: IHistogramData[]) {\n      const { bar, domain, margin, width, height, axis } = props;\n      const valuesCount = data.reduce((prev, next) => {\n        const c = this.valuesCount(next.counts);\n        return c > prev ? c : prev;\n      }, 0);\n      const w = this.gridWidth();\n\n      let xAxis;\n      const dataLabels = data[0].counts.map((c) => c.label);\n\n      const bins = this.getBins();\n      x\n        .domain(bins)\n        .rangeRound([0, w])\n        .paddingInner(this.groupedMargin());\n\n      innerScaleBand\n        .domain(dataLabels)\n        .rangeRound([0, x.bandwidth()])\n        .paddingInner(this.barMargin());\n\n      xAxis = axisBottom(x);\n\n      const tickSize = get(axis, 'x.tickSize', undefined);\n      if (tickSize !== undefined) {\n        xAxis.tickSize(tickSize);\n      } else {\n        if (w / valuesCount < 10) {\n          // Show one in 10 x axis labels\n          xAxis.tickValues(x.domain().filter((d, i) => !(i % 10)));\n        }\n      }\n\n      this.xAxis\n        .attr('transform', 'translate(' + (this.yAxisWidth() + axis.y.style['stroke-width']) + ',' +\n          (height - this.xAxisHeight() - (margin.left * 2)) + ')')\n        .call(xAxis);\n\n      const yLabels = data.map((d) => d.title);\n      const yOuterBounds: [number, number] = [height - (margin.top * 2) - this.xAxisHeight(), 0];\n      yOuterScaleBand.domain(yLabels)\n        .rangeRound(yOuterBounds);\n\n      this.appendDomainRange(y, dataSets);\n\n      const yAxis = axisLeft(yOuterScaleBand).ticks(axis.y.ticks);\n\n      const yTickSize = get(axis, 'y.tickSize', undefined);\n      if (yTickSize !== undefined) {\n        yAxis.tickSize(yTickSize);\n      }\n\n      this.yAxis\n        .attr('transform', 'translate(' + this.yAxisWidth() + ', 0)')\n        .transition()\n        .call(yAxis);\n\n      const { ...xLabelStyle } = axis.x.text.style;\n      const { ...yLabelStyle } = axis.y.text.style;\n      attrs(svg.selectAll('.y-axis .domain, .y-axis .tick line'), axis.y.style);\n      attrs(svg.selectAll('.y-axis .tick text'), axis.y.text.style);\n\n      attrs(svg.selectAll('.x-axis .domain, .x-axis .tick line'), axis.x.style);\n      attrs(svg.selectAll('.x-axis .tick text'), axis.x.text.style);\n    },\n\n    /**\n     * Calculate the width of the area used to display the\n     * chart bars. Removes chart margins and Y axis from\n     * chart total width.\n     * @return {number} width\n     */\n    gridWidth(): number {\n      const { axis, width, margin } = props;\n      return Number(width) - (margin.left * 2) - this.yAxisWidth();\n    },\n\n    /**\n     * Calculate the height of the area used to display the\n     * chart bars. Removes chart margins and X axis from\n     * chart total height.\n     * @return {number} width\n     */\n    gridHeight(): number {\n      const { height, margin, axis } = props;\n      return height - (margin.top * 2) - this.xAxisHeight();\n    },\n\n    /**\n     * Returns the margin between similar bars in different data sets\n     * @return {Number} Margin\n     */\n    groupedMargin(): number {\n      const m = get(props.bar, 'groupMargin', 0.1);\n      return m >= 0 && m <= 1\n        ? m\n        : 0;\n    },\n\n    barMargin(): number {\n      const m = get(props.bar, 'margin', 0);\n      return m >= 0 && m <= 1\n        ? m\n        : 0.1;\n    },\n\n    /**\n     * Calculate the bar width\n     * @return {number} bar width\n     */\n    barWidth() {\n      return innerScaleBand.bandwidth();\n    },\n\n    /**\n     * Draw a single data set into the chart\n     */\n    updateChart(\n      groupData: IGroupData[],\n    ) {\n      const bins = this.getBins();\n      const { height, width, margin, bar, delay, duration,\n        axis, stroke, tip, tipContentFn } = props;\n      const barWidth = this.barWidth();\n\n      const colors = scaleOrdinal(props.colorScheme);\n      const borderColors = scaleOrdinal(['#FFF']);\n\n      const yAxisWidth = this.yAxisWidth();\n      const groupedMargin = this.groupedMargin();\n\n      const maxItems = groupData.reduce((prev, next) => {\n        const thisMax = next.reduce((p, n) => n.length > p ? n.length : p, 0);\n        return thisMax > prev ? thisMax : prev;\n      }, 0);\n      groupData.forEach((data, i) => {\n        const joyTitle = props.data[i].title;\n        const g = this.containers[i]\n          .selectAll('g')\n          .data(data);\n\n        const bars = g.enter()\n          .append('g')\n          .merge(g)\n          .attr('transform', (d) => {\n            const xdelta = yAxisWidth\n              + axis.y.style['stroke-width']\n              + x(d[0].label);\n\n            const ydelta = yOuterScaleBand(d[0].joyLabel);\n            return `translate(${xdelta}, ${ydelta})`;\n          })\n          .selectAll('rect')\n          .data((d) => d);\n\n        bars\n          .enter()\n          .append('rect')\n          .attr('height', 0)\n          .attr('y', (d: IGroupDataItem): number => yOuterScaleBand.bandwidth())\n\n          .attr('class', 'bar')\n          .attr('x', (d) => innerScaleBand(d.groupLabel))\n          .attr('width', (d) => barWidth)\n          .attr('fill', (d, ix) => colors(ix))\n\n          .on('mouseover', (d: IGroupDataItem) => {\n            const ix = bins.findIndex((b) => b === d.label);\n            tipContent.html(() => tipContentFn(bins, ix, d.value, joyTitle));\n            tip.fx.in(tipContainer);\n          })\n          .on('mousemove', () => tip.fx.move(tipContainer))\n          .on('mouseout', () => tip.fx.out(tipContainer))\n          .merge(bars)\n          .transition()\n          .duration(duration)\n          .delay(delay)\n          .attr('y', (d: IGroupDataItem): number => y(d.value))\n          .attr('stroke', (d, ix) => {\n            if (borderColors) {\n              return borderColors(ix);\n            }\n          })\n          .attr('shape-rendering', 'crispEdges')\n          .attr('stroke-width', stroke.width)\n          .attr('stroke-linecap', stroke.linecap)\n\n          // Hide bar's bottom border\n          .attr('stroke-dasharray',\n            (d: IGroupDataItem): string => {\n              const currentHeight = yOuterScaleBand.bandwidth() - y(d.value);\n              return `${barWidth} 0 ${currentHeight} ${barWidth}`;\n            })\n          .attr('height', (d: IGroupDataItem): number =>\n            yOuterScaleBand.bandwidth() - y(d.value),\n        );\n\n        g.exit().remove();\n      });\n    },\n\n    makeGrid(props: IJoyPlotProps) {\n      const { grid } = props;\n      this.gridX = svg.append('g')\n        .attr('class', 'grid gridX');\n      this.gridY = svg.append('g')\n        .attr('class', 'grid gridY');\n    },\n\n    /**\n     * Draw a grid onto the chart background\n     * @param {Object} props Props\n     */\n    _drawGrid() {\n      const { data, height, width, axis, grid, margin, bar } = props;\n      const ticks = data.reduce((prev, next) => {\n        const c = this.valuesCount(next.counts);\n        return c > prev ? prev : c;\n      }, 0);\n      const axisWidth = axis.y.style['stroke-width'];\n\n      const offset = {\n        x: this.yAxisWidth() + axisWidth,\n        y: this.gridHeight(),\n      };\n\n      if (grid.x.visible) {\n        // Add the X gridlines\n        this.gridX.attr('transform', `translate(${offset.x}, ${offset.y})`);\n\n        this.gridX.call(make_x_gridlines(get(grid, 'x.ticks', ticks))\n          .tickSize(-height + this.xAxisHeight() + (margin.top * 2))\n          .tickFormat(() => ''));\n\n        attrs(this.gridX.selectAll('.tick line'), grid.x.style);\n        attrs(this.gridX.selectAll('.domain'), { stroke: 'transparent' });\n      }\n\n      if (grid.y.visible) {\n        // add the Y gridlines\n        this.gridY.attr('transform', 'translate(' + (this.yAxisWidth() + axisWidth) + ', 0)')\n          .transition()\n          .call(make_y_gridlines(get(grid, 'y.ticks', ticks))\n            .tickSize(-width + (margin.left * 2) + this.yAxisWidth())\n            .tickFormat(() => ''),\n        );\n\n        attrs(this.gridY.selectAll('.tick line'), grid.y.style);\n\n        // Hide the first horizontal grid line to show axis\n        this.gridY.selectAll('.gridY .tick line').filter((d, i) => i === 0)\n          .attr('display', 'none');\n        attrs(this.gridY.selectAll('.domain'), { stroke: 'transparent' });\n      }\n    },\n\n    /**\n     * Update chart\n     * @param {HTMLElement} el Chart element\n     * @param {Object} props Chart props\n     */\n    update(el: HTMLElement, newProps: IJoyPlotProps) {\n      if (!props.data) {\n        return;\n      }\n      this.mergeProps(newProps);\n      const { data, visible } = props;\n\n      dataSets = data.map((d) => {\n        const lineData = [] as IGroupData;\n        d.counts.forEach((count) => {\n          count.data.forEach((value, i) => {\n            if (!lineData[i]) {\n              lineData[i] = [];\n            }\n            lineData[i].push({\n              groupLabel: count.label,\n              joyLabel: d.title,\n              label: d.bins[i],\n              value: visible[d.bins[i]] !== false && visible[count.label] !== false ? value : 0,\n            } as IGroupDataItem);\n          });\n        });\n        return lineData;\n      });\n\n      this._drawScales(props.data);\n      this._drawGrid();\n      this.updateChart(dataSets);\n    },\n\n    /**\n     * Any necessary clean up\n     * @param {Element} el To remove\n     */\n    destroy(el: HTMLElement) {\n      svg.selectAll('svg > *').remove();\n    },\n  };\n  return JoyPlotD3;\n});\n","import { rgb } from 'd3-color';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n\nimport {\n  IAxes,\n  IChartAdaptor,\n  IChartState,\n  IDomain,\n  IGrid,\n  IHistogramBar,\n  IHistogramData,\n  IMargin,\n  IStroke,\n  TipContentFn,\n} from './Histogram';\nimport { joyPlotD3 } from './JoyplotD3';\n\nexport interface IJoyPlotProps {\n  axis?: IAxes;\n  bar?: IHistogramBar;\n  className?: string;\n  data: IHistogramData[];\n  delay?: number;\n  duration?: number;\n  colorScheme?: string[];\n  domain?: IDomain;\n  grid?: IGrid;\n  height: number;\n  margin?: IMargin;\n  stroke?: IStroke;\n  tip?: any;\n  tipContainer?: string;\n  tipContentFn?: TipContentFn<string>;\n  visible?: { [key: string]: boolean };\n  width: number | string;\n}\n\n/**\n * Histogram component\n */\nclass Histogram extends React.Component<IJoyPlotProps, IChartState> {\n\n  private chart: IChartAdaptor;\n  private ref;\n\n  public static defaultProps: Partial<IJoyPlotProps> = {\n    axis: {},\n    bar: {\n      margin: 0,\n      width: 10,\n    },\n    grid: {\n      x: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n      y: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n    },\n    height: 200,\n    margin: {\n      left: 5,\n      top: 5,\n    },\n    stroke: {\n      color: (d, i, colors) => rgb(colors(i)).darker(1).toString(),\n      width: 1,\n    },\n    width: '100%',\n  };\n\n  /**\n   * Constructor\n   * @param {Object} props\n   */\n  constructor(props: IJoyPlotProps) {\n    super(props);\n    this.chart = joyPlotD3();\n    this.state = {\n      parentWidth: 300,\n    };\n  }\n\n  /**\n   * Handle the page resize\n   */\n  private handleResize() {\n    const elem = this.getDOMNode();\n    const width = (this.ref && this.ref.offsetWidth) ? this.ref.offsetWidth : 0;\n\n    this.setState({\n      parentWidth: width,\n    }, () => this.chart.create(elem, this.getChartState()));\n  }\n\n  /**\n   * Component mounted\n   */\n  public componentDidMount() {\n    this.chart.create(this.getDOMNode(), this.getChartState());\n    if (this.props.width === '100%') {\n      window.addEventListener('resize', (e) => this.handleResize());\n      this.handleResize();\n    }\n  }\n\n  /**\n   * Component updated\n   */\n  public componentDidUpdate() {\n    this.chart.update(this.getDOMNode(), this.getChartState());\n  }\n\n  /**\n   * Get the chart state\n   * @return {Object} ChartState\n   */\n  public getChartState(): IJoyPlotProps {\n    let { width } = this.props;\n    const { children, ...rest } = this.props;\n    if (width === '100%') {\n      width = this.state.parentWidth || 300;\n    }\n    return {\n      ...rest,\n      width,\n    };\n  }\n\n  /**\n   * Component will un mount, remove the chart and\n   * any event listeners\n   */\n  public componentWillUnmount() {\n    if (this.props.width === '100%') {\n      window.removeEventListener('resize', this.handleResize);\n    }\n    this.chart.destroy(this.getDOMNode());\n  }\n\n  /**\n   * Get the chart's dom node\n   * @return {Element} dom noe\n   */\n  private getDOMNode() {\n    return ReactDOM.findDOMNode(this.ref);\n  }\n\n  /**\n   * Render\n   * @return {Dom} node\n   */\n  public render(): JSX.Element {\n    return (<div ref={(ref) => this.ref = ref} className=\"histogram-chart-container\"></div>);\n  }\n}\n\nexport default Histogram;\n","import { scaleOrdinal } from 'd3-scale';\nimport * as React from 'react';\n\nimport colorScheme from './colors';\nimport { IHistogramDataSet } from './Histogram';\n\ninterface IProps {\n  className?: string;\n  theme?: string[];\n  data: {\n    bins: string[],\n    counts: IHistogramDataSet[];\n  };\n  onSelect: (label: string) => void;\n  visible: { [key: string]: boolean };\n}\n\nconst legendIconStyle = {\n  cursor: 'pointer',\n  display: 'inline-block',\n  height: '1rem',\n  margin: '0.25rem 0.5rem',\n  width: '1rem',\n};\n\nconst listStyle = {\n  listStyle: 'none',\n};\n\nconst Legend: React.SFC<IProps> = ({ className, theme = colorScheme, data, onSelect, visible }) => {\n  const scheme: any = scaleOrdinal(theme);\n  const labels = data.bins;\n  return (\n    <div className={className}>\n      <ul style={listStyle}>\n        {\n          labels.map((label) => {\n            const active = (visible.hasOwnProperty(label) && visible[label]) || !visible.hasOwnProperty(label);\n            return (\n              <li key={label}>\n                <div style={{\n                  ...legendIconStyle,\n                  backgroundColor: active ? scheme(label) : '#FFF',\n                  border: '2px solid ' + scheme(label),\n                }}\n                  onClick={() => onSelect(label)}>\n                </div> {label}\n              </li>\n            );\n          })\n        }\n      </ul>\n    </div>\n  );\n};\n\nexport default Legend;\n","import 'd3-transition';\n\nimport { interpolate } from 'd3-interpolate';\nimport { scaleOrdinal } from 'd3-scale';\nimport { select } from 'd3-selection';\nimport {\n  arc,\n  pie,\n  PieArcDatum,\n} from 'd3-shape';\nimport * as merge from 'deepmerge';\nimport * as get from 'lodash.get';\n\nimport colorScheme from './colors';\nimport {\n  IChartAdaptor,\n  IHistogramDataSet,\n} from './Histogram';\nimport {\n  IPieChartProps,\n  IPieDataItem,\n} from './PieChart';\nimport tips, { makeTip } from './tip';\n\nexport const pieChartD3 = ((): IChartAdaptor => {\n\n  let svg;\n  let tipContainer;\n  let tipContent;\n\n  const defaultProps: IPieChartProps = {\n    backgroundColor: '#ddd',\n    className: 'piechart-d3',\n    colorScheme,\n    data: {\n      bins: [],\n      counts: [],\n    },\n    donutWidth: 0,\n    height: 200,\n    labels: {\n      display: true,\n      displayFn: (d, ix) => d.value,\n    },\n    margin: {\n      left: 10,\n      top: 10,\n    },\n    tip: tips,\n    tipContainer: 'body',\n    tipContentFn: (bins: string[], i: number, d: number, groupLabel): string => {\n      return groupLabel + ': ' + bins[i] + '<br />' + d;\n    },\n    visible: {},\n    width: 200,\n  };\n\n  const PieChartD3 = {\n\n    create(el: HTMLElement, props: Partial<IPieChartProps> = {}) {\n      this.props = merge(defaultProps, { ...props });\n      this.previousData = props.data.counts.map((set: IHistogramDataSet, setIndex: number) => {\n        return set.data\n          .map((count, i) => ({\n            count,\n            groupLabel: set.label,\n            label: props.data.bins[i],\n          }));\n      });\n      this._makeSvg(el);\n      this.containers = [];\n      this.previousData.forEach((dataSet, i) => {\n        this.drawChartBg(this.props.data, i);\n      });\n\n      this.update(el, props);\n    },\n\n    _makeSvg(el) {\n      if (svg) {\n        svg.selectAll('svg > *').remove();\n        svg.remove();\n        const childNodes = el.getElementsByTagName('svg');\n        if (childNodes.length > 0) {\n          el.removeChild(childNodes[0]);\n        }\n      }\n      const { margin, width, height, className } = this.props;\n\n      // Reference to svg element containing chart\n      svg = select(el).append('svg')\n        .attr('class', className)\n        .attr('width', width)\n        .attr('height', height)\n        .attr('viewBox', `0 0 ${width} ${height}`)\n        .append('g')\n        .attr('transform',\n          'translate(' + margin.left + ',' + margin.top + ')');\n\n      const r = makeTip(this.props.tipContainer, tipContainer);\n      tipContent = r.tipContent;\n      tipContainer = r.tipContainer;\n    },\n\n    update(el: HTMLElement, props: Partial<IPieChartProps>) {\n      if (!props.data) {\n        return;\n      }\n      this.props = merge(defaultProps, props);\n      if (props.colorScheme) {\n        this.props.colorScheme = props.colorScheme;\n      }\n      // this._makeSvg(el);\n      if (!this.props.data.bins) {\n        return;\n      }\n\n      this.drawCharts();\n    },\n\n    outerRadius(setIndex = 0) {\n      const { donutWidth = 0, width, height } = this.props;\n\n      const radius = Math.min(width, height) / 2;\n      return donutWidth === 0\n        ? radius - 10\n        : radius - 10 - (setIndex * (donutWidth + 10));\n    },\n\n    innerRadius(setIndex = 0) {\n      const { donutWidth = 0, width, height } = this.props;\n      const radius = Math.min(width, height) / 2;\n      return donutWidth === 0\n        ? 0\n        : radius - 10 - donutWidth - (setIndex * (donutWidth + 10));\n    },\n\n    drawCharts() {\n      const { data, visible } = this.props;\n      this.dataSets = data.counts.map((set: IHistogramDataSet) => {\n        return set.data\n          .map((count, i) => ({\n            count: visible[data.bins[i]] !== false ? count : 0,\n            groupLabel: set.label,\n            label: data.bins[i],\n          }));\n      });\n\n      this.dataSets.forEach((dataSet, i) => {\n        const theme = get(data.counts[i], 'colors', this.props.colorScheme);\n        this.drawChart(dataSet, i, data.bins, theme);\n      });\n      this.previousData = this.dataSets;\n    },\n\n    drawChartBg(data, i) {\n      const { backgroundColor, width, height } = this.props;\n      const tau = 2 * Math.PI; // http://tauday.com/tau-manifesto\n      const outerRadius = this.outerRadius(i);\n      const innerRadius = this.innerRadius(i);\n      const bgArc = arc()\n        .innerRadius(innerRadius)\n        .outerRadius(outerRadius)\n        .startAngle(0)\n        .endAngle(tau);\n      const container = svg\n        .append('g')\n        .attr('class', 'pie-bg');\n      const background = container.append('path')\n        .attr('class', 'pie-background')\n        .style('fill', backgroundColor);\n      background.enter()\n        .attr('transform', 'translate(' + width / 2 + ',' + height / 2 + ')')\n        .attr('d', bgArc);\n\n      background.merge(background);\n\n      if (!this.containers[i]) {\n        this.containers[i] = svg\n          .append('g')\n          .attr('class', 'pie-container');\n      }\n    },\n\n    drawChart(data, i: number, bins: string[], theme: string[]) {\n      const { labels, width, height, tip, tipContentFn } = this.props;\n      // Stack multiple charts in concentric circles\n      const outerRadius = this.outerRadius(i);\n      const innerRadius = this.innerRadius(i);\n\n      // Function to calculate pie chart paths from data\n      const thisPie = pie()\n        .sort(null)\n        .value((d: any) => {\n          return d.count;\n        });\n\n      // Formated pie chart arcs based on previous current data\n      const arcs = thisPie(this.previousData[i]);\n\n      const colors = scaleOrdinal(theme);\n\n      const thisArc = arc()\n        .outerRadius(outerRadius)\n        .innerRadius(innerRadius);\n\n      const path = this.containers[i].selectAll('path')\n        .data(thisPie(data));\n\n      const g = path.enter().append('g')\n        .attr('class', 'arc');\n\n      g.append('path')\n        .attr('transform', 'translate(' + width / 2 + ',' + height / 2 + ')')\n        .attr('stroke', '#FFF')\n        .attr('fill', (d, j) => colors(j))\n\n        .each(function (d, j) { this._current = arcs[j]; }) // store the initial angles\n        .attr('d', thisArc)\n        .on('mouseover', (d: PieArcDatum<IPieDataItem>, ix: number) => {\n          tipContent.html(() => tipContentFn(bins, ix, d.data.count, d.data.groupLabel));\n          tip.fx.in(tipContainer);\n        })\n        .on('mousemove', () => tip.fx.move(tipContainer))\n        .on('mouseout', () => tip.fx.out(tipContainer))\n        .style('opacity', 0)\n        .transition()\n        .duration(500)\n        .style('opacity', 1);\n\n      // Fade in when adding (merge)\n      path\n        .merge(path)\n\n        .on('mouseover', (d: PieArcDatum<IPieDataItem>, ix: number) => {\n          tipContent.html(() => tipContentFn(bins, ix, d.data.count, d.data.groupLabel));\n          tip.fx.in(tipContainer);\n        })\n        .on('mousemove', () => tip.fx.move(tipContainer))\n        .on('mouseout', () => tip.fx.out(tipContainer))\n        .transition()\n        .delay(400)\n        .duration(500)\n        .attr('fill', (d, j) => colors(j))\n        .attrTween('d', arcTween(thisArc));\n\n      const path2 = this.containers[i].selectAll('text.label')\n        .data(thisPie(data));\n      const gLabel = path2.enter().append('text')\n        .attr('class', 'label')\n        .each(function () {\n          // Store initial offset incase we change chart heights.\n          this._height = height;\n          this._width = width;\n        })\n        .attr('transform', function (d) {\n          const centroid = thisArc.centroid(d);\n          const x = centroid[0] + (this._width / 2);\n          const y = centroid[1] + (this._height / 2);\n          return 'translate(' + x + ',' + y + ')';\n        })\n        .each(function (d, j) {\n          // Store current value to work out fx transition opacities\n          this._current = d;\n        })\n        .text((d, ix) => {\n          if (d.value === 0) {\n            return '';\n          }\n          return labels.displayFn(d, ix);\n        });\n\n      path2\n        .merge(path2)\n        .transition()\n        .duration(500)\n        .style('opacity', 0)\n        .transition()\n        .attr('transform', function (d) {\n          const centroid = thisArc.centroid(d);\n          const x = centroid[0] + (this._width / 2);\n          const y = centroid[1] + (this._height / 2);\n          return 'translate(' + x + ',' + y + ')';\n        })\n        .transition()\n        .duration(500)\n        .style('opacity', (d, ix, c) => {\n          // Only show if the new value is not 0 and labels are set to be displayed\n          return labels.display === false || d.data.count === 0 || c[ix]._current.value === 0 ? 0 : 1;\n        });\n\n      path2.exit().remove();\n\n      path.exit().transition()\n        .duration(500)\n        .style('opacity', 0).remove();\n    },\n\n    /**\n     * Any necessary clean up\n     * @param {Element} el To remove\n     */\n    destroy(el: HTMLElement) {\n      svg.selectAll('svg > *').remove();\n    },\n  };\n\n  return PieChartD3;\n});\n\n// Returns a tween for a transitions \"d\" attribute, transitioning any selected\n// arcs from their current angle to the specified new angle.\nfunction arcTween(thisArc) {\n  return function (d) {\n    const i = interpolate(this._current, d);\n    this._current = i(0);\n    return function (t) {\n      return thisArc(i(t));\n    };\n  };\n}\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n\nimport {\n  IChartAdaptor,\n  IChartState,\n  IHistogramDataSet,\n  IMargin,\n  TipContentFn,\n} from './Histogram';\nimport { pieChartD3 } from './PieChartD3';\n\ninterface ILabels {\n  display: boolean;\n  displayFn?: (d: any, ix: number) => string | number;\n}\n\nexport interface IPieDataItem {\n  count: number;\n  groupLabel: string;\n  label: string;\n}\n\nexport interface IPieChartProps {\n  data: {\n    bins: string[],\n    counts: IHistogramDataSet[];\n  };\n  backgroundColor?: string;\n  className?: string;\n  colorScheme?: string[];\n  donutWidth?: number;\n  height: number;\n  labels?: ILabels;\n  margin?: IMargin;\n  tip?: any;\n  tipContainer?: string;\n  tipContentFn?: TipContentFn<string>;\n  visible?: { [key: string]: boolean };\n  width: number | string;\n}\n\n/**\n * PieChart component\n */\nclass PieChart extends React.Component<IPieChartProps, IChartState> {\n\n  private chart: IChartAdaptor;\n  private ref;\n\n  public static defaultProps: Partial<IPieChartProps> = {\n    backgroundColor: '#ddd',\n    donutWidth: 0,\n    height: 200,\n    margin: {\n      left: 5,\n      top: 5,\n    },\n  };\n\n  /**\n   * Constructor\n   * @param {Object} props\n   */\n  constructor(props: IPieChartProps) {\n    super(props);\n    this.chart = pieChartD3();\n\n    this.state = {\n      parentWidth: 300,\n    };\n  }\n\n  /**\n   * Handle the page resize\n   */\n  private handleResize() {\n    const elem = this.getDOMNode();\n    const width = (this.ref && this.ref.offsetWidth) ? this.ref.offsetWidth : 0;\n\n    this.setState({\n      parentWidth: width,\n    }, () => this.chart.create(this.getDOMNode(), this.getChartState()));\n  }\n\n  /**\n   * Component mounted\n   */\n  public componentDidMount() {\n    this.chart.create(this.getDOMNode(), this.getChartState());\n    if (this.props.width === '100%') {\n      window.addEventListener('resize', (e) => this.handleResize());\n      this.handleResize();\n    }\n  }\n\n  /**\n   * Component updated\n   */\n  public componentDidUpdate() {\n    this.chart.update(this.getDOMNode(), this.getChartState());\n  }\n\n  /**\n   * Get the chart state\n   * @return {Object} ChartState\n   */\n  public getChartState(): IPieChartProps {\n    let { width } = this.props;\n    const { children, ...rest } = this.props;\n    if (width === '100%') {\n      width = this.state.parentWidth || 300;\n    }\n    return {\n      ...rest,\n      width,\n    };\n  }\n\n  /**\n   * Component will un mount, remove the chart and\n   * any event listeners\n   */\n  public componentWillUnmount() {\n    if (this.props.width === '100%') {\n      window.removeEventListener('resize', this.handleResize);\n    }\n    this.chart.destroy(this.getDOMNode());\n  }\n\n  /**\n   * Get the chart's dom node\n   * @return {Element} dom noe\n   */\n  private getDOMNode() {\n    return ReactDOM.findDOMNode(this.ref);\n  }\n\n  /**\n   * Render\n   * @return {Dom} node\n   */\n  public render(): JSX.Element {\n    return (<div ref={(ref) => this.ref = ref} className=\"piechart-chart-container\"></div>);\n  }\n}\n\nexport default PieChart;\n","import { axisBottom, axisLeft } from 'd3-axis';\nimport * as get from 'lodash.get';\nimport attrs from './d3/attrs';\nimport { IAxes } from './Histogram';\n\n// Gridlines in y axis function\nexport const makeYGridlines = (y, ticks: number = 5) => {\n  return axisLeft(y)\n    .ticks(ticks);\n};\n\n// Gridlines in x axis function\nexport const makeXGridlines = (x, ticks: number = 5) => {\n  return axisBottom(x)\n    .ticks(ticks);\n};\n\nexport const drawGrid = (x, y, gridX, gridY, props, ticks) => {\n  const { height, width, axis, grid, margin } = props;\n  const axisWidth = axis.y.style['stroke-width'];\n\n  const offset = {\n    x: yAxisWidth(axis) + axisWidth,\n    y: gridHeight(props),\n  };\n\n  if (grid.x.visible) {\n    // Add the X gridlines\n    gridX.attr('transform', `translate(${offset.x}, ${offset.y})`);\n\n    gridX.call(makeXGridlines(x, get(grid, 'x.ticks', ticks))\n      .tickSize(-height + xAxisHeight(props.axis) + (margin.top * 2))\n      .tickFormat(() => ''));\n\n    attrs(gridX.selectAll('.tick line'), grid.x.style);\n    attrs(gridX.selectAll('.domain'), { stroke: 'transparent' });\n  }\n\n  if (grid.y.visible) {\n    // add the Y gridlines\n    gridY.attr('transform', 'translate(' + (yAxisWidth(axis) + axisWidth) + ', 0)')\n      .transition()\n      .call(makeYGridlines(y, get(grid, 'y.ticks', ticks))\n        .tickSize(-width + (margin.left * 2) + yAxisWidth(axis))\n        .tickFormat(() => ''),\n    );\n\n    attrs(gridY.selectAll('.tick line'), grid.y.style);\n\n    // Hide the first horizontal grid line to show axis\n    gridY.selectAll('.gridY .tick line').filter((d, i) => i === 0)\n      .attr('display', 'none');\n    attrs(gridY.selectAll('.domain'), { stroke: 'transparent' });\n  }\n};\n\nexport const gridHeight = (props): number => {\n  const { height, margin, axis } = props;\n  return height - (margin.top * 2) - xAxisHeight(axis);\n};\n\nexport const yAxisWidth = (axis: IAxes) => {\n  return axis.y.label === ''\n    ? axis.y.width\n    : axis.y.width + 30;\n};\n\nexport const xAxisHeight = (axis: IAxes) => {\n  return axis.x.label === ''\n    ? axis.x.height\n    : axis.x.height + 30 + get(axis, 'x.margin', 0);\n};\n\nexport const gridWidth = (props): number => {\n  const { axis, width, margin } = props;\n  return width - (margin.left * 2) - yAxisWidth(axis);\n};\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\nreadOnly    Bool    false   Cell will never go in edit mode\nkey String  undefined   By default, each cell is given the key of col number and row number. This would override that key\nclassName   String  undefined   Additional class names for cells.\ncomponent   ReactElement    undefined   Insert a react element or JSX to this field. This will render on edit mode\nforceComponent  bool    false   Renders what's in component at all times, even when not in edit mode\ndisableEvents   bool    false   Makes cell unselectable and read only\ncolSpan number  1   The colSpan of the cell's td element\nrowSpan number  1   The rowSpan of the cell's td element\nwidth   number or String    undefined   Sets the cell's td width using a style attribute. Number is interpreted as pixels, strings are used as-is. Note: This will only work if the table does not have a set width.\noverflow    'wrap'|'nowrap'| 'clip' undefined   How to render overflow text. Overrides grid-level overflow option.\neditor func  undefined A component used to render the cell's value when being edited\nviewer func  undefined A component used to render the cell's value when not being edited\n*/\nvar CellShape = {\n  readOnly: _propTypes2.default.bool,\n  key: _propTypes2.default.string,\n  className: _propTypes2.default.string,\n  component: _propTypes2.default.oneOfType([_propTypes2.default.element, _propTypes2.default.func]),\n  forceComponent: _propTypes2.default.bool,\n  disableEvents: _propTypes2.default.bool,\n  colSpan: _propTypes2.default.number,\n  rowSpan: _propTypes2.default.number,\n  width: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.string]),\n  overflow: _propTypes2.default.oneOf(['wrap', 'nowrap', 'clip']),\n  dataEditor: _propTypes2.default.func,\n  valueViewer: _propTypes2.default.func\n};\n\nexports.default = CellShape;","import {\n  IAxes,\n  IHistogramData,\n} from '../../src';\nimport filterRange from '../../src/colors/filterRange';\n\nexport const grid = {\n  x: {\n    style: {\n      'stroke': '#eeAA00',\n      'stroke-opacity': 0.4,\n    },\n    ticks: 5,\n  },\n  y: {\n    height: 20,\n    style: {\n      'stroke-opacity': 0.4,\n    },\n    ticks: 5,\n  },\n};\n\nexport const data: IHistogramData = {\n  bins: ['Data 1', 'Data 6', 'Data 3', 'Dat 4'],\n  counts: [\n    {\n      data: [1, 2, 3, 4],\n      label: 'DataSet 1',\n    },\n    {\n      data: [13, 14, 15, 16],\n      label: 'DataSet 2',\n    },\n  ],\n  grid,\n};\n\nexport const data2 = {\n  bins: ['bin 1', 'bin 2', 'bin 3 with a long name', 'bin 4', 'bin 5', 'bin 6', 'bin 7'],\n  counts: [\n    {\n      borderColors: ['red'],\n      data: [1, 2, 3, 4, 5, 6, 7],\n      label: 'Data 1',\n    },\n  ],\n  title: 'Plot 1',\n};\n\nexport const data3 = {\n  bins: ['bin 1', 'bin 2', 'bin 3'],\n  counts: [\n    {\n      borderColors: ['red'],\n      colors: ['red'],\n      data: [100, 50, 40],\n      label: 'Data 1',\n    },\n    {\n      borderColors: ['red'],\n      colors: ['blue'],\n      data: [32, 1, 5, 0],\n      label: 'Data 2',\n    },\n  ],\n};\n\nexport const axis: IAxes = {\n  x: {\n    height: 20,\n    label: 'X Axis',\n    margin: 20,\n    text: {\n      style: {\n        'dy': '.35em',\n        'text-anchor': 'start',\n        'transform': 'rotate(90)',\n        'x': 0,\n        'y': 0,\n      },\n    },\n    tickSize: 0,\n  },\n  y: {\n    label: 'Y Axis!',\n    style: {\n      fill: 'none',\n      stroke: '#eeAA00',\n    },\n    text: {\n      style: {\n        fill: '#eeAA00',\n      },\n    },\n    tickSize: 20,\n    ticks: 3,\n    width: 50,\n  },\n};\n\nexport const theme = filterRange(['rgba(255, 113, 1, 0.5)', '#fff6ef', 'rgba(0, 169, 123, 0.5)', '#f6fffd',\n  '#D7263D', 'rgba(215, 38, 61, 0.05)',\n  '#0f2629', '#ededed', 'rgba(86, 180, 191, 0.5)', '#f5fbfb', '#000000', '#0f2629', '#D7263D', '#FBD7D9',\n  '#ffebec', '#963540', '#22545a', '#56b4bf', '#56b4bf', '#56b4bf', '#FF7101', '#449098', '#77c3cb', '#d4eef8',\n  '#ff7101', '#FF7101', '#cc5a00', '#ff8d33', '#fef9e5', '#7d5d2e', '#00a97b', '#008762', '#33ba95', '#dbf1d6',\n  '#227839', '#0f5e7b', '#d4eef8', '#0f5e7b', '#F9C80E', '#007656', '#c5e5e9', '#f9c80e', '#a9a9a9',\n  '#dbdbdb', '#cccccc', '#e6e6e6', '#56b4bf', '#449098', '#77c3cb', '#22545a', '#ff7101', '#cdcdcd', '#ffffff',\n  '#d7263d', '#00a97b', '#888888', '#e6e6e6', '#f2f2f2', '#f4f4f4']);\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _CellShape = require('./CellShape');\n\nvar _CellShape2 = _interopRequireDefault(_CellShape);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Cell = function (_PureComponent) {\n  _inherits(Cell, _PureComponent);\n\n  function Cell() {\n    _classCallCheck(this, Cell);\n\n    return _possibleConstructorReturn(this, (Cell.__proto__ || Object.getPrototypeOf(Cell)).apply(this, arguments));\n  }\n\n  _createClass(Cell, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          cell = _props.cell,\n          row = _props.row,\n          col = _props.col,\n          attributesRenderer = _props.attributesRenderer,\n          className = _props.className,\n          style = _props.style,\n          onMouseDown = _props.onMouseDown,\n          onMouseOver = _props.onMouseOver,\n          onDoubleClick = _props.onDoubleClick,\n          onContextMenu = _props.onContextMenu;\n      var colSpan = cell.colSpan,\n          rowSpan = cell.rowSpan;\n\n      var attributes = attributesRenderer ? attributesRenderer(cell, row, col) : {};\n\n      return _react2.default.createElement(\n        'td',\n        _extends({\n          className: className,\n          onMouseDown: onMouseDown,\n          onMouseOver: onMouseOver,\n          onDoubleClick: onDoubleClick,\n          onContextMenu: onContextMenu,\n          colSpan: colSpan,\n          rowSpan: rowSpan,\n          style: style\n        }, attributes),\n        this.props.children\n      );\n    }\n  }]);\n\n  return Cell;\n}(_react.PureComponent);\n\nexports.default = Cell;\n\n\nCell.propTypes = {\n  row: _propTypes2.default.number.isRequired,\n  col: _propTypes2.default.number.isRequired,\n  cell: _propTypes2.default.shape(_CellShape2.default).isRequired,\n  selected: _propTypes2.default.bool,\n  editing: _propTypes2.default.bool,\n  updated: _propTypes2.default.bool,\n  attributesRenderer: _propTypes2.default.func,\n  onMouseDown: _propTypes2.default.func.isRequired,\n  onMouseOver: _propTypes2.default.func.isRequired,\n  onDoubleClick: _propTypes2.default.func.isRequired,\n  onContextMenu: _propTypes2.default.func.isRequired,\n  className: _propTypes2.default.string,\n  style: _propTypes2.default.object\n};\n\nCell.defaultProps = {\n  selected: false,\n  editing: false,\n  updated: false,\n  attributesRenderer: function attributesRenderer() {}\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _CellShape = require('./CellShape');\n\nvar _CellShape2 = _interopRequireDefault(_CellShape);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DataEditor = function (_PureComponent) {\n  _inherits(DataEditor, _PureComponent);\n\n  function DataEditor(props) {\n    _classCallCheck(this, DataEditor);\n\n    var _this = _possibleConstructorReturn(this, (DataEditor.__proto__ || Object.getPrototypeOf(DataEditor)).call(this, props));\n\n    _this.handleChange = _this.handleChange.bind(_this);\n    return _this;\n  }\n\n  _createClass(DataEditor, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._input.focus();\n    }\n  }, {\n    key: 'handleChange',\n    value: function handleChange(e) {\n      this.props.onChange(e.target.value);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          value = _props.value,\n          onKeyDown = _props.onKeyDown;\n\n      return _react2.default.createElement('input', {\n        ref: function ref(input) {\n          _this2._input = input;\n        },\n        className: 'data-editor',\n        value: value,\n        onChange: this.handleChange,\n        onKeyDown: onKeyDown\n      });\n    }\n  }]);\n\n  return DataEditor;\n}(_react.PureComponent);\n\nexports.default = DataEditor;\n\n\nDataEditor.propTypes = {\n  value: _propTypes2.default.node.isRequired,\n  row: _propTypes2.default.number.isRequired,\n  col: _propTypes2.default.number.isRequired,\n  cell: _propTypes2.default.shape(_CellShape2.default),\n  onChange: _propTypes2.default.func.isRequired,\n  onCommit: _propTypes2.default.func.isRequired,\n  onRevert: _propTypes2.default.func.isRequired,\n  onKeyDown: _propTypes2.default.func.isRequired\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _CellShape = require('./CellShape');\n\nvar _CellShape2 = _interopRequireDefault(_CellShape);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ValueViewer = function (_PureComponent) {\n  _inherits(ValueViewer, _PureComponent);\n\n  function ValueViewer() {\n    _classCallCheck(this, ValueViewer);\n\n    return _possibleConstructorReturn(this, (ValueViewer.__proto__ || Object.getPrototypeOf(ValueViewer)).apply(this, arguments));\n  }\n\n  _createClass(ValueViewer, [{\n    key: 'render',\n    value: function render() {\n      var value = this.props.value;\n\n      return _react2.default.createElement(\n        'span',\n        { className: 'value-viewer' },\n        value\n      );\n    }\n  }]);\n\n  return ValueViewer;\n}(_react.PureComponent);\n\nexports.default = ValueViewer;\n\n\nValueViewer.propTypes = {\n  row: _propTypes2.default.number.isRequired,\n  col: _propTypes2.default.number.isRequired,\n  cell: _propTypes2.default.shape(_CellShape2.default),\n  value: _propTypes2.default.node.isRequired\n};","import { extent } from 'd3-array';\nimport {\n  axisBottom,\n  axisLeft,\n} from 'd3-axis';\nimport {\n  scaleBand,\n  scaleLinear,\n  scaleOrdinal,\n} from 'd3-scale';\nimport { select } from 'd3-selection';\nimport * as merge from 'deepmerge';\n\nimport colorScheme from './colors';\nimport attrs from './d3/attrs';\nimport {\n  IChartAdaptor,\n  IHistogramData,\n  IHistogramDataSet,\n  IHistogramProps,\n} from './Histogram';\nimport tips, { makeTip } from './tip';\n\nexport const horizontalHistogramD3 = ((): IChartAdaptor => {\n  let svg;\n  let tipContainer;\n  let tipContent;\n  const x = scaleLinear();\n  const y = scaleBand();\n\n  // Gridlines in y axis function\n  function make_y_gridlines(ticks: number = 5) {\n    return axisBottom(x)\n      .ticks(ticks);\n  }\n\n  // Gridlines in x axis function\n  function make_x_gridlines(ticks: number = 5) {\n    return axisLeft(y)\n      .ticks(ticks);\n  }\n\n  const defaultProps = {\n    axis: {\n      x: {\n        height: 25,\n        style: {\n          'fill': 'none',\n          'shape-rendering': 'crispEdges',\n          'stroke': '#666',\n          'stroke-opacity': 1,\n          'stroke-width': 1,\n        },\n        text: {\n          style: {\n            fill: '#666',\n          },\n        },\n        ticks: 10,\n      },\n      y: {\n        style: {\n          'fill': 'none',\n          'shape-rendering': 'crispEdges',\n          'stroke': '#666',\n          'stroke-opacity': 1,\n          'stroke-width': 1,\n        },\n        text: {\n          style: {\n            fill: '#666',\n          },\n        },\n        width: 20,\n      },\n    },\n    bar: {\n      height: 50,\n      margin: 10,\n    },\n    className: 'histogram-d3',\n    colorScheme,\n    data: [],\n    delay: 0,\n    duration: 400,\n    grid: {\n      x: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n      y: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n    },\n    height: 200,\n    margin: {\n      left: 5,\n      top: 5,\n    },\n    stroke: {\n      color: '#005870',\n      dasharray: '',\n      linecap: 'butt',\n      width: 0,\n    },\n    tip: tips,\n    tipContainer: 'body',\n    tipContentFn: (bins: string[], i: number, d: number): string =>\n      bins[i] + '<br />' + d,\n    width: 200,\n  };\n\n  const HorizontalHistogramD3 = {\n    /**\n     * Initialization\n     * @param {Node} el Target DOM node\n     * @param {Object} props Chart properties\n     */\n    create(el: HTMLElement, props = {}) {\n      this.props = merge(defaultProps, props);\n      this.update(el, this.props);\n    },\n\n    /**\n     * Make the SVG container element\n     * Recreate if it previously existed\n     * @param {Dom} el Dom container node\n     */\n    _makeSvg(el) {\n      if (svg) {\n        svg.selectAll('svg > *').remove();\n        svg.remove();\n        const childNodes = el.getElementsByTagName('svg');\n        if (childNodes.length > 0) {\n          el.removeChild(childNodes[0]);\n        }\n      }\n      const { margin, width, height, className } = this.props;\n\n      // Reference to svg element containing chart\n      svg = select(el).append('svg')\n        .attr('class', className)\n        .attr('width', width)\n        .attr('height', height)\n        .attr('viewBox', `0 0 ${width} ${height}`)\n        .append('g')\n        .attr('transform',\n          'translate(' + margin.left + ',' + margin.top + ')');\n      const r = makeTip(this.props.tipContainer, tipContainer);\n      tipContent = r.tipContent;\n      tipContainer = r.tipContainer;\n    },\n\n    /**\n     * Get a max count of values in each data set\n     * @param {Object} counts Histogram data set values\n     * @return {Number} count\n     */\n    valuesCount(counts: IHistogramDataSet[]): number {\n      return counts.reduce((a: number, b: IHistogramDataSet): number => {\n        return b.data.length > a ? b.data.length : a;\n      }, 0);\n    },\n\n    /**\n     * Draw scales\n     * @param {Object} data Chart data\n     */\n    _drawScales(data: IHistogramData) {\n      const { margin, width, height, axis } = this.props;\n      const valuesCount = this.valuesCount(data.counts);\n\n      svg.selectAll('.y-axis').remove();\n      svg.selectAll('.x-axis').remove();\n\n      const h = this.gridHeight();\n      let xDomain;\n      let xAxis;\n      let yAxis;\n      let xRange;\n      const allCounts = data.counts.reduce((a: number[], b: IHistogramDataSet): number[] => {\n        return [...a, ...b.data];\n      }, []);\n\n      y.domain(data.bins)\n        .rangeRound([0, h]);\n\n      xAxis = axisBottom(x).ticks(axis.x.ticks);\n      yAxis = axisLeft(y).ticks(axis.y.ticks);\n\n      if (h / valuesCount < 10) {\n        // Show one in 10 x axis labels\n        xAxis.tickValues(x.domain().filter((d, i) => !(i % 10)));\n      }\n\n      xDomain = extent(allCounts, (d) => d);\n      xDomain[0] = 0;\n      xRange = [0, width - (margin.top * 2) - axis.y.width];\n      x.range(xRange)\n        .domain(xDomain);\n\n      svg.append('g').attr('class', 'y-axis')\n        .attr('transform', 'translate(' + axis.y.width + ', 0)')\n        .call(yAxis);\n\n      svg.append('g').attr('class', 'x-axis')\n        .attr('transform', 'translate(' + axis.y.width + ',' +\n          (height - axis.x.height - (margin.left * 2)) + ')')\n        .call(xAxis);\n\n      attrs(svg.selectAll('.y-axis .domain, .y-axis .tick line'), axis.y.style);\n      attrs(svg.selectAll('.y-axis .tick text'), axis.y.text.style);\n\n      attrs(svg.selectAll('.x-axis .domain, .x-axis .tick line'), axis.x.style);\n      attrs(svg.selectAll('.x-axis .tick text'), axis.x.text.style);\n    },\n\n    /**\n     * Draw the bars\n     * @param {Object} info Bar data etc\n     */\n    _drawBars(info: IHistogramData) {\n      const valuesCount = this.valuesCount(info.counts);\n      info.counts.forEach((set: IHistogramDataSet, setIndex: number) => {\n        this.drawDataSet(info.bins, set, setIndex, info.counts.length);\n      });\n    },\n\n    /**\n     * Calculate the width of the area used to display the\n     * chart bars. Removes chart margins and Y axis from\n     * chart total width.\n     * @return {number} width\n     */\n    gridWidth(): number {\n      const { axis, width, margin } = this.props;\n      return width - (margin.left * 2) - axis.y.width;\n    },\n\n    /**\n     * Calculate the height of the area used to display the\n     * chart bars. Removes chart margins and X axis from\n     * chart total height.\n     * @return {number} width\n     */\n    gridHeight(): number {\n      const { height, margin, axis } = this.props;\n      return height - (margin.top * 2) - axis.x.height;\n    },\n\n    /**\n     * Returns the margin between similar bars in different data sets\n     * @return {Number} Margin\n     */\n    groupedMargin(): number {\n      const { data } = this.props;\n      return ((data.counts.length - 1) * 3);\n    },\n\n    /**\n     * Calculate the bar height\n     * @return {number} bar height\n     */\n    barHeight() {\n      const { axis, width, margin, data, bar, stroke } = this.props;\n      const h = this.gridHeight();\n      const valuesCount = this.valuesCount(data.counts);\n      const setCount = data.counts.length;\n      let barHeight = (h / valuesCount) - (bar.margin * 2) - this.groupedMargin();\n\n      // Small bars - reduce margin and re-calcualate bar width\n      if (barHeight < 5) {\n        bar.margin = 1;\n        barHeight = Math.max(1, (h - (valuesCount + 1) * bar.margin) /\n          valuesCount);\n      }\n\n      // show data sets next to each other...\n      return barHeight / setCount;\n    },\n\n    /**\n     * Draw a single data set into the chart\n     * @param {Array} bins Data set labels\n     * @param {Object} set HistogramDataSet\n     * @param {number} setIndex Data set index\n     * @param {number} setCount Total number of data sets\n     */\n    drawDataSet(\n      bins: string[], set: IHistogramDataSet,\n      setIndex: number, setCount: number,\n    ) {\n      const { height, width, margin, bar, delay, duration,\n        axis, stroke, tip, tipContentFn } = this.props;\n      let barItem;\n      const barHeight = this.barHeight();\n      const colors = scaleOrdinal(set.colors || this.props.colorScheme);\n      const borderColors = set.borderColors ? scaleOrdinal(set.borderColors) : null;\n\n      const selector = '.bar-' + setIndex;\n      const multiLineOffset = (index) => setCount === 1\n        ? 0\n        : ((index + setIndex) * (barHeight + this.groupedMargin()));\n\n      svg.selectAll(selector).remove();\n\n      // Set up bar initial props\n      barItem = svg.selectAll(selector)\n        .data(set.data)\n        .enter()\n        .append('rect')\n        .attr('class', 'bar ' + selector)\n        .attr('y', (d, index, all) => {\n          return bar.margin\n            + (barHeight + (bar.margin * 2)) * (index)\n            + multiLineOffset(index);\n        })\n        .attr('height', (d) => barHeight)\n        .attr('fill', (d, i) => colors(i))\n        .on('mouseover', (d: number, i: number) => {\n          tipContent.html(() => tipContentFn(bins, i, d));\n          tip.fx.in(tipContainer);\n        })\n        .on('mousemove', () => tip.fx.move(tipContainer))\n        .on('mouseout', () => tip.fx.out(tipContainer))\n        .attr('x', (d: number): number => axis.y.width + axis.y.style['stroke-width'])\n        .attr('width', 0);\n\n      barItem.attr('stroke', (d, i) => {\n        if (borderColors) {\n          return borderColors(i);\n        }\n        return typeof stroke.color === 'function'\n          ? stroke.color(d, i, colors)\n          : stroke.color;\n      })\n        .attr('shape-rendering', 'crispEdges')\n        .attr('stroke-width', stroke.width)\n        .attr('stroke-linecap', stroke.linecap);\n\n      if (stroke.dasharray !== '') {\n        barItem.attr('stroke-dasharray', stroke.dasharray);\n      }\n\n      // Animate in bar\n      barItem\n        .transition()\n        .duration(duration)\n        .delay(delay)\n        // Hide bar's left border\n        .attr('stroke-dasharray',\n          (d: number): string => {\n            const currentWidth = x(d);\n            return `${currentWidth + barHeight + currentWidth} ${barHeight}`;\n          })\n        .attr('width',\n          (d: number): number => x(d));\n\n      barItem.exit().remove();\n    },\n\n    /**\n     * Draw a grid onto the chart background\n     * @param {Object} props Props\n     */\n    _drawGrid(props: IHistogramProps) {\n      const { data, height, width, axis, grid, margin } = props;\n      const ticks = this.valuesCount(data.counts);\n      const axisWidth = axis.y.style['stroke-width'];\n      const offset = {\n        x: axis.y.width + this.groupedMargin() / 2,\n        y: 0,\n      };\n      let g;\n      let gy;\n\n      // Horizontal lines\n      if (grid.x.visible) {\n        // Add the X gridlines\n        g = svg.append('g')\n          .attr('class', 'grid gridX')\n          .attr('transform', `translate(${offset.x}, ${offset.y})`);\n\n        g.call(make_x_gridlines(grid.x.ticks || ticks)\n          .tickSize(-width + (margin.left * 2) + axis.y.width)\n          .tickFormat(() => ''));\n\n        attrs(g.selectAll('.tick line'), grid.x.style);\n        attrs(g.selectAll('.domain'), { stroke: 'transparent' });\n      }\n\n      // Vertical lines.....\n      if (grid.y.visible) {\n        // add the Y gridlines\n        gy = svg.append('g')\n          .attr('class', 'grid gridY')\n          .attr('transform', 'translate(' + (axis.y.width + axisWidth) + ', '\n            + (height - axis.x.height - (margin.top * 2)) + ')')\n          .call(make_y_gridlines(grid.y.ticks || ticks)\n            .tickSize(-height + (margin.left * 2) + axis.x.height) // Line Length\n            .tickFormat(() => ''),\n          );\n        attrs(gy.selectAll('.tick line'), grid.y.style);\n\n        attrs(gy.selectAll('.domain'), { stroke: 'transparent' });\n      }\n    },\n\n    /**\n     * Update chart\n     * @param {HTMLElement} el Chart element\n     * @param {Object} props Chart props\n     */\n    update(el: HTMLElement, props: IHistogramProps) {\n      if (!props.data) {\n        return;\n      }\n      this.props = merge(defaultProps, props);\n      this._makeSvg(el);\n      if (!this.props.data.bins) {\n        return;\n      }\n\n      this._drawScales(this.props.data);\n      this._drawGrid(this.props);\n      this._drawBars(this.props.data);\n    },\n\n    /**\n     * Any necessary clean up\n     * @param {Element} el To remove\n     */\n    destroy(el: HTMLElement) {\n      svg.selectAll('svg > *').remove();\n    },\n  };\n  return HorizontalHistogramD3;\n});\n","import { rgb } from 'd3-color';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n\nimport {\n  IChartAdaptor,\n  IChartState,\n  IHistogramProps,\n} from './Histogram';\nimport { horizontalHistogramD3 } from './HorizontalHistogramD3';\n\n/**\n * Horizontal Histogram component\n */\nclass HorizontalHistogram extends React.Component<IHistogramProps, IChartState> {\n\n  private histogram: IChartAdaptor;\n  private ref;\n\n  public static defaultProps = {\n    axis: {},\n    bar: {\n      margin: 2,\n      width: 10,\n    },\n    grid: {\n      x: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n      y: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n    },\n    height: 200,\n    margin: {\n      left: 5,\n      top: 5,\n    },\n    stroke: {\n      color: (d, i, colors) => rgb(colors(i)).darker(1),\n      width: 1,\n    },\n    tipContentFn: (bins: string[], i, d) =>\n      bins[i] + '<br />' + d.toFixed(2),\n    width: '100%',\n  };\n\n  /**\n   * Constructor\n   * @param {Object} props\n   */\n  constructor(props: IHistogramProps) {\n    super(props);\n    this.histogram = horizontalHistogramD3();\n    this.state = {\n      parentWidth: 300,\n    };\n  }\n\n  /**\n   * Handle the page resize\n   */\n  private handleResize() {\n    const elem = this.getDOMNode();\n    const width = (this.ref && this.ref.offsetWidth) ? this.ref.offsetWidth : 0;\n\n    this.setState({\n      parentWidth: width,\n    }, () => this.histogram.create(elem, this.getChartState()));\n  }\n\n  /**\n   * Component mounted\n   */\n  public componentDidMount() {\n    this.histogram.create(this.getDOMNode(), this.getChartState());\n    if (this.props.width === '100%') {\n      window.addEventListener('resize', (e) => this.handleResize());\n      this.handleResize();\n    }\n  }\n\n  /**\n   * Component updated\n   */\n  public componentDidUpdate() {\n    this.histogram.update(this.getDOMNode(), this.getChartState());\n  }\n\n  /**\n   * Get the chart state\n   * @return {Object} ChartState\n   */\n  public getChartState(): IHistogramProps {\n    let { width } = this.props;\n    const { children, ...rest } = this.props;\n    if (width === '100%') {\n      width = this.state.parentWidth || 300;\n    }\n\n    return {\n      ...rest,\n      width,\n    };\n  }\n\n  /**\n   * Props recieved, update the chart\n   * @param {Object} props Props\n   */\n  public componentWillReceiveProps(props: IHistogramProps) {\n    this.histogram.update(this.getDOMNode(), this.getChartState());\n  }\n\n  /**\n   * Component will un mount, remove the chart and\n   * any event listeners\n   */\n  public componentWillUnmount() {\n    if (this.props.width === '100%') {\n      window.removeEventListener('resize', this.handleResize);\n    }\n    this.histogram.destroy(this.getDOMNode());\n  }\n\n  /**\n   * Get the chart's dom node\n   * @return {Element} dom noe\n   */\n  private getDOMNode() {\n    return ReactDOM.findDOMNode(this.ref);\n  }\n\n  /**\n   * Render\n   * @return {Dom} node\n   */\n  public render(): JSX.Element {\n    return (<div ref={(ref) => this.ref = ref} className=\"histogram-chart-container\"></div>);\n  }\n}\n\nexport default HorizontalHistogram;\n","import {\n  scaleLinear,\n  ScaleLinear,\n  scaleLog,\n  ScaleLogarithmic,\n  scaleTime,\n  ScaleTime,\n} from 'd3-scale';\n\nimport { IAxes } from '../';\n\nexport type AnyScale = ScaleLinear<number, number> | ScaleTime<any, any>\n  | ScaleLogarithmic<any, any>;\n\nexport const buildScales = (axis: IAxes) => {\n  let x: AnyScale;\n  let y: AnyScale;\n  switch (axis.x.scale) {\n    case 'LOG':\n      x = scaleLog().clamp(true); // clamp values below 1 to be equal to 0\n      break;\n    case 'TIME':\n      x = scaleTime();\n      break;\n    default:\n      x = scaleLinear();\n      break;\n  }\n\n  switch (axis.y.scale) {\n    case 'LOG':\n      y = scaleLog().clamp(true); // clamp values below 1 to be equal to 0\n      break;\n    case 'TIME':\n      x = scaleTime();\n      break;\n    default:\n      y = scaleLinear();\n      break;\n  }\n  return [x, y];\n};\n","import { extent } from 'd3-array';\nimport {\n  axisBottom,\n  axisLeft,\n} from 'd3-axis';\nimport { easeCubic } from 'd3-ease';\nimport { format } from 'd3-format';\nimport { select } from 'd3-selection';\nimport {\n  area,\n  curveCatmullRom,\n  line,\n} from 'd3-shape';\nimport {\n  timeFormat,\n  timeParse,\n} from 'd3-time-format';\nimport * as merge from 'deepmerge';\nimport * as get from 'lodash.get';\n\nimport attrs from './d3/attrs';\nimport {\n  drawGrid,\n  gridWidth,\n  xAxisHeight as getXAxisHeight,\n  yAxisWidth as getYAxisWidth,\n} from './grid';\nimport {\n  IChartAdaptor,\n  IHistogramDataSet,\n} from './Histogram';\nimport {\n  IChartPoint,\n  ILineChartDataSet,\n  ILineChartProps,\n  ISVGPoint,\n} from './LineChart';\nimport tips, { makeTip } from './tip';\nimport { buildScales } from './utils/scales';\n\nconst ZERO_SUBSITUTE: number = 1e-6;\n\nexport const lineChartD3 = ((): IChartAdaptor => {\n  let svg;\n  let tipContainer;\n  let xParseTime;\n  let xFormatTime;\n  let tipContent;\n\n  const\n    lineProps = {\n      curveType: curveCatmullRom,\n      fill: false,\n      show: true,\n      stroke: '#005870',\n      strokeDashArray: '5 5',\n      strokeDashOffset: 0,\n    };\n\n  const pointProps: ISVGPoint = {\n    fill: 'rgba(255, 255, 255, 0)',\n    radius: 4,\n    show: true,\n    stroke: '#005870',\n  };\n\n  const defaultProps: ILineChartProps = {\n    axis: {\n      x: {\n        height: 20,\n        scale: 'LINEAR',\n        style: {\n          'fill': 'none',\n          'shape-rendering': 'crispEdges',\n          'stroke': '#666',\n          'stroke-opacity': 1,\n          'stroke-width': 1,\n        },\n        text: {\n          style: {\n            fill: '#666',\n          },\n        },\n      },\n      y: {\n        scale: 'LINEAR',\n        style: {\n          'fill': 'none',\n          'shape-rendering': 'crispEdges',\n          'stroke': '#666',\n          'stroke-opacity': 1,\n          'stroke-width': 1,\n        },\n        text: {\n          style: {\n            fill: '#666',\n          },\n        },\n        ticks: 10,\n        width: 25,\n      },\n    },\n    className: 'line-chart-d3',\n    fx: easeCubic,\n    grid: {\n      x: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n      y: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n    },\n    height: 250,\n    line: lineProps,\n    margin: {\n      left: 5,\n      top: 5,\n    },\n    point: pointProps,\n    tip: tips,\n    tipContainer: 'body',\n    tipContentFn: (info, i, d) => {\n      switch (typeof info[i].x) {\n        case 'object': // date\n          return xFormatTime(info[i].x) + ', ' + info[i].y;\n        default:\n          return Number(info[i].x).toFixed(3) + ', ' + info[i].y;\n      }\n    },\n    width: 200,\n  };\n\n  const datumProps = {\n    line: lineProps,\n    point: pointProps,\n  };\n\n  const curve = (curveType, yAxisWidth, x, y) => line()\n    .curve(curveType)\n    .x((d: any) => x(d.x) + yAxisWidth)\n    .y((d: any) => y(d.y));\n\n  const LineChartD3 = {\n    /**\n     * Initialization\n     */\n    create(el: Node, props: Object = {}) {\n      this.props = merge(defaultProps, props);\n      this._makeSvg(el);\n      this.makeScales();\n      [this.x, this.y] = buildScales(this.props.axis);\n      this.makeGrid();\n      this.container = svg\n        .append('g')\n        .attr('class', 'linechart-container');\n\n      this.lineContainer = this.container\n        .append('g')\n        .attr('class', 'line-container');\n      this._createLines(this.props.data);\n      this.update(el, this.props);\n    },\n\n    /**\n     * Make the SVG container element\n     * Recreate if it previously existed\n     */\n    _makeSvg(el) {\n      if (svg) {\n        svg.selectAll('svg > *').remove();\n        svg.remove();\n        const childNodes = el.getElementsByTagName('svg');\n        if (childNodes.length > 0) {\n          el.removeChild(childNodes[0]);\n        }\n      }\n      const { margin, width, height, className } = this.props;\n      const scale = {\n        x: 1 - (margin.left / width),\n        y: 1 - (margin.top / height),\n      };\n\n      // Reference to svg element containing chart\n      svg = select(el).append('svg')\n        .attr('class', className)\n        .attr('width', width)\n        .attr('height', height)\n        .append('g')\n        .attr('transform', `translate(${margin.left},${margin.top}) scale(${scale.x},${scale.y})`);\n\n      const r = makeTip(this.props.tipContainer, tipContainer);\n      tipContent = r.tipContent;\n      tipContainer = r.tipContainer;\n    },\n\n    /**\n     * Iterate over the dataset drawing points for sets marked as\n     * requiring points.\n     */\n    _drawDataPointSet(data: ILineChartDataSet[]) {\n      const { axis, tip } = this.props;\n      const yAxisWidth = getYAxisWidth(axis);\n\n      const pointContainer = this.container.selectAll('g').data(data);\n\n      // Don't ask why but we must reference tipContentFn as this.props.tipContentFn otherwise\n      // it doesn't update with props changes\n      const onMouseOver = (d: ILineChartDataSet, i: number) => {\n        tipContent.html(() => this.props.tipContentFn([d], 0));\n        tip.fx.in(tipContainer);\n      };\n      const points = pointContainer.enter()\n        .append('g')\n        .attr('class', (d, i: number) => 'point-container' + i)\n        .merge(pointContainer)\n        .selectAll('circle')\n        .data((d) => {\n          return d.data.map((dx) => ({\n            ...dx,\n            point: d.point,\n          }));\n        });\n\n      // UPDATE - Update old elements as needed.\n      points.attr('class', 'update');\n\n      // ENTER + UPDATE\n      // After merging the entered elements with the update selection,\n      // apply operations to both.\n      points.enter().append('circle')\n        .attr('class', 'enter')\n        .on('mouseover', onMouseOver)\n        .on('mousemove', () => tip.fx.move(tipContainer))\n        .on('mouseout', () => tip.fx.out(tipContainer))\n        .merge(points)\n        .attr('class', 'point')\n        .attr('cy', (d) => this.y(d.y))\n        .attr('r', (d, i: number) => 0)\n        .attr('fill', (d) => d.point.fill)\n        .attr('stroke', (d) => d.point.stroke)\n        .attr('cx', (d) => {\n          return this.x(d.x) + yAxisWidth;\n        })\n        .transition()\n        .duration(400)\n        .attr('r', (d) => d.point.show ? d.point.radius : 0)\n        .delay(650);\n\n      // EXIT - Remove old elements as needed.\n      pointContainer.exit().remove();\n      points.exit().remove();\n    },\n\n    makeScales() {\n      this.xAxis = svg.append('g').attr('class', 'x-axis');\n      this.yAxis = svg.append('g').attr('class', 'y-axis');\n\n      this.xAxisLabel = svg.append('g');\n      this.yAxisLabel = svg.append('g');\n    },\n\n    /**\n     * Draw the chart scales\n     */\n    _drawScales(data: Array<ILineChartDataSet<IChartPoint<number, number>>>) {\n      // @TODO Grid not rendering down to x axis\n      const { axis, height } = this.props;\n      const w = gridWidth(this.props);\n      let yDomain;\n      let xDomain;\n      const ys: any[] = [];\n      const xs: any[] = [];\n      const yAxis = axisLeft(this.y);\n      if (axis.y.tickValues) {\n        yAxis.tickValues(axis.y.tickValues);\n      } else {\n        yAxis.ticks(axis.y.ticks);\n      }\n      if (axis.y.numberFormat) {\n        yAxis.tickFormat(format(axis.y.numberFormat));\n      }\n\n      const xAxis = axisBottom(this.x); // .ticks(axis.x.ticks);\n      if (axis.x.tickValues) {\n        xAxis.tickValues(axis.x.tickValues);\n      }\n      if (axis.x.scale === 'TIME' && axis.x.dateFormat) {\n        xAxis.tickFormat(timeFormat(axis.x.dateFormat));\n      }\n      const xAxisHeight = getXAxisHeight(axis);\n      const yAxisWidth = getYAxisWidth(axis);\n\n      data.forEach((datum: ILineChartDataSet<IChartPoint<number, number>>) => {\n        datum.data.forEach((d: IChartPoint<number, number>) => {\n          let parsedY = d.y;\n          let parsedX = d.x;\n          if (axis.y.scale === 'LOG' && d.y === 0) {\n            parsedY = ZERO_SUBSITUTE;\n          }\n          if (axis.x.scale === 'LOG' && d.x === 0) {\n            parsedX = ZERO_SUBSITUTE;\n          }\n          ys.push((parsedY));\n          xs.push((parsedX));\n        });\n      });\n      yDomain = extent(ys);\n      xDomain = extent(xs);\n      // domain mustn't be 0 as log(0) gives Infinity. 1 lower domain gives better looking graphs\n      if (axis.y.scale === 'LOG' && yDomain[0] === ZERO_SUBSITUTE) {\n        yDomain[0] = 1;\n      }\n      if (axis.x.scale === 'LOG' && xDomain[0] === ZERO_SUBSITUTE) {\n        xDomain[0] = 1;\n      }\n      this.x\n        .domain(xDomain)\n        .rangeRound([0, w]);\n\n      this.y.domain(yDomain)\n        .range([height - xAxisHeight, 0]);\n\n      this.yAxis\n        .attr('transform', `translate(${yAxisWidth}, 0)`)\n        .transition()\n        .call(yAxis);\n\n      this.xAxis\n        .attr('transform', `translate(${yAxisWidth},${(height - xAxisHeight)})`)\n        .call(xAxis);\n\n      attrs(svg.selectAll('.y-axis .domain, .y-axis .tick line'), axis.y.style);\n      attrs(svg.selectAll('.y-axis .tick text'), axis.y.text.style);\n\n      attrs(svg.selectAll('.x-axis .domain, .x-axis .tick line'), axis.x.style);\n      attrs(svg.selectAll('.x-axis .tick text'), axis.x.text.style);\n    },\n\n    _createLines(data: ILineChartDataSet[]) {\n      data.forEach((d, i) => {\n        this.lineContainer.append('path')\n          .attr('class', `line-${i}`);\n      });\n\n      // change the line\n      data\n        .forEach((d, i) => {\n          this.lineContainer.append('path')\n            .attr('class', `fill-${i}`);\n\n        });\n\n    },\n\n    /**\n     * Iterate over data and update lines\n     */\n    _drawLines(data: ILineChartDataSet[]) {\n      const { axis } = this.props;\n      const yAxisWidth = getYAxisWidth(axis);\n\n      // change the line\n      data.forEach((d, i) => {\n        this.lineContainer.select(`.line-${i}`)\n          .attr('fill', 'none')\n          .attr('stroke-dashoffset', d.line.strokeDashOffset)\n          .attr('stroke-dasharray', d.line.strokeDashOffset)\n          .attr('stroke', d.line.stroke)\n          .transition()\n          .duration(500)\n          .attr('d', curve(d.line.curveType, yAxisWidth, this.x, this.y)(d.data as any))\n          .delay(50);\n      });\n    },\n\n    /**\n     * Iterates ove data and updates area fills\n     */\n    drawAreas(data: ILineChartDataSet[]) {\n      const { axis, height } = this.props;\n      const yAxisWidth = getYAxisWidth(axis);\n      const xAxisHeight = getXAxisHeight(axis);\n      const thisArea = (curveType) => area()\n        .curve(curveType)\n        .x((d: any) => this.x(d.x) + yAxisWidth)\n        .y0((d) => height - xAxisHeight)\n        .y1((d: any) => this.y(d.y));\n\n      // change the line\n      data\n        .forEach((d, i) => {\n          this.lineContainer.select(`.fill-${i}`)\n            .attr('fill', d.line.fill.fill)\n            .style('opacity', d.line.show && d.line.fill.show ? 1 : 0)\n            .transition()\n            .duration(500)\n            .delay(50)\n            .attr('d', thisArea(d.line.curveType)(d.data as any))\n\n            ;\n        });\n    },\n\n    /**\n     * Get a max count of values in each data set\n     */\n    valuesCount(data: IHistogramDataSet[]): number {\n      return data.reduce((a: number, b: IHistogramDataSet): number => {\n        return b.data.length > a ? b.data.length : a;\n      }, 0);\n    },\n\n    makeGrid() {\n      this.gridX = svg.append('g')\n        .attr('class', 'grid gridX');\n      this.gridY = svg.append('g')\n        .attr('class', 'grid gridY');\n    },\n\n    /**\n     * Update chart\n     */\n    update(el: Element, props) {\n      if (!props.data) {\n        return;\n      }\n      console.log('receive update', props);\n      this.props = merge(defaultProps, props);\n      console.log('update', this.props.point);\n      [this.x, this.y] = buildScales(this.props.axis);\n      let data = props.data;\n\n      xParseTime = timeParse(props.axis.x.dateFormat);\n      xFormatTime = timeFormat(props.axis.x.dateFormat);\n      data = data.map((datum: ILineChartDataSet<IChartPoint<number, number>>) => {\n        if (props.axis.x.scale === 'TIME') {\n          datum.data = datum.data.map((d) => {\n            const newd = {\n              ...d,\n              x: typeof d.x === 'object'\n                ? d.x\n                : xParseTime(d.x.toString()),\n            };\n            return newd;\n          });\n        }\n        return Object.assign({}, datumProps, datum);\n      });\n      this._drawScales(data);\n      this._drawLines(data);\n      this.drawAreas(data);\n      drawGrid(this.x, this.y, this.gridX, this.gridY, this.props, this.valuesCount(data));\n      this._drawDataPointSet(data);\n    },\n\n    /**\n     * Any necessary clean up\n     * @param {Element} el To remove\n     */\n    destroy(el: Element) {\n      svg.selectAll('svg > *').remove();\n    },\n  };\n  return LineChartD3;\n});\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n\nimport {\n  IAxes,\n  IGrid,\n  IHistogramData,\n  IMargin,\n  ISVGLineStyle,\n  TipContentFn,\n} from './Histogram';\nimport { lineChartD3 } from './lineChartD3';\n\ninterface IState {\n  parentWidth?: number;\n}\n\nexport type IChartPointValue = number | string | Date | object;\nexport interface IChartPoint<X extends IChartPointValue = Date | number, Y extends IChartPointValue = number> {\n  x: X;\n  y: Y;\n}\nexport interface ILineChartDataSet<T extends IChartPoint<IChartPointValue, IChartPointValue> = IChartPoint> {\n  label: string;\n  point?: {\n    radius: number;\n    stroke: string;\n    fill: string;\n    show: boolean;\n  };\n  line?: {\n    show: boolean;\n    fill?: {\n      show: boolean;\n      fill: string;\n    };\n    curveType?: any;\n    stroke?: string;\n    strokeDashOffset?: number;\n    strokeDashArray?: string;\n  };\n  data: T[];\n}\n\nexport interface ISVGPoint extends ISVGLineStyle {\n  radius?: 4;\n  show: boolean;\n}\n\nexport interface ILineChartProps {\n  axis?: IAxes;\n  className?: string;\n  data?: ILineChartDataSet[];\n  fx?: (n: number) => number;\n  grid?: IGrid;\n  height?: number | string;\n  line?: any;\n  margin?: IMargin;\n  point?: ISVGPoint;\n  tip?: any;\n  tipContainer?: string;\n  tipContentFn?: TipContentFn<{ x: string | number, y: string | number }>;\n  width?: number | string;\n}\n\nclass LineChart extends React.Component<ILineChartProps, IState> {\n\n  private chart;\n  private ref;\n\n  constructor(props: ILineChartProps) {\n    super(props);\n    this.chart = lineChartD3();\n    this.state = {\n      parentWidth: 300,\n    };\n  }\n\n  private handleResize() {\n    const elem = this.getDOMNode();\n    const width = (this.ref && this.ref.offsetWidth) ? this.ref.offsetWidth : 0;\n\n    this.setState({\n      parentWidth: width,\n    }, () => this.chart.create(elem, this.getChartState()));\n\n  }\n\n  public componentDidMount() {\n    this.chart.create(this.getDOMNode(), this.getChartState());\n    if (this.props.width === '100%') {\n      window.addEventListener('resize', (e) => this.handleResize());\n      this.handleResize();\n    }\n  }\n\n  public componentDidUpdate() {\n    this.chart.update(this.getDOMNode(), this.getChartState());\n  }\n\n  /**\n   * Get the chart state. If a histogram has been assigned\n   * to the props, then render this data. Otherwise generate\n   * a random normal dist\n   */\n  public getChartState(): ILineChartProps {\n    let { width } = this.props;\n    const { children, ...rest } = this.props;\n\n    if (width === '100%') {\n      width = this.state.parentWidth || 300;\n    }\n\n    return {\n      ...rest,\n      width,\n    };\n  }\n\n  public componentWillUnmount() {\n    if (this.props.width === '100%') {\n      window.removeEventListener('resize', this.handleResize);\n    }\n    this.chart.destroy(this.getDOMNode());\n  }\n\n  public getDOMNode() {\n    return ReactDOM.findDOMNode(this.ref);\n  }\n\n  public render(): JSX.Element {\n    return <div ref={(ref) => this.ref = ref} className=\"chart-container\"></div>;\n  }\n}\n\nexport default LineChart;\n","import {\n  geoMercator,\n  geoPath,\n} from 'd3-geo';\nimport { select } from 'd3-selection';\nimport * as merge from 'deepmerge';\nimport { FeatureCollection } from 'geojson';\n\nimport { IChartAdaptor } from './Histogram';\nimport { IMapProps } from './Map';\n\nexport const mapD3 = ((): IChartAdaptor => {\n  let svg;\n\n  const defaultProps: IMapProps = {\n    className: 'map-d3',\n    data: [],\n    geojson: {\n      features: [],\n      type: 'FeatureCollection',\n    },\n    height: 200,\n    width: 200,\n  };\n\n  const MapD3 = {\n    /**\n     * Initialization\n     * @param {Node} el Target DOM node\n     * @param {Object} props Chart properties\n     */\n    create(el: HTMLElement, props: Partial<IMapProps> = {}) {\n      this.mergeProps(props);\n      this._makeSvg(el);\n      this.container = svg\n        .append('g')\n        .attr('class', 'histogram-container');\n\n      this.update(el, props);\n    },\n\n    mergeProps(newProps: Partial<IMapProps>) {\n      this.props = merge<IMapProps>(defaultProps, newProps);\n      this.props.data = newProps.data;\n    },\n\n    /**\n     * Make the SVG container element\n     * Recreate if it previously existed\n     * @param {Dom} el Dom container node\n     */\n    _makeSvg(el) {\n      if (svg) {\n        svg.selectAll('svg > *').remove();\n        svg.remove();\n        const childNodes = el.getElementsByTagName('svg');\n        if (childNodes.length > 0) {\n          el.removeChild(childNodes[0]);\n        }\n      }\n      const { width, height, className } = this.props;\n\n      // Reference to svg element containing chart\n      svg = select(el).append('svg')\n        .attr('class', className)\n        .attr('width', width)\n        .attr('height', height)\n        .attr('viewBox', `0 0 ${width} ${height}`)\n        .append('g');\n    },\n\n    /**\n     * Draw a single data set into the chart\n     */\n    updateChart(\n      data: any,\n      geojson: FeatureCollection<any, any>,\n    ) {\n\n      const { width, height } = this.props;\n      const zoom = 3;\n      const projection = geoMercator()\n        .scale((width / 2 / Math.PI) * zoom)\n        .translate([(width / 2), (height / 2)]);\n\n      const geoGenerator = geoPath()\n        .projection(projection);\n\n      // const g = this.container\n      // .selectAll('g')\n      // .data(groupData);\n\n      // Join the FeatureCollection's features array to path elements\n      const u = this.container\n        .selectAll('path')\n        .data(geojson.features);\n\n      // Create path elements and update the d attribute using the geo generator\n      u.enter()\n        .append('path')\n        .attr('d', geoGenerator);\n    },\n\n    /**\n     * Update chart\n     * @param {HTMLElement} el Chart element\n     * @param {Object} props Chart props\n     */\n    update(el: HTMLElement, props: IMapProps) {\n      if (!props.data) {\n        return;\n      }\n      this.mergeProps(props);\n      const { data, geojson } = this.props;\n      this.updateChart(data, geojson);\n    },\n\n    /**\n     * Any necessary clean up\n     * @param {Element} el To remove\n     */\n    destroy(el: HTMLElement) {\n      svg.selectAll('svg > *').remove();\n    },\n  };\n  return MapD3;\n});\n","import { FeatureCollection } from 'geojson';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n\nimport {\n  IChartAdaptor,\n  IChartState,\n} from './Histogram';\nimport { mapD3 } from './MapD3';\n\nexport interface IMapProps {\n  className?: string;\n  data: any;\n  geojson: FeatureCollection<any, any>;\n  height: number;\n  width: number | string;\n}\n\n/**\n * Map component\n */\nclass Map extends React.Component<IMapProps, IChartState> {\n\n  private chart: IChartAdaptor;\n  private ref;\n\n  public static defaultProps: Partial<IMapProps> = {\n    geojson: {\n      features: [],\n      type: 'FeatureCollection',\n    },\n    height: 200,\n    width: '100%',\n  };\n\n  /**\n   * Constructor\n   * @param {Object} props\n   */\n  constructor(props: IMapProps) {\n    super(props);\n    this.chart = mapD3();\n    this.state = {\n      parentWidth: 300,\n    };\n  }\n\n  /**\n   * Handle the page resize\n   */\n  private handleResize() {\n    const elem = this.getDOMNode();\n    const width = (this.ref && this.ref.offsetWidth) ? this.ref.offsetWidth : 0;\n\n    this.setState({\n      parentWidth: width,\n    }, () => this.chart.create(elem, this.getChartState()));\n  }\n\n  /**\n   * Component mounted\n   */\n  public componentDidMount() {\n    this.chart.create(this.getDOMNode(), this.getChartState());\n    if (this.props.width === '100%') {\n      window.addEventListener('resize', (e) => this.handleResize());\n      this.handleResize();\n    }\n  }\n\n  /**\n   * Component updated\n   */\n  public componentDidUpdate() {\n    this.chart.update(this.getDOMNode(), this.getChartState());\n  }\n\n  /**\n   * Get the chart state\n   * @return {Object} ChartState\n   */\n  public getChartState(): IMapProps {\n    let { width } = this.props;\n    const { children, ...rest } = this.props;\n    if (width === '100%') {\n      width = this.state.parentWidth || 300;\n    }\n\n    return {\n      ...rest,\n      width,\n    };\n  }\n\n  /**\n   * Component will un mount, remove the chart and\n   * any event listeners\n   */\n  public componentWillUnmount() {\n    if (this.props.width === '100%') {\n      window.removeEventListener('resize', this.handleResize);\n    }\n    this.chart.destroy(this.getDOMNode());\n  }\n\n  /**\n   * Get the chart's dom node\n   * @return {Element} dom noe\n   */\n  private getDOMNode() {\n    return ReactDOM.findDOMNode(this.ref);\n  }\n\n  /**\n   * Render\n   * @return {Dom} node\n   */\n  public render(): JSX.Element {\n    return (<div ref={(ref) => this.ref = ref} className=\"map-chart-container\"></div>);\n  }\n}\n\nexport default Map;\n","import { extent } from 'd3-array';\nimport {\n  axisBottom,\n  axisLeft,\n} from 'd3-axis';\nimport {\n  scaleLinear,\n  scaleOrdinal,\n} from 'd3-scale';\nimport { select } from 'd3-selection';\nimport * as merge from 'deepmerge';\n\nimport colorScheme from './colors';\nimport { IChartPoint } from './LineChart';\nimport {\n  IScatterPlotProps,\n  ScatterPlotData,\n} from './ScatterPlot';\n\nexport const scatterPlotD3 = (() => {\n  let svg;\n  const yScale = scaleLinear();\n  const xScale = scaleLinear();\n  const domainByTrait = {};\n  let xAxis;\n  let color;\n  let yAxis;\n\n  const defaultProps = {\n    choices: [],\n    className: 'scatter-plot-d3',\n    colorScheme,\n    data: [],\n    delay: 0,\n    duration: 400,\n    height: 300,\n    legendWidth: 100,\n    padding: 20,\n    radius: 4,\n    width: '100%',\n  };\n\n  const GenerateChart = {\n\n    /**\n     * Initialization\n     * @param {Element} el Target DOM node\n     * @param {Object} props Chart properties\n     */\n    create(el: Element, props: IScatterPlotProps = defaultProps) {\n      this.props = merge(defaultProps, props);\n      this.update(el, props);\n    },\n\n    /**\n     * Make the SVG container element\n     * Recreate if it previously existed\n     * @param {Element} el Dom container node\n     * @param {Array} data Chart data\n     */\n    _makeSvg(el: Element, data: ScatterPlotData) {\n      if (svg) {\n        svg.selectAll('svg > *').remove();\n        svg.remove();\n        const childNodes = el.getElementsByTagName('svg');\n        if (childNodes.length > 0) {\n          el.removeChild(childNodes[0]);\n        }\n      }\n      const { width, className, height,\n        legendWidth, padding } = this.props;\n\n      // Reference to svg element containing chart\n      svg = select(el).append('svg')\n        .attr('class', className)\n        .attr('width', width + padding + legendWidth)\n        .attr('height', height + padding)\n        .append('g')\n        .attr('transform', 'translate(' + padding + ',' + padding / 2 + ')');\n\n      color = scaleOrdinal(this.props.colorScheme);\n    },\n\n    /**\n     * Draw the chart scales\n     * @param {Object} data Chart data\n     */\n    _drawScales(data) {\n      const { height, padding, width } = this.props;\n      const xSize = width / data.length;\n      const ySize = height / data.length;\n      xScale.range([padding / 2, xSize - padding / 2]);\n      yScale.range([height - padding / 2, padding / 2]);\n\n      svg.selectAll('.x.axis')\n        .data(data)\n        .enter().append('g')\n        .attr('class', 'x axis')\n        .attr('transform', (d, i) =>\n          'translate(' + (data.length - i - 1) * xSize + ',0)')\n        .each(function (d) {\n          xScale.domain(domainByTrait[d]);\n          select(this).call(xAxis);\n        });\n\n      svg.selectAll('.y.axis')\n        .data(data)\n        .enter().append('g')\n        .attr('class', 'y axis')\n        .attr('transform', (d: any, i: number) => 'translate(0,' + i * ySize + ')')\n        .each(function (d: any) {\n          yScale.domain(domainByTrait[d]);\n          select(this).call(yAxis);\n        });\n    },\n\n    /**\n     * Make a legend showing spit choice options\n     */\n    _drawLegend() {\n      const { choices, padding, width, split } = this.props;\n      if (choices === undefined) {\n        return;\n      }\n      const legend = svg.append('g')\n        .attr('transform', 'translate(' + (width + padding / 2) +\n          ', ' + (padding + 50) + ')');\n\n      legend.append('g').append('text')\n        .attr('x', 0)\n        .attr('y', 0)\n        .attr('dy', '.71em')\n        .text((d) => split);\n      legend.selectAll('.legendItem')\n        .data(choices)\n        .enter().append('g')\n        .each(function (c, i: number) {\n          const cell = select(this);\n          cell.append('rect')\n            .attr('class', 'legendItem')\n            .attr('x', 0)\n            .attr('y', 20 + (i * 15))\n            .attr('fill', color(i))\n            .attr('height', 10)\n            .attr('width', 10);\n\n          cell.append('text')\n            .attr('x', 15)\n            .attr('y', 20 + (i * 15))\n            .attr('dy', '.71em')\n            .text((d) => c);\n        });\n\n      legend.exit().remove();\n    },\n\n    /**\n     * Draw scatter points\n     * @param {Object} traits Chart data\n     * @param {Number} size Chart size\n     */\n    _drawPoints(traits, width: number, height: number) {\n      const { data, delay, duration,\n        choices, split, padding, radius } = this.props;\n      const n = traits.length;\n      const cell = svg.selectAll('.cell')\n        .data(cross(traits, traits))\n        .enter().append('g')\n        .attr('class', 'cell')\n        .attr('transform', (d) => 'translate(' + (n - d.i - 1) * width +\n          ',' + d.j * width + ')')\n        .each(plot);\n\n      // Titles for the diagonal.\n      cell.filter((d) => d.i === d.j).append('text')\n        .attr('x', padding)\n        .attr('y', padding)\n        .attr('dy', '.71em')\n        .text((d) => d.x);\n\n      /**\n       * Plot a point\n       * @param {Object} p Point\n       */\n      function plot(p: IChartPoint) {\n        const plotCell = select(this);\n        let circle;\n        xScale.domain(domainByTrait[Number(p.x)]);\n        yScale.domain(domainByTrait[Number(p.y)]);\n\n        plotCell.append('rect')\n          .attr('class', 'frame')\n          .attr('x', padding / 2)\n          .attr('y', padding / 2)\n          .attr('width', width - padding)\n          .attr('height', height - padding);\n\n        circle = plotCell.selectAll('circle')\n          .data(data.values)\n          .enter().append('circle')\n          .attr('r', (d) => radius)\n          .attr('cx', (d) => xScale(d[Number(p.x)]))\n          .attr('cy', (d) => yScale(d[Number(p.y)]))\n          .style('fill', (d) => {\n            if (d[split]) {\n              const i = choices.findIndex((c) => c === d[split]);\n              return color(i);\n            }\n            return '#eeaabb';\n          });\n\n        circle\n          .transition()\n          .duration(duration)\n          .delay(delay)\n          .attr('r', (d) => radius);\n      }\n\n      /**\n       * Create cross array\n       * // @TODO looks like d3 has its own cross function now...\n       * @param {Object} a point\n       * @param {Object} b point\n       * @return {Array} data\n       */\n      function cross(a, b) {\n        const c = [];\n        const nx = a.length;\n        const m = b.length;\n        let i: number;\n        let j: number;\n        for (i = -1; ++i < nx;) {\n          for (j = -1; ++j < m;) {\n            c.push({ x: a[i], i, y: b[j], j });\n          }\n        }\n        return c;\n      }\n    },\n\n    /**\n     * Update chart\n     * @param {Node} el Chart element\n     * @param {Object} props Chart props\n     */\n    update(el: Element, props: IScatterPlotProps) {\n      this.props = { ...this.props, ...props };\n      if (!props.data) {\n        return;\n      }\n      const { data, distModels, height, width } = this.props;\n      this._makeSvg(el, props.data);\n      this._drawLegend();\n      const traits = data.keys.filter((k) => distModels.indexOf(k) !== -1);\n      const xSize = width / traits.length;\n      const ySize = height / traits.length;\n      const n = traits.length;\n\n      traits.forEach((trait) => {\n        domainByTrait[trait] = extent(data.values, (d) => d[trait]);\n      });\n      xAxis = axisBottom(xScale)\n        .ticks(6)\n        .tickSize(xSize * n);\n      yAxis = axisLeft(yScale)\n        .ticks(6)\n        .tickSize(-ySize * n);\n\n      this._drawScales(traits);\n      this._drawPoints(traits, xSize, ySize);\n    },\n\n    /**\n     * Any necessary clean up\n     * @param {Element} el To remove\n     */\n    destroy(el: Element) {\n      svg.selectAll('svg > *').remove();\n    },\n  };\n  return GenerateChart;\n});\n","import * as React from 'react';\nimport { Component } from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { scatterPlotD3 } from './ScatterPlotD3';\n\ninterface IChartState {\n  choices: string[];\n  data: any[];\n  height: number;\n  distModels: string[];\n  split: string;\n  parentWidth: number;\n  width: number | string;\n}\n\nexport type ScatterPlotData = any[];\n\nexport interface IScatterPlotProps {\n  choices?: any[];\n  className?: string;\n  chartSize?: number;\n  data: ScatterPlotData;\n  delay?: number;\n  distModels?: string[];\n  duration?: number;\n  height: number;\n  legendWidth?: number;\n  colorScheme?: string[];\n  padding?: number;\n  radius?: number;\n  split?: string;\n  width: string | number;\n}\nclass ScatterPlot extends Component<IScatterPlotProps, IChartState> {\n\n  private chart;\n  private ref;\n\n  public static defaultProps = {\n    height: 400,\n    width: '100%',\n  };\n\n  constructor(props: IScatterPlotProps) {\n    super(props);\n    this.chart = scatterPlotD3();\n    this.state = {\n      choices: [],\n      data: [],\n      distModels: [],\n      height: this.props.height,\n      parentWidth: 400,\n      split: '',\n      width: this.props.width,\n    };\n  }\n\n  private handleResize() {\n    const { legendWidth, padding } = this.props;\n    const chartWidth = Math.max(200, this.ref.offsetWidth - padding - legendWidth);\n    const chartHeight = Math.max(200, window.innerHeight - padding -\n      this.ref.getBoundingClientRect().top);\n    const width = Math.min(chartHeight, chartWidth);\n\n    this.setState({\n      parentWidth: width,\n    }, () => this.chart.create(this.getDOMNode(), this.getChartState()));\n  }\n\n  public componentDidMount() {\n    this.chart.create(this.getDOMNode(), this.getChartState());\n    const { width } = this.props;\n    if (typeof width === 'string' && width === '100%') {\n      window.addEventListener('resize', (e) => this.handleResize());\n      this.handleResize();\n    }\n  }\n\n  public componentDidUpdate() {\n    this.chart.update(this.getDOMNode(), this.getChartState());\n  }\n\n  private getChartState(): IChartState {\n    let { width } = this.props;\n    const { data, choices, split, distModels, height } = this.props;\n    if (typeof width === 'string' && width === '100%') {\n      width = this.state.parentWidth || 300;\n    }\n\n    return {\n      choices,\n      data,\n      distModels,\n      height,\n      parentWidth: this.state.parentWidth,\n      split,\n      width,\n    };\n  }\n\n  public componentWillReceiveProps(props: IScatterPlotProps) {\n    this.chart.update(this.getDOMNode(), this.getChartState());\n  }\n\n  public componentWillUnmount() {\n    const { width } = this.props;\n    if (typeof width === 'string' && width === '100%') {\n      window.removeEventListener('resize', this.handleResize);\n    }\n    this.chart.destroy(this.getDOMNode());\n  }\n\n  private getDOMNode() {\n    return ReactDOM.findDOMNode(this.ref);\n  }\n\n  public render() {\n    return <div ref={(ref) => this.ref = ref} className=\"scatterplot-chart-container\"></div>;\n  }\n}\n\nexport default ScatterPlot;\n","import filterRange from './colors/filterRange';\nimport Histogram, {\n  IAxes, IHistogramBar, IHistogramData, IHistogramDataSet,\n  IHistogramProps, IStroke,\n} from './Histogram';\n\nimport HorizontalHistogram from './HorizontalHistogram';\nimport JoyPlot from './JoyPlot';\nimport Legend from './Legend';\nimport LineChart, { IChartPoint, ILineChartDataSet, ILineChartProps } from './LineChart';\nimport Map from './Map';\nimport PieChart from './PieChart';\nimport ScatterPlot from './ScatterPlot';\n\nexport {\n  filterRange,\n  JoyPlot,\n  Histogram,\n  HorizontalHistogram,\n  Legend,\n  LineChart,\n  Map,\n  PieChart,\n  ScatterPlot,\n  ILineChartDataSet,\n  IChartPoint,\n  ILineChartProps,\n  IAxes,\n  IHistogramBar,\n  IHistogramData,\n  IHistogramDataSet,\n  IHistogramProps,\n  IStroke,\n};\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Sheet = function (_PureComponent) {\n  _inherits(Sheet, _PureComponent);\n\n  function Sheet() {\n    _classCallCheck(this, Sheet);\n\n    return _possibleConstructorReturn(this, (Sheet.__proto__ || Object.getPrototypeOf(Sheet)).apply(this, arguments));\n  }\n\n  _createClass(Sheet, [{\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'table',\n        { className: this.props.className },\n        _react2.default.createElement(\n          'tbody',\n          null,\n          this.props.children\n        )\n      );\n    }\n  }]);\n\n  return Sheet;\n}(_react.PureComponent);\n\nSheet.propTypes = {\n  className: _propTypes2.default.string,\n  data: _propTypes2.default.array.isRequired\n};\n\nexports.default = Sheet;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _CellShape = require('./CellShape');\n\nvar _CellShape2 = _interopRequireDefault(_CellShape);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Row = function (_PureComponent) {\n  _inherits(Row, _PureComponent);\n\n  function Row() {\n    _classCallCheck(this, Row);\n\n    return _possibleConstructorReturn(this, (Row.__proto__ || Object.getPrototypeOf(Row)).apply(this, arguments));\n  }\n\n  _createClass(Row, [{\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'tr',\n        null,\n        this.props.children\n      );\n    }\n  }]);\n\n  return Row;\n}(_react.PureComponent);\n\nRow.propTypes = {\n  row: _propTypes2.default.number.isRequired,\n  cells: _propTypes2.default.arrayOf(_propTypes2.default.shape(_CellShape2.default)).isRequired\n};\n\nexports.default = Row;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar TAB_KEY = exports.TAB_KEY = 9;\nvar ENTER_KEY = exports.ENTER_KEY = 13;\nvar ESCAPE_KEY = exports.ESCAPE_KEY = 27;\nvar LEFT_KEY = exports.LEFT_KEY = 37;\nvar UP_KEY = exports.UP_KEY = 38;\nvar RIGHT_KEY = exports.RIGHT_KEY = 39;\nvar DOWN_KEY = exports.DOWN_KEY = 40;\nvar DELETE_KEY = exports.DELETE_KEY = 46;\nvar BACKSPACE_KEY = exports.BACKSPACE_KEY = 8;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.renderValue = renderValue;\nexports.renderData = renderData;\nfunction renderValue(cell, row, col, valueRenderer) {\n  var value = valueRenderer(cell, row, col);\n  return value === null || typeof value === 'undefined' ? '' : value;\n}\n\nfunction renderData(cell, row, col, valueRenderer, dataRenderer) {\n  var value = dataRenderer ? dataRenderer(cell, row, col) : null;\n  return value === null || typeof value === 'undefined' ? renderValue(cell, row, col, valueRenderer) : value;\n}","var isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tObject.keys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tObject.keys(source).forEach(function(key) {\n\t\tif (!options.isMergeableObject(source[key]) || !target[key]) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = deepmerge(target[key], source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nexport default deepmerge_1;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.renderData = exports.renderValue = exports.ValueViewer = exports.DataEditor = exports.Cell = exports.Row = exports.Sheet = undefined;\n\nvar _DataSheet = require('./DataSheet');\n\nvar _DataSheet2 = _interopRequireDefault(_DataSheet);\n\nvar _Sheet = require('./Sheet');\n\nvar _Sheet2 = _interopRequireDefault(_Sheet);\n\nvar _Row = require('./Row');\n\nvar _Row2 = _interopRequireDefault(_Row);\n\nvar _Cell = require('./Cell');\n\nvar _Cell2 = _interopRequireDefault(_Cell);\n\nvar _DataEditor = require('./DataEditor');\n\nvar _DataEditor2 = _interopRequireDefault(_DataEditor);\n\nvar _ValueViewer = require('./ValueViewer');\n\nvar _ValueViewer2 = _interopRequireDefault(_ValueViewer);\n\nvar _renderHelpers = require('./renderHelpers');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _DataSheet2.default;\nexports.Sheet = _Sheet2.default;\nexports.Row = _Row2.default;\nexports.Cell = _Cell2.default;\nexports.DataEditor = _DataEditor2.default;\nexports.ValueViewer = _ValueViewer2.default;\nexports.renderValue = _renderHelpers.renderValue;\nexports.renderData = _renderHelpers.renderData;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _Sheet = require('./Sheet');\n\nvar _Sheet2 = _interopRequireDefault(_Sheet);\n\nvar _Row = require('./Row');\n\nvar _Row2 = _interopRequireDefault(_Row);\n\nvar _Cell = require('./Cell');\n\nvar _Cell2 = _interopRequireDefault(_Cell);\n\nvar _DataCell = require('./DataCell');\n\nvar _DataCell2 = _interopRequireDefault(_DataCell);\n\nvar _DataEditor = require('./DataEditor');\n\nvar _DataEditor2 = _interopRequireDefault(_DataEditor);\n\nvar _ValueViewer = require('./ValueViewer');\n\nvar _ValueViewer2 = _interopRequireDefault(_ValueViewer);\n\nvar _keys = require('./keys');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar isEmpty = function isEmpty(obj) {\n  return Object.keys(obj).length === 0;\n};\n\nvar range = function range(start, end) {\n  var array = [];\n  var inc = end - start > 0;\n  for (var i = start; inc ? i <= end : i >= end; inc ? i++ : i--) {\n    inc ? array.push(i) : array.unshift(i);\n  }\n  return array;\n};\n\nvar defaultParsePaste = function defaultParsePaste(str) {\n  return str.split(/\\r\\n|\\n|\\r/).map(function (row) {\n    return row.split('\\t');\n  });\n};\n\nvar DataSheet = function (_PureComponent) {\n  _inherits(DataSheet, _PureComponent);\n\n  function DataSheet(props) {\n    _classCallCheck(this, DataSheet);\n\n    var _this = _possibleConstructorReturn(this, (DataSheet.__proto__ || Object.getPrototypeOf(DataSheet)).call(this, props));\n\n    _this.onMouseDown = _this.onMouseDown.bind(_this);\n    _this.onMouseUp = _this.onMouseUp.bind(_this);\n    _this.onMouseOver = _this.onMouseOver.bind(_this);\n    _this.onDoubleClick = _this.onDoubleClick.bind(_this);\n    _this.onContextMenu = _this.onContextMenu.bind(_this);\n    _this.handleNavigate = _this.handleNavigate.bind(_this);\n    _this.handleKey = _this.handleKey.bind(_this).bind(_this);\n    _this.handleCut = _this.handleCut.bind(_this);\n    _this.handleCopy = _this.handleCopy.bind(_this);\n    _this.handlePaste = _this.handlePaste.bind(_this);\n    _this.pageClick = _this.pageClick.bind(_this);\n    _this.onChange = _this.onChange.bind(_this);\n    _this.onRevert = _this.onRevert.bind(_this);\n    _this.isSelected = _this.isSelected.bind(_this);\n    _this.isEditing = _this.isEditing.bind(_this);\n    _this.isClearing = _this.isClearing.bind(_this);\n    _this.handleComponentKey = _this.handleComponentKey.bind(_this);\n\n    _this.handleKeyboardCellMovement = _this.handleKeyboardCellMovement.bind(_this);\n\n    _this.defaultState = {\n      start: {},\n      end: {},\n      selecting: false,\n      forceEdit: false,\n      editing: {},\n      clear: {}\n    };\n    _this.state = _this.defaultState;\n\n    _this.removeAllListeners = _this.removeAllListeners.bind(_this);\n    return _this;\n  }\n\n  _createClass(DataSheet, [{\n    key: 'removeAllListeners',\n    value: function removeAllListeners() {\n      document.removeEventListener('mousedown', this.pageClick);\n      document.removeEventListener('mouseup', this.onMouseUp);\n      document.removeEventListener('cut', this.handleCut);\n      document.removeEventListener('copy', this.handleCopy);\n      document.removeEventListener('paste', this.handlePaste);\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      // Add listener scoped to the DataSheet that catches otherwise unhandled\n      // keyboard events when displaying components\n      this.dgDom && this.dgDom.addEventListener('keydown', this.handleComponentKey);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.dgDom && this.dgDom.removeEventListener('keydown', this.handleComponentKey);\n      this.removeAllListeners();\n    }\n  }, {\n    key: 'isSelectionControlled',\n    value: function isSelectionControlled() {\n      return 'selected' in this.props;\n    }\n  }, {\n    key: 'getState',\n    value: function getState() {\n      var state = this.state;\n      if (this.isSelectionControlled()) {\n        var _ref = this.props.selected || {},\n            start = _ref.start,\n            end = _ref.end;\n\n        start = start || this.defaultState.start;\n        end = end || this.defaultState.end;\n        state = _extends({}, state, { start: start, end: end });\n      }\n      return state;\n    }\n  }, {\n    key: '_setState',\n    value: function _setState(state) {\n      if (this.isSelectionControlled() && ('start' in state || 'end' in state)) {\n        var start = state.start,\n            end = state.end,\n            rest = _objectWithoutProperties(state, ['start', 'end']);\n\n        var _props = this.props,\n            selected = _props.selected,\n            onSelect = _props.onSelect;\n\n        selected = selected || {};\n        if (!start) {\n          start = 'start' in selected ? selected.start : this.defaultState.start;\n        }\n        if (!end) {\n          end = 'end' in selected ? selected.end : this.defaultState.end;\n        }\n        onSelect && onSelect({ start: start, end: end });\n        this.setState(rest);\n      } else {\n        this.setState(state);\n      }\n    }\n  }, {\n    key: 'pageClick',\n    value: function pageClick(e) {\n      var element = this.dgDom;\n      if (!element.contains(e.target)) {\n        this.setState(this.defaultState);\n        this.removeAllListeners();\n      }\n    }\n  }, {\n    key: 'handleCut',\n    value: function handleCut(e) {\n      if (isEmpty(this.state.editing)) {\n        e.preventDefault();\n        this.handleCopy(e);\n\n        var _getState = this.getState(),\n            start = _getState.start,\n            end = _getState.end;\n\n        this.clearSelectedCells(start, end);\n      }\n    }\n  }, {\n    key: 'handleCopy',\n    value: function handleCopy(e) {\n      if (isEmpty(this.state.editing)) {\n        e.preventDefault();\n        var _props2 = this.props,\n            dataRenderer = _props2.dataRenderer,\n            valueRenderer = _props2.valueRenderer,\n            data = _props2.data;\n\n        var _getState2 = this.getState(),\n            start = _getState2.start,\n            end = _getState2.end;\n\n        var text = range(start.i, end.i).map(function (i) {\n          return range(start.j, end.j).map(function (j) {\n            var cell = data[i][j];\n            var value = dataRenderer ? dataRenderer(cell, i, j) : null;\n            if (value === '' || value === null || typeof value === 'undefined') {\n              return valueRenderer(cell, i, j);\n            }\n            return value;\n          }).join('\\t');\n        }).join('\\n');\n        e.clipboardData.setData('text/plain', text);\n      }\n    }\n  }, {\n    key: 'handlePaste',\n    value: function handlePaste(e) {\n      if (isEmpty(this.state.editing)) {\n        var _getState3 = this.getState(),\n            start = _getState3.start,\n            end = _getState3.end;\n\n        start = { i: Math.min(start.i, end.i), j: Math.min(start.j, end.j) };\n        end = { i: Math.max(start.i, end.i), j: Math.max(start.j, end.j) };\n\n        var parse = this.props.parsePaste || defaultParsePaste;\n        var changes = [];\n        var pasteData = parse(e.clipboardData.getData('text/plain'));\n        // in order of preference\n        var _props3 = this.props,\n            data = _props3.data,\n            onCellsChanged = _props3.onCellsChanged,\n            onPaste = _props3.onPaste,\n            onChange = _props3.onChange;\n\n        if (onCellsChanged) {\n          var additions = [];\n          pasteData.forEach(function (row, i) {\n            row.forEach(function (value, j) {\n              end = { i: start.i + i, j: start.j + j };\n              var cell = data[end.i] && data[end.i][end.j];\n              if (!cell) {\n                additions.push({ row: end.i, col: end.j, value: value });\n              } else if (!cell.readOnly) {\n                changes.push({ cell: cell, row: end.i, col: end.j, value: value });\n              }\n            });\n          });\n          if (additions.length) {\n            onCellsChanged(changes, additions);\n          } else {\n            onCellsChanged(changes);\n          }\n        } else if (onPaste) {\n          pasteData.forEach(function (row, i) {\n            var rowData = [];\n            row.forEach(function (pastedData, j) {\n              end = { i: start.i + i, j: start.j + j };\n              var cell = data[end.i] && data[end.i][end.j];\n              rowData.push({ cell: cell, data: pastedData });\n            });\n            changes.push(rowData);\n          });\n          onPaste(changes);\n        } else if (onChange) {\n          pasteData.forEach(function (row, i) {\n            row.forEach(function (value, j) {\n              end = { i: start.i + i, j: start.j + j };\n              var cell = data[end.i] && data[end.i][end.j];\n              if (cell && !cell.readOnly) {\n                onChange(cell, end.i, end.j, value);\n              }\n            });\n          });\n        }\n        this._setState({ end: end });\n      }\n    }\n  }, {\n    key: 'handleKeyboardCellMovement',\n    value: function handleKeyboardCellMovement(e) {\n      var commit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var _getState4 = this.getState(),\n          start = _getState4.start,\n          editing = _getState4.editing;\n\n      var data = this.props.data;\n\n      var isEditing = editing && !isEmpty(editing);\n      var currentCell = data[start.i] && data[start.i][start.j];\n\n      if (isEditing && !commit) {\n        return false;\n      }\n      var hasComponent = currentCell && currentCell.component;\n\n      var keyCode = e.which || e.keyCode;\n\n      if (hasComponent && isEditing) {\n        e.preventDefault();\n        return;\n      }\n\n      if (keyCode === _keys.TAB_KEY) {\n        this.handleNavigate(e, { i: 0, j: e.shiftKey ? -1 : 1 }, true);\n      } else if (keyCode === _keys.RIGHT_KEY) {\n        this.handleNavigate(e, { i: 0, j: 1 });\n      } else if (keyCode === _keys.LEFT_KEY) {\n        this.handleNavigate(e, { i: 0, j: -1 });\n      } else if (keyCode === _keys.UP_KEY) {\n        this.handleNavigate(e, { i: -1, j: 0 });\n      } else if (keyCode === _keys.DOWN_KEY) {\n        this.handleNavigate(e, { i: 1, j: 0 });\n      } else if (commit && keyCode === _keys.ENTER_KEY) {\n        this.handleNavigate(e, { i: e.shiftKey ? -1 : 1, j: 0 });\n      }\n    }\n  }, {\n    key: 'handleKey',\n    value: function handleKey(e) {\n      if (e.isPropagationStopped && e.isPropagationStopped()) {\n        return;\n      }\n      var keyCode = e.which || e.keyCode;\n\n      var _getState5 = this.getState(),\n          start = _getState5.start,\n          end = _getState5.end,\n          editing = _getState5.editing;\n\n      var isEditing = editing && !isEmpty(editing);\n      var noCellsSelected = !start || isEmpty(start);\n      var ctrlKeyPressed = e.ctrlKey || e.metaKey;\n      var deleteKeysPressed = keyCode === _keys.DELETE_KEY || keyCode === _keys.BACKSPACE_KEY;\n      var enterKeyPressed = keyCode === _keys.ENTER_KEY;\n      var numbersPressed = keyCode >= 48 && keyCode <= 57;\n      var lettersPressed = keyCode >= 65 && keyCode <= 90;\n      var latin1Supplement = keyCode >= 160 && keyCode <= 255;\n      var numPadKeysPressed = keyCode >= 96 && keyCode <= 105;\n      var currentCell = !noCellsSelected && this.props.data[start.i][start.j];\n      var equationKeysPressed = [187, /* equal */\n      189, /* substract */\n      190, /* period */\n      107, /* add */\n      109, /* decimal point */\n      110].indexOf(keyCode) > -1;\n\n      if (noCellsSelected || ctrlKeyPressed) {\n        return true;\n      }\n\n      if (!isEditing) {\n        this.handleKeyboardCellMovement(e);\n        if (deleteKeysPressed) {\n          e.preventDefault();\n          this.clearSelectedCells(start, end);\n        } else if (currentCell && !currentCell.readOnly) {\n          if (enterKeyPressed) {\n            this._setState({ editing: start, clear: {}, forceEdit: true });\n            e.preventDefault();\n          } else if (numbersPressed || numPadKeysPressed || lettersPressed || latin1Supplement || equationKeysPressed) {\n            // empty out cell if user starts typing without pressing enter\n            this._setState({ editing: start, clear: start, forceEdit: false });\n          }\n        }\n      }\n    }\n  }, {\n    key: 'getSelectedCells',\n    value: function getSelectedCells(data, start, end) {\n      var selected = [];\n      range(start.i, end.i).map(function (row) {\n        range(start.j, end.j).map(function (col) {\n          if (data[row] && data[row][col]) {\n            selected.push({ cell: data[row][col], row: row, col: col });\n          }\n        });\n      });\n      return selected;\n    }\n  }, {\n    key: 'clearSelectedCells',\n    value: function clearSelectedCells(start, end) {\n      var _this2 = this;\n\n      var _props4 = this.props,\n          data = _props4.data,\n          onCellsChanged = _props4.onCellsChanged,\n          onChange = _props4.onChange;\n\n      var cells = this.getSelectedCells(data, start, end).filter(function (cell) {\n        return !cell.cell.readOnly;\n      }).map(function (cell) {\n        return _extends({}, cell, { value: '' });\n      });\n      if (onCellsChanged) {\n        onCellsChanged(cells);\n        this.onRevert();\n      } else if (onChange) {\n        // ugly solution brought to you by https://reactjs.org/docs/react-component.html#setstate\n        // setState in a loop is unreliable\n        setTimeout(function () {\n          cells.forEach(function (_ref2) {\n            var cell = _ref2.cell,\n                row = _ref2.row,\n                col = _ref2.col,\n                value = _ref2.value;\n\n            onChange(cell, row, col, value);\n          });\n          _this2.onRevert();\n        }, 0);\n      }\n    }\n  }, {\n    key: 'handleNavigate',\n    value: function handleNavigate(e, offsets, jumpRow) {\n      var _this3 = this;\n\n      if (offsets && (offsets.i || offsets.j)) {\n        var _getState6 = this.getState(),\n            start = _getState6.start;\n\n        var data = this.props.data;\n\n        var newLocation = { i: start.i + offsets.i, j: start.j + offsets.j };\n        var updateLocation = function updateLocation() {\n          if (data[newLocation.i] && typeof data[newLocation.i][newLocation.j] !== 'undefined') {\n            _this3._setState({ start: newLocation, end: newLocation, editing: {} });\n            e.preventDefault();\n            return true;\n          }\n          return false;\n        };\n        if (!updateLocation() && jumpRow) {\n          if (offsets.j < 0) {\n            newLocation = { i: start.i - 1, j: data[0].length - 1 };\n          } else {\n            newLocation = { i: start.i + 1, j: 0 };\n          }\n          updateLocation();\n        }\n      }\n    }\n  }, {\n    key: 'handleComponentKey',\n    value: function handleComponentKey(e) {\n      var _this4 = this;\n\n      // handles keyboard events when editing components\n      var keyCode = e.which || e.keyCode;\n      if (![_keys.ENTER_KEY, _keys.ESCAPE_KEY, _keys.TAB_KEY].includes(keyCode)) {\n        return;\n      }\n      var editing = this.state.editing;\n      var data = this.props.data;\n\n      var isEditing = !isEmpty(editing);\n      if (isEditing) {\n        var currentCell = data[editing.i][editing.j];\n        var offset = e.shiftKey ? -1 : 1;\n        if (currentCell && currentCell.component && !currentCell.forceComponent) {\n          e.preventDefault();\n          var func = this.onRevert; // ESCAPE_KEY\n          if (keyCode === _keys.ENTER_KEY) {\n            func = function func() {\n              return _this4.handleNavigate(e, { i: offset, j: 0 });\n            };\n          } else if (keyCode === _keys.TAB_KEY) {\n            func = function func() {\n              return _this4.handleNavigate(e, { i: 0, j: offset }, true);\n            };\n          }\n          // setTimeout makes sure that component is done handling the event before we take over\n          setTimeout(function () {\n            func();_this4.dgDom && _this4.dgDom.focus();\n          }, 1);\n        }\n      }\n    }\n  }, {\n    key: 'onContextMenu',\n    value: function onContextMenu(evt, i, j) {\n      var cell = this.props.data[i][j];\n      if (this.props.onContextMenu) {\n        this.props.onContextMenu(evt, cell, i, j);\n      }\n    }\n  }, {\n    key: 'onDoubleClick',\n    value: function onDoubleClick(i, j) {\n      var cell = this.props.data[i][j];\n      if (!cell.readOnly) {\n        this._setState({ editing: { i: i, j: j }, forceEdit: true, clear: {} });\n      }\n    }\n  }, {\n    key: 'onMouseDown',\n    value: function onMouseDown(i, j) {\n      var editing = isEmpty(this.state.editing) || this.state.editing.i !== i || this.state.editing.j !== j ? {} : this.state.editing;\n      this._setState({ selecting: true, start: { i: i, j: j }, end: { i: i, j: j }, editing: editing, forceEdit: false });\n\n      // Keep listening to mouse if user releases the mouse (dragging outside)\n      document.addEventListener('mouseup', this.onMouseUp);\n      // Listen for any outside mouse clicks\n      document.addEventListener('mousedown', this.pageClick);\n\n      // Cut, copy and paste event handlers\n      document.addEventListener('cut', this.handleCut);\n      document.addEventListener('copy', this.handleCopy);\n      document.addEventListener('paste', this.handlePaste);\n    }\n  }, {\n    key: 'onMouseOver',\n    value: function onMouseOver(i, j) {\n      if (this.state.selecting && isEmpty(this.state.editing)) {\n        this._setState({ end: { i: i, j: j } });\n      }\n    }\n  }, {\n    key: 'onMouseUp',\n    value: function onMouseUp() {\n      this._setState({ selecting: false });\n      document.removeEventListener('mouseup', this.onMouseUp);\n    }\n  }, {\n    key: 'onChange',\n    value: function onChange(row, col, value) {\n      var _props5 = this.props,\n          onChange = _props5.onChange,\n          onCellsChanged = _props5.onCellsChanged,\n          data = _props5.data;\n\n      if (onCellsChanged) {\n        onCellsChanged([{ cell: data[row][col], row: row, col: col, value: value }]);\n      } else if (onChange) {\n        onChange(data[row][col], row, col, value);\n      }\n      this.onRevert();\n    }\n  }, {\n    key: 'onRevert',\n    value: function onRevert() {\n      this._setState({ editing: {} });\n      this.dgDom && this.dgDom.focus();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _state = this.state,\n          start = _state.start,\n          end = _state.end;\n\n      var prevEnd = prevState.end;\n      if (!isEmpty(end) && !(end.i === prevEnd.i && end.j === prevEnd.j) && !this.isSelectionControlled()) {\n        this.props.onSelect && this.props.onSelect({ start: start, end: end });\n      }\n    }\n  }, {\n    key: 'isSelected',\n    value: function isSelected(i, j) {\n      var _getState7 = this.getState(),\n          start = _getState7.start,\n          end = _getState7.end;\n\n      var posX = j >= start.j && j <= end.j;\n      var negX = j <= start.j && j >= end.j;\n      var posY = i >= start.i && i <= end.i;\n      var negY = i <= start.i && i >= end.i;\n\n      return posX && posY || negX && posY || negX && negY || posX && negY;\n    }\n  }, {\n    key: 'isEditing',\n    value: function isEditing(i, j) {\n      return this.state.editing.i === i && this.state.editing.j === j;\n    }\n  }, {\n    key: 'isClearing',\n    value: function isClearing(i, j) {\n      return this.state.clear.i === i && this.state.clear.j === j;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this5 = this;\n\n      var _props6 = this.props,\n          SheetRenderer = _props6.sheetRenderer,\n          RowRenderer = _props6.rowRenderer,\n          cellRenderer = _props6.cellRenderer,\n          dataRenderer = _props6.dataRenderer,\n          valueRenderer = _props6.valueRenderer,\n          dataEditor = _props6.dataEditor,\n          valueViewer = _props6.valueViewer,\n          attributesRenderer = _props6.attributesRenderer,\n          className = _props6.className,\n          overflow = _props6.overflow,\n          data = _props6.data,\n          keyFn = _props6.keyFn;\n      var forceEdit = this.state.forceEdit;\n\n\n      return _react2.default.createElement(\n        'span',\n        { ref: function ref(r) {\n            _this5.dgDom = r;\n          }, tabIndex: '0', className: 'data-grid-container', onKeyDown: this.handleKey },\n        _react2.default.createElement(\n          SheetRenderer,\n          { data: data, className: ['data-grid', className, overflow].filter(function (a) {\n              return a;\n            }).join(' ') },\n          data.map(function (row, i) {\n            return _react2.default.createElement(\n              RowRenderer,\n              { key: keyFn ? keyFn(i) : i, row: i, cells: row },\n              row.map(function (cell, j) {\n                return _react2.default.createElement(_DataCell2.default, {\n                  key: cell.key ? cell.key : i + '-' + j,\n                  row: i,\n                  col: j,\n                  cell: cell,\n                  forceEdit: forceEdit,\n                  onMouseDown: _this5.onMouseDown,\n                  onMouseOver: _this5.onMouseOver,\n                  onDoubleClick: _this5.onDoubleClick,\n                  onContextMenu: _this5.onContextMenu,\n                  onChange: _this5.onChange,\n                  onRevert: _this5.onRevert,\n                  onNavigate: _this5.handleKeyboardCellMovement,\n                  onKey: _this5.handleKey,\n                  selected: _this5.isSelected(i, j),\n                  editing: _this5.isEditing(i, j),\n                  clearing: _this5.isClearing(i, j),\n                  attributesRenderer: attributesRenderer,\n                  cellRenderer: cellRenderer,\n                  valueRenderer: valueRenderer,\n                  dataRenderer: dataRenderer,\n                  valueViewer: valueViewer,\n                  dataEditor: dataEditor\n                });\n              })\n            );\n          })\n        )\n      );\n    }\n  }]);\n\n  return DataSheet;\n}(_react.PureComponent);\n\nexports.default = DataSheet;\n\n\nDataSheet.propTypes = {\n  data: _propTypes2.default.array.isRequired,\n  className: _propTypes2.default.string,\n  overflow: _propTypes2.default.oneOf(['wrap', 'nowrap', 'clip']),\n  onChange: _propTypes2.default.func,\n  onCellsChanged: _propTypes2.default.func,\n  onContextMenu: _propTypes2.default.func,\n  onSelect: _propTypes2.default.func,\n  selected: _propTypes2.default.shape({\n    start: _propTypes2.default.shape({\n      i: _propTypes2.default.number,\n      j: _propTypes2.default.number\n    }),\n    end: _propTypes2.default.shape({\n      i: _propTypes2.default.number,\n      j: _propTypes2.default.number\n    })\n  }),\n  valueRenderer: _propTypes2.default.func.isRequired,\n  dataRenderer: _propTypes2.default.func,\n  sheetRenderer: _propTypes2.default.func.isRequired,\n  rowRenderer: _propTypes2.default.func.isRequired,\n  cellRenderer: _propTypes2.default.func.isRequired,\n  valueViewer: _propTypes2.default.func,\n  dataEditor: _propTypes2.default.func,\n  parsePaste: _propTypes2.default.func,\n  attributesRenderer: _propTypes2.default.func,\n  keyFn: _propTypes2.default.func\n};\n\nDataSheet.defaultProps = {\n  sheetRenderer: _Sheet2.default,\n  rowRenderer: _Row2.default,\n  cellRenderer: _Cell2.default,\n  valueViewer: _ValueViewer2.default,\n  dataEditor: _DataEditor2.default\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _keys = require('./keys');\n\nvar _Cell = require('./Cell');\n\nvar _Cell2 = _interopRequireDefault(_Cell);\n\nvar _CellShape = require('./CellShape');\n\nvar _CellShape2 = _interopRequireDefault(_CellShape);\n\nvar _DataEditor = require('./DataEditor');\n\nvar _DataEditor2 = _interopRequireDefault(_DataEditor);\n\nvar _ValueViewer = require('./ValueViewer');\n\nvar _ValueViewer2 = _interopRequireDefault(_ValueViewer);\n\nvar _renderHelpers = require('./renderHelpers');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction initialData(_ref) {\n  var cell = _ref.cell,\n      row = _ref.row,\n      col = _ref.col,\n      valueRenderer = _ref.valueRenderer,\n      dataRenderer = _ref.dataRenderer;\n\n  return (0, _renderHelpers.renderData)(cell, row, col, valueRenderer, dataRenderer);\n}\n\nfunction initialValue(_ref2) {\n  var cell = _ref2.cell,\n      row = _ref2.row,\n      col = _ref2.col,\n      valueRenderer = _ref2.valueRenderer;\n\n  return (0, _renderHelpers.renderValue)(cell, row, col, valueRenderer);\n}\n\nfunction widthStyle(cell) {\n  var width = typeof cell.width === 'number' ? cell.width + 'px' : cell.width;\n  return width ? { width: width } : null;\n}\n\nvar DataCell = function (_PureComponent) {\n  _inherits(DataCell, _PureComponent);\n\n  function DataCell(props) {\n    _classCallCheck(this, DataCell);\n\n    var _this = _possibleConstructorReturn(this, (DataCell.__proto__ || Object.getPrototypeOf(DataCell)).call(this, props));\n\n    _this.handleChange = _this.handleChange.bind(_this);\n    _this.handleCommit = _this.handleCommit.bind(_this);\n    _this.handleRevert = _this.handleRevert.bind(_this);\n\n    _this.handleKey = _this.handleKey.bind(_this);\n    _this.handleMouseDown = _this.handleMouseDown.bind(_this);\n    _this.handleMouseOver = _this.handleMouseOver.bind(_this);\n    _this.handleContextMenu = _this.handleContextMenu.bind(_this);\n    _this.handleDoubleClick = _this.handleDoubleClick.bind(_this);\n\n    _this.state = { updated: false, reverting: false, value: '', committing: false };\n    return _this;\n  }\n\n  _createClass(DataCell, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var _this2 = this;\n\n      if (initialValue(nextProps) !== initialValue(this.props)) {\n        this.setState({ updated: true });\n        this.timeout = setTimeout(function () {\n          return _this2.setState({ updated: false });\n        }, 700);\n      }\n      if (nextProps.editing === true && this.props.editing === false) {\n        var value = nextProps.clearing ? '' : initialData(nextProps);\n        this.setState({ value: value, reverting: false });\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.editing === true && this.props.editing === false && !this.state.reverting && !this.state.committing && this.state.value !== initialData(this.props)) {\n        this.props.onChange(this.props.row, this.props.col, this.state.value);\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      clearTimeout(this.timeout);\n    }\n  }, {\n    key: 'handleChange',\n    value: function handleChange(value) {\n      this.setState({ value: value, committing: false });\n    }\n  }, {\n    key: 'handleCommit',\n    value: function handleCommit(value, e) {\n      var _props = this.props,\n          onChange = _props.onChange,\n          onNavigate = _props.onNavigate;\n\n      if (value !== initialData(this.props)) {\n        this.setState({ value: value, committing: true });\n        onChange(this.props.row, this.props.col, value);\n      } else {\n        this.handleRevert();\n      }\n      if (e) {\n        e.preventDefault();\n        onNavigate(e, true);\n      }\n    }\n  }, {\n    key: 'handleRevert',\n    value: function handleRevert() {\n      this.setState({ reverting: true });\n      this.props.onRevert();\n    }\n  }, {\n    key: 'handleMouseDown',\n    value: function handleMouseDown(e) {\n      var _props2 = this.props,\n          row = _props2.row,\n          col = _props2.col,\n          onMouseDown = _props2.onMouseDown,\n          cell = _props2.cell;\n\n      if (!cell.disableEvents) {\n        onMouseDown(row, col);\n      }\n    }\n  }, {\n    key: 'handleMouseOver',\n    value: function handleMouseOver(e) {\n      var _props3 = this.props,\n          row = _props3.row,\n          col = _props3.col,\n          onMouseOver = _props3.onMouseOver,\n          cell = _props3.cell;\n\n      if (!cell.disableEvents) {\n        onMouseOver(row, col);\n      }\n    }\n  }, {\n    key: 'handleDoubleClick',\n    value: function handleDoubleClick(e) {\n      var _props4 = this.props,\n          row = _props4.row,\n          col = _props4.col,\n          onDoubleClick = _props4.onDoubleClick,\n          cell = _props4.cell;\n\n      if (!cell.disableEvents) {\n        onDoubleClick(row, col);\n      }\n    }\n  }, {\n    key: 'handleContextMenu',\n    value: function handleContextMenu(e) {\n      var _props5 = this.props,\n          row = _props5.row,\n          col = _props5.col,\n          onContextMenu = _props5.onContextMenu,\n          cell = _props5.cell;\n\n      if (!cell.disableEvents) {\n        onContextMenu(e, row, col);\n      }\n    }\n  }, {\n    key: 'handleKey',\n    value: function handleKey(e) {\n      var keyCode = e.which || e.keyCode;\n      if (keyCode === _keys.ESCAPE_KEY) {\n        return this.handleRevert();\n      }\n      var _props6 = this.props,\n          component = _props6.cell.component,\n          forceEdit = _props6.forceEdit;\n\n      var eatKeys = forceEdit || !!component;\n      var commit = keyCode === _keys.ENTER_KEY || keyCode === _keys.TAB_KEY || !eatKeys && [_keys.LEFT_KEY, _keys.RIGHT_KEY, _keys.UP_KEY, _keys.DOWN_KEY].includes(keyCode);\n\n      if (commit) {\n        this.handleCommit(this.state.value, e);\n      }\n    }\n  }, {\n    key: 'renderComponent',\n    value: function renderComponent(editing, cell) {\n      var component = cell.component,\n          readOnly = cell.readOnly,\n          forceComponent = cell.forceComponent;\n\n      if (editing && !readOnly || forceComponent) {\n        return component;\n      }\n    }\n  }, {\n    key: 'renderEditor',\n    value: function renderEditor(editing, cell, row, col, dataEditor) {\n      if (editing) {\n        var Editor = cell.dataEditor || dataEditor || _DataEditor2.default;\n        return _react2.default.createElement(Editor, {\n          cell: cell,\n          row: row,\n          col: col,\n          value: this.state.value,\n          onChange: this.handleChange,\n          onCommit: this.handleCommit,\n          onRevert: this.handleRevert,\n          onKeyDown: this.handleKey\n        });\n      }\n    }\n  }, {\n    key: 'renderViewer',\n    value: function renderViewer(cell, row, col, valueRenderer, valueViewer) {\n      var Viewer = cell.valueViewer || valueViewer || _ValueViewer2.default;\n      var value = (0, _renderHelpers.renderValue)(cell, row, col, valueRenderer);\n      return _react2.default.createElement(Viewer, { cell: cell, row: row, col: col, value: value });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props7 = this.props,\n          row = _props7.row,\n          col = _props7.col,\n          cell = _props7.cell,\n          CellRenderer = _props7.cellRenderer,\n          valueRenderer = _props7.valueRenderer,\n          dataEditor = _props7.dataEditor,\n          valueViewer = _props7.valueViewer,\n          attributesRenderer = _props7.attributesRenderer,\n          selected = _props7.selected,\n          editing = _props7.editing,\n          onKeyUp = _props7.onKeyUp;\n      var updated = this.state.updated;\n\n\n      var content = this.renderComponent(editing, cell) || this.renderEditor(editing, cell, row, col, dataEditor) || this.renderViewer(cell, row, col, valueRenderer, valueViewer);\n\n      var className = [cell.className, 'cell', cell.overflow, selected && 'selected', editing && 'editing', cell.readOnly && 'read-only', updated && 'updated'].filter(function (a) {\n        return a;\n      }).join(' ');\n\n      return _react2.default.createElement(\n        CellRenderer,\n        {\n          row: row,\n          col: col,\n          cell: cell,\n          selected: selected,\n          editing: editing,\n          updated: updated,\n          attributesRenderer: attributesRenderer,\n          className: className,\n          style: widthStyle(cell),\n          onMouseDown: this.handleMouseDown,\n          onMouseOver: this.handleMouseOver,\n          onDoubleClick: this.handleDoubleClick,\n          onContextMenu: this.handleContextMenu,\n          onKeyUp: onKeyUp\n        },\n        content\n      );\n    }\n  }]);\n\n  return DataCell;\n}(_react.PureComponent);\n\nexports.default = DataCell;\n\n\nDataCell.propTypes = {\n  row: _propTypes2.default.number.isRequired,\n  col: _propTypes2.default.number.isRequired,\n  cell: _propTypes2.default.shape(_CellShape2.default).isRequired,\n  forceEdit: _propTypes2.default.bool,\n  selected: _propTypes2.default.bool,\n  editing: _propTypes2.default.bool,\n  clearing: _propTypes2.default.bool,\n  cellRenderer: _propTypes2.default.func,\n  valueRenderer: _propTypes2.default.func.isRequired,\n  dataRenderer: _propTypes2.default.func,\n  valueViewer: _propTypes2.default.func,\n  dataEditor: _propTypes2.default.func,\n  attributesRenderer: _propTypes2.default.func,\n  onNavigate: _propTypes2.default.func.isRequired,\n  onMouseDown: _propTypes2.default.func.isRequired,\n  onMouseOver: _propTypes2.default.func.isRequired,\n  onDoubleClick: _propTypes2.default.func.isRequired,\n  onContextMenu: _propTypes2.default.func.isRequired,\n  onChange: _propTypes2.default.func.isRequired,\n  onRevert: _propTypes2.default.func.isRequired\n};\n\nDataCell.defaultProps = {\n  forceEdit: false,\n  selected: false,\n  editing: false,\n  clearing: false,\n  cellRenderer: _Cell2.default\n};","import React, { FC } from 'react';\n\nimport { Typography } from '@material-ui/core';\n\nexport const TabContainer: FC<{}> = (props) => {\n  return (\n    <Typography component=\"div\" style={{ padding: 8 * 3 }}>\n      {props.children}\n    </Typography>\n  );\n};\n\n","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function get() {\n    return _Slider.default;\n  }\n});\nObject.defineProperty(exports, \"defaultValueReducer\", {\n  enumerable: true,\n  get: function get() {\n    return _Slider.defaultValueReducer;\n  }\n});\n\nvar _Slider = _interopRequireWildcard(require(\"./Slider\"));","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.defaultValueReducer = defaultValueReducer;\nexports.default = exports.styles = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf3 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _withStyles = _interopRequireDefault(require(\"@material-ui/core/styles/withStyles\"));\n\nvar _ButtonBase = _interopRequireDefault(require(\"@material-ui/core/ButtonBase\"));\n\nvar _colorManipulator = require(\"@material-ui/core/styles/colorManipulator\");\n\nvar _utils = require(\"@material-ui/utils\");\n\nvar _clamp = _interopRequireDefault(require(\"../utils/clamp\"));\n\nvar styles = function styles(theme) {\n  var commonTransitionsOptions = {\n    duration: theme.transitions.duration.shortest,\n    easing: theme.transitions.easing.easeOut\n  };\n  var trackTransitions = theme.transitions.create(['width', 'height', 'transform'], commonTransitionsOptions);\n  var thumbTransitions = theme.transitions.create(['transform', 'box-shadow'], commonTransitionsOptions);\n  var colors = {\n    primary: theme.palette.primary.main,\n    disabled: theme.palette.grey[400],\n    thumbOutline: (0, _colorManipulator.fade)(theme.palette.primary.main, 0.16)\n  };\n  /**\r\n   * radius of the box-shadow when pressed\r\n   * hover should have a diameter equal to the pressed radius\r\n   */\n\n  var pressedOutlineRadius = 9;\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      position: 'relative',\n      width: '100%',\n      cursor: 'pointer',\n      WebkitTapHighlightColor: 'transparent',\n      '&$disabled': {\n        cursor: 'no-drop'\n      },\n      '&$vertical': {\n        height: '100%'\n      }\n    },\n\n    /* Styles applied to the container element. */\n    container: {\n      position: 'relative',\n      '&$vertical': {\n        height: '100%'\n      }\n    },\n\n    /* Styles applied to the track elements. */\n    track: {\n      position: 'absolute',\n      transform: 'translate(0, -50%)',\n      top: '50%',\n      width: '100%',\n      height: 2,\n      backgroundColor: colors.primary,\n      transition: trackTransitions,\n      '&$activated': {\n        transition: 'none'\n      },\n      '&$disabled': {\n        backgroundColor: colors.disabled,\n        boxShadow: 'none'\n      },\n      '&$vertical': {\n        transform: 'translate(-50%, 0)',\n        left: '50%',\n        top: 'initial',\n        bottom: 0,\n        width: 2,\n        height: '100%'\n      }\n    },\n\n    /* Styles applied to the track element before the thumb. */\n    trackBefore: {\n      zIndex: 1,\n      left: 0,\n      transformOrigin: 'left bottom'\n    },\n\n    /* Styles applied to the track element after the thumb. */\n    trackAfter: {\n      right: 0,\n      opacity: 0.24,\n      transformOrigin: 'right top',\n      '&$vertical': {\n        top: 0\n      }\n    },\n\n    /* Styles applied to the thumb wrapper element. */\n    thumbWrapper: {\n      position: 'relative',\n      zIndex: 2,\n      transition: thumbTransitions,\n      '&$activated': {\n        transition: 'none'\n      },\n      '&$vertical': {\n        bottom: 0,\n        height: '100%'\n      }\n    },\n\n    /* Styles applied to the thumb element. */\n    thumb: {\n      // Opt out of rtl flip as positioning here only is for centering\n      flip: false,\n      position: 'absolute',\n      left: 0,\n      transform: 'translate(-50%, -50%)',\n      width: 12,\n      height: 12,\n      borderRadius: '50%',\n      backgroundColor: colors.primary,\n      transition: thumbTransitions,\n      '&$focused, &:hover': {\n        boxShadow: \"0px 0px 0px \".concat(pressedOutlineRadius, \"px \").concat(colors.thumbOutline)\n      },\n      '&$activated': {\n        boxShadow: \"0px 0px 0px \".concat(pressedOutlineRadius * 2, \"px \").concat(colors.thumbOutline)\n      },\n      '&$disabled': {\n        cursor: 'no-drop',\n        width: 9,\n        height: 9,\n        backgroundColor: colors.disabled\n      },\n      '&$jumped': {\n        boxShadow: \"0px 0px 0px \".concat(pressedOutlineRadius * 2, \"px \").concat(colors.thumbOutline)\n      }\n    },\n\n    /* Class applied to the thumb element if custom thumb icon provided. */\n    thumbIconWrapper: {\n      backgroundColor: 'transparent'\n    },\n    thumbIcon: {\n      height: 'inherit',\n      width: 'inherit'\n    },\n\n    /* Class applied to the track and thumb elements to trigger JSS nested styles if `disabled`. */\n    disabled: {},\n\n    /* Class applied to the track and thumb elements to trigger JSS nested styles if `jumped`. */\n    jumped: {},\n\n    /* Class applied to the track and thumb elements to trigger JSS nested styles if `focused`. */\n    focused: {},\n\n    /* Class applied to the track and thumb elements to trigger JSS nested styles if `activated`. */\n    activated: {},\n\n    /* Class applied to the root, track and container to trigger JSS nested styles if `vertical`. */\n    vertical: {}\n  };\n};\n\nexports.styles = styles;\n\nfunction percentToValue(percent, min, max) {\n  return (max - min) * percent / 100 + min;\n}\n\nfunction roundToStep(number, step) {\n  return Math.round(number / step) * step;\n}\n\nfunction getOffset(node) {\n  var _global = global,\n      pageYOffset = _global.pageYOffset,\n      pageXOffset = _global.pageXOffset;\n\n  var _node$getBoundingClie = node.getBoundingClientRect(),\n      left = _node$getBoundingClie.left,\n      bottom = _node$getBoundingClie.bottom;\n\n  return {\n    bottom: bottom + pageYOffset,\n    left: left + pageXOffset\n  };\n}\n\nfunction getMousePosition(event, touchId) {\n  if (event.changedTouches) {\n    // event.changedTouches.findIndex(touch => touch.identifier === touchId)\n    var touchIndex = 0;\n\n    for (var i = 0; i < event.changedTouches.length; i += 1) {\n      var touch = event.changedTouches[i];\n\n      if (touch.identifier === touchId) {\n        touchIndex = i;\n        break;\n      }\n    }\n\n    if (event.changedTouches[touchIndex]) {\n      return {\n        x: event.changedTouches[touchIndex].pageX,\n        y: event.changedTouches[touchIndex].pageY\n      };\n    }\n  }\n\n  return {\n    x: event.pageX,\n    y: event.pageY\n  };\n}\n\nfunction calculatePercent(node, event, isVertical, isRtl, touchId) {\n  var _node$getBoundingClie2 = node.getBoundingClientRect(),\n      width = _node$getBoundingClie2.width,\n      height = _node$getBoundingClie2.height;\n\n  var _getOffset = getOffset(node),\n      bottom = _getOffset.bottom,\n      left = _getOffset.left;\n\n  var _getMousePosition = getMousePosition(event, touchId),\n      x = _getMousePosition.x,\n      y = _getMousePosition.y;\n\n  var value = isVertical ? bottom - y : x - left;\n  var onePercent = (isVertical ? height : width) / 100;\n  return isRtl && !isVertical ? 100 - (0, _clamp.default)(value / onePercent) : (0, _clamp.default)(value / onePercent);\n}\n\nfunction preventPageScrolling(event) {\n  event.preventDefault();\n}\n/* istanbul ignore if */\n\n\nif (process.env.NODE_ENV !== 'production' && !_react.default.createContext) {\n  throw new Error('Material-UI: react@16.3.0 or greater is required.');\n}\n/**\r\n * @param {number} rawValue\r\n * @param {object} props\r\n */\n\n\nfunction defaultValueReducer(rawValue, props) {\n  var disabled = props.disabled,\n      step = props.step;\n\n  if (disabled) {\n    return null;\n  }\n\n  if (step) {\n    return roundToStep(rawValue, step);\n  }\n\n  return Number(rawValue.toFixed(3));\n}\n\nvar Slider =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inherits2.default)(Slider, _React$Component);\n\n  function Slider() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    (0, _classCallCheck2.default)(this, Slider);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = (0, _possibleConstructorReturn2.default)(this, (_getPrototypeOf2 = (0, _getPrototypeOf3.default)(Slider)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      currentState: 'initial'\n    };\n    _this.jumpAnimationTimeoutId = -1;\n    _this.touchId = undefined;\n\n    _this.handleKeyDown = function (event) {\n      var _this$props = _this.props,\n          min = _this$props.min,\n          max = _this$props.max,\n          currentValue = _this$props.value;\n      var onePercent = Math.abs((max - min) / 100);\n      var step = _this.props.step || onePercent;\n      var value;\n\n      switch (event.key) {\n        case 'Home':\n          value = min;\n          break;\n\n        case 'End':\n          value = max;\n          break;\n\n        case 'PageUp':\n          value = currentValue + onePercent * 10;\n          break;\n\n        case 'PageDown':\n          value = currentValue - onePercent * 10;\n          break;\n\n        case 'ArrowRight':\n        case 'ArrowUp':\n          value = currentValue + step;\n          break;\n\n        case 'ArrowLeft':\n        case 'ArrowDown':\n          value = currentValue - step;\n          break;\n\n        default:\n          return;\n      }\n\n      event.preventDefault();\n      value = (0, _clamp.default)(value, min, max);\n\n      _this.emitChange(event, value);\n    };\n\n    _this.handleFocus = function () {\n      _this.setState({\n        currentState: 'focused'\n      });\n    };\n\n    _this.handleBlur = function () {\n      _this.setState({\n        currentState: 'normal'\n      });\n    };\n\n    _this.handleClick = function (event) {\n      var _this$props2 = _this.props,\n          min = _this$props2.min,\n          max = _this$props2.max,\n          vertical = _this$props2.vertical;\n      var percent = calculatePercent(_this.containerRef, event, vertical, _this.isReverted(), _this.touchId);\n      var value = percentToValue(percent, min, max);\n\n      _this.emitChange(event, value, function () {\n        _this.playJumpAnimation();\n      });\n    };\n\n    _this.handleMouseEnter = function (event) {\n      // If the slider was being interacted with but the mouse went off the window\n      // and then re-entered while unclicked then end the interaction.\n      if (event.buttons === 0) {\n        _this.handleDragEnd(event);\n      }\n    };\n\n    _this.handleMouseLeave = function (event) {\n      // The mouse will have moved between the last mouse move event\n      // this mouse leave event\n      _this.handleMouseMove(event);\n    };\n\n    _this.handleTouchStart = function (event) {\n      event.preventDefault();\n      var touch = event.changedTouches.item(0);\n\n      if (touch != null) {\n        _this.touchId = touch.identifier;\n      }\n\n      _this.setState({\n        currentState: 'activated'\n      });\n\n      document.body.addEventListener('touchend', _this.handleTouchEnd);\n\n      if (typeof _this.props.onDragStart === 'function') {\n        _this.props.onDragStart(event);\n      }\n    };\n\n    _this.handleMouseDown = function (event) {\n      event.preventDefault();\n\n      _this.setState({\n        currentState: 'activated'\n      });\n\n      document.body.addEventListener('mouseenter', _this.handleMouseEnter);\n      document.body.addEventListener('mouseleave', _this.handleMouseLeave);\n      document.body.addEventListener('mousemove', _this.handleMouseMove);\n      document.body.addEventListener('mouseup', _this.handleMouseUp);\n\n      if (typeof _this.props.onDragStart === 'function') {\n        _this.props.onDragStart(event);\n      }\n    };\n\n    _this.handleTouchEnd = function (event) {\n      if (_this.touchId === undefined) {\n        _this.handleMouseUp(event);\n      }\n\n      for (var i = 0; i < event.changedTouches.length; i += 1) {\n        var touch = event.changedTouches.item(i);\n\n        if (touch.identifier === _this.touchId) {\n          _this.handleMouseUp(event);\n\n          break;\n        }\n      }\n    };\n\n    _this.handleMouseUp = function (event) {\n      _this.handleDragEnd(event);\n    };\n\n    _this.handleTouchMove = function (event) {\n      if (_this.touchId === undefined) {\n        _this.handleMouseMove(event);\n      }\n\n      for (var i = 0; i < event.changedTouches.length; i += 1) {\n        var touch = event.changedTouches.item(i);\n\n        if (touch.identifier === _this.touchId) {\n          _this.handleMouseMove(event);\n\n          break;\n        }\n      }\n    };\n\n    _this.handleMouseMove = function (event) {\n      var _this$props3 = _this.props,\n          min = _this$props3.min,\n          max = _this$props3.max,\n          vertical = _this$props3.vertical;\n      var percent = calculatePercent(_this.containerRef, event, vertical, _this.isReverted(), _this.touchId);\n      var value = percentToValue(percent, min, max);\n\n      _this.emitChange(event, value);\n    };\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(Slider, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.containerRef) {\n        this.containerRef.addEventListener('touchstart', preventPageScrolling, {\n          passive: false\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      // Guarding for **broken** shallow rendering method that call componentDidMount\n      // but doesn't handle refs correctly.\n      // To remove once the shallow rendering has been fixed.\n      if (this.containerRef) {\n        this.containerRef.removeEventListener('touchstart', preventPageScrolling, {\n          passive: false\n        });\n      }\n\n      document.body.removeEventListener('mouseenter', this.handleMouseEnter);\n      document.body.removeEventListener('mouseleave', this.handleMouseLeave);\n      document.body.removeEventListener('mousemove', this.handleMouseMove);\n      document.body.removeEventListener('mouseup', this.handleMouseUp);\n      clearTimeout(this.jumpAnimationTimeoutId);\n    }\n  }, {\n    key: \"handleDragEnd\",\n    value: function handleDragEnd(event) {\n      this.setState({\n        currentState: 'normal'\n      });\n      document.body.removeEventListener('mouseenter', this.handleMouseEnter);\n      document.body.removeEventListener('mouseleave', this.handleMouseLeave);\n      document.body.removeEventListener('mousemove', this.handleMouseMove);\n      document.body.removeEventListener('mouseup', this.handleMouseUp);\n      document.body.removeEventListener('touchend', this.handleTouchEnd);\n\n      if (typeof this.props.onDragEnd === 'function') {\n        this.props.onDragEnd(event);\n      }\n    }\n  }, {\n    key: \"emitChange\",\n    value: function emitChange(event, rawValue, callback) {\n      var _this$props4 = this.props,\n          onChange = _this$props4.onChange,\n          previousValue = _this$props4.value,\n          valueReducer = _this$props4.valueReducer;\n      var newValue = valueReducer(rawValue, this.props, event);\n\n      if (newValue !== null && newValue !== previousValue && typeof onChange === 'function') {\n        onChange(event, newValue);\n\n        if (typeof callback === 'function') {\n          callback();\n        }\n      }\n    }\n  }, {\n    key: \"calculateTrackPartStyles\",\n    value: function calculateTrackPartStyles(percent) {\n      var _this$props5 = this.props,\n          theme = _this$props5.theme,\n          vertical = _this$props5.vertical;\n      var currentState = this.state.currentState;\n\n      switch (currentState) {\n        case 'disabled':\n          return (0, _defineProperty2.default)({}, vertical ? 'height' : 'width', \"calc(\".concat(percent, \"% - 6px)\"));\n\n        default:\n          return {\n            transform: \"\".concat(vertical ? \"translateX(\".concat(theme.direction === 'rtl' ? '' : '-', \"50%) scaleY\") : 'translateY(-50%) scaleX', \"(\").concat(percent / 100, \")\")\n          };\n      }\n    }\n  }, {\n    key: \"playJumpAnimation\",\n    value: function playJumpAnimation() {\n      var _this2 = this;\n\n      this.setState({\n        currentState: 'jumped'\n      }, function () {\n        clearTimeout(_this2.jumpAnimationTimeoutId);\n        _this2.jumpAnimationTimeoutId = setTimeout(function () {\n          _this2.setState({\n            currentState: 'normal'\n          });\n        }, _this2.props.theme.transitions.duration.complex);\n      });\n    }\n  }, {\n    key: \"isReverted\",\n    value: function isReverted() {\n      return this.props.theme.direction === 'rtl';\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _commonClasses,\n          _classNames,\n          _this3 = this;\n\n      var currentState = this.state.currentState;\n      var _this$props6 = this.props,\n          classNameProp = _this$props6.className,\n          classes = _this$props6.classes,\n          Component = _this$props6.component,\n          thumbIcon = _this$props6.thumb,\n          disabled = _this$props6.disabled,\n          max = _this$props6.max,\n          min = _this$props6.min,\n          onChange = _this$props6.onChange,\n          onDragEnd = _this$props6.onDragEnd,\n          onDragStart = _this$props6.onDragStart,\n          step = _this$props6.step,\n          theme = _this$props6.theme,\n          value = _this$props6.value,\n          valueReducer = _this$props6.valueReducer,\n          vertical = _this$props6.vertical,\n          other = (0, _objectWithoutProperties2.default)(_this$props6, [\"className\", \"classes\", \"component\", \"thumb\", \"disabled\", \"max\", \"min\", \"onChange\", \"onDragEnd\", \"onDragStart\", \"step\", \"theme\", \"value\", \"valueReducer\", \"vertical\"]);\n      var percent = (0, _clamp.default)((value - min) * 100 / (max - min));\n      var commonClasses = (_commonClasses = {}, (0, _defineProperty2.default)(_commonClasses, classes.disabled, disabled), (0, _defineProperty2.default)(_commonClasses, classes.jumped, !disabled && currentState === 'jumped'), (0, _defineProperty2.default)(_commonClasses, classes.focused, !disabled && currentState === 'focused'), (0, _defineProperty2.default)(_commonClasses, classes.activated, !disabled && currentState === 'activated'), (0, _defineProperty2.default)(_commonClasses, classes.vertical, vertical), (0, _defineProperty2.default)(_commonClasses, classes.rtl, theme.direction === 'rtl'), _commonClasses);\n      var className = (0, _classnames.default)(classes.root, (_classNames = {}, (0, _defineProperty2.default)(_classNames, classes.vertical, vertical), (0, _defineProperty2.default)(_classNames, classes.disabled, disabled), _classNames), classNameProp);\n      var containerClasses = (0, _classnames.default)(classes.container, (0, _defineProperty2.default)({}, classes.vertical, vertical));\n      var trackBeforeClasses = (0, _classnames.default)(classes.track, classes.trackBefore, commonClasses);\n      var trackAfterClasses = (0, _classnames.default)(classes.track, classes.trackAfter, commonClasses);\n      var thumbTransformFunction = vertical ? 'translateY' : 'translateX';\n      var thumbDirectionInverted = vertical || theme.direction === 'rtl';\n      var inlineTrackBeforeStyles = this.calculateTrackPartStyles(percent);\n      var inlineTrackAfterStyles = this.calculateTrackPartStyles(100 - percent);\n      var inlineThumbStyles = {\n        transform: \"\".concat(thumbTransformFunction, \"(\").concat(thumbDirectionInverted ? 100 - percent : percent, \"%)\")\n      };\n      /** Start Thumb Icon Logic Here */\n\n      var ThumbIcon = thumbIcon ? _react.default.cloneElement(thumbIcon, (0, _extends2.default)({}, thumbIcon.props, {\n        className: (0, _classnames.default)(thumbIcon.props.className, classes.thumbIcon)\n      })) : null;\n      /** End Thumb Icon Logic Here */\n\n      var thumbWrapperClasses = (0, _classnames.default)(classes.thumbWrapper, commonClasses);\n      var thumbClasses = (0, _classnames.default)(classes.thumb, (0, _defineProperty2.default)({}, classes.thumbIconWrapper, thumbIcon), commonClasses);\n      return _react.default.createElement(Component, (0, _extends2.default)({\n        role: \"slider\",\n        className: className,\n        \"aria-disabled\": disabled,\n        \"aria-valuenow\": value,\n        \"aria-valuemin\": min,\n        \"aria-valuemax\": max,\n        \"aria-orientation\": vertical ? 'vertical' : 'horizontal',\n        onClick: this.handleClick,\n        onMouseDown: this.handleMouseDown,\n        onTouchStartCapture: this.handleTouchStart,\n        onTouchMove: this.handleTouchMove,\n        ref: function ref(_ref2) {\n          _this3.containerRef = _reactDom.default.findDOMNode(_ref2);\n        }\n      }, other), _react.default.createElement(\"div\", {\n        className: containerClasses\n      }, _react.default.createElement(\"div\", {\n        className: trackBeforeClasses,\n        style: inlineTrackBeforeStyles\n      }), _react.default.createElement(\"div\", {\n        className: thumbWrapperClasses,\n        style: inlineThumbStyles\n      }, _react.default.createElement(_ButtonBase.default, {\n        className: thumbClasses,\n        disabled: disabled,\n        disableRipple: true,\n        onBlur: this.handleBlur,\n        onKeyDown: this.handleKeyDown,\n        onTouchStartCapture: this.handleTouchStart,\n        onTouchMove: this.handleTouchMove,\n        onFocusVisible: this.handleFocus\n      }, ThumbIcon)), _react.default.createElement(\"div\", {\n        className: trackAfterClasses,\n        style: inlineTrackAfterStyles\n      })));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (nextProps.disabled) {\n        return {\n          currentState: 'disabled'\n        };\n      }\n\n      if (!nextProps.disabled && prevState.currentState === 'disabled') {\n        return {\n          currentState: 'normal'\n        };\n      }\n\n      return null;\n    }\n  }]);\n  return Slider;\n}(_react.default.Component);\n\nprocess.env.NODE_ENV !== \"production\" ? Slider.propTypes = {\n  /**\r\n   * Override or extend the styles applied to the component.\r\n   * See [CSS API](#css-api) below for more details.\r\n   */\n  classes: _propTypes.default.object.isRequired,\n\n  /**\r\n   * @ignore\r\n   */\n  className: _propTypes.default.string,\n\n  /**\r\n   * The component used for the root node.\r\n   * Either a string to use a DOM element or a component.\r\n   */\n  component: _utils.componentPropType,\n\n  /**\r\n   * If `true`, the slider will be disabled.\r\n   */\n  disabled: _propTypes.default.bool,\n\n  /**\r\n   * The maximum allowed value of the slider.\r\n   * Should not be equal to min.\r\n   */\n  max: _propTypes.default.number,\n\n  /**\r\n   * The minimum allowed value of the slider.\r\n   * Should not be equal to max.\r\n   */\n  min: _propTypes.default.number,\n\n  /**\r\n   * Callback function that is fired when the slider's value changed.\r\n   */\n  onChange: _propTypes.default.func,\n\n  /**\r\n   * Callback function that is fired when the slide has stopped moving.\r\n   */\n  onDragEnd: _propTypes.default.func,\n\n  /**\r\n   * Callback function that is fired when the slider has begun to move.\r\n   */\n  onDragStart: _propTypes.default.func,\n\n  /**\r\n   * The granularity the slider can step through values.\r\n   */\n  step: _propTypes.default.number,\n\n  /**\r\n   * @ignore\r\n   */\n  theme: _propTypes.default.object.isRequired,\n\n  /**\r\n   * The component used for the slider icon.\r\n   * This is optional, if provided should be a react element.\r\n   */\n  thumb: _propTypes.default.element,\n\n  /**\r\n   * The value of the slider.\r\n   */\n  value: _propTypes.default.number.isRequired,\n\n  /**\r\n   * the reducer used to process the value emitted from the slider. If `null` or\r\n   * the same value is returned no change is emitted.\r\n   * @param {number} rawValue - value in [min, max]\r\n   * @param {SliderProps} props - current props of the Slider\r\n   * @param {Event} event - the event the change was triggered from\r\n   */\n  valueReducer: _propTypes.default.func,\n\n  /**\r\n   * If `true`, the slider will be vertical.\r\n   */\n  vertical: _propTypes.default.bool\n} : void 0;\nSlider.defaultProps = {\n  min: 0,\n  max: 100,\n  component: 'div',\n  valueReducer: defaultValueReducer\n};\n\nvar _default = (0, _withStyles.default)(styles, {\n  name: 'MuiSlider',\n  withTheme: true\n})(Slider);\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = clamp;\n\nfunction clamp(value) {\n  var min = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var max = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 100;\n  return Math.min(Math.max(value, min), max);\n}"],"sourceRoot":""}