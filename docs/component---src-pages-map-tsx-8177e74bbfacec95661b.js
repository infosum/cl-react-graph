(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{268:function(t,e,n){"use strict";n.r(e);var r=n(650),a=n(651),i=function(t,e){var n,i,o,s,c=Object(a.a)("beforesend","progress","load","error"),u=Object(r.a)(),l=new XMLHttpRequest,d=null,h=null,f=0;function p(t){var e,r=l.status;if(!r&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(l)||r>=200&&r<300||304===r){if(o)try{e=o.call(n,l)}catch(a){return void c.call("error",n,a)}else e=l;c.call("load",n,e)}else c.call("error",n,t)}if("undefined"==typeof XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=l.ontimeout=p:l.onreadystatechange=function(t){l.readyState>3&&p(t)},l.onprogress=function(t){c.call("progress",n,t)},n={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?u.get(t):(null==e?u.remove(t):u.set(t,e+""),n)},mimeType:function(t){return arguments.length?(i=null==t?null:t+"",n):i},responseType:function(t){return arguments.length?(s=t,n):s},timeout:function(t){return arguments.length?(f=+t,n):f},user:function(t){return arguments.length<1?d:(d=null==t?null:t+"",n)},password:function(t){return arguments.length<1?h:(h=null==t?null:t+"",n)},response:function(t){return o=t,n},get:function(t,e){return n.send("GET",t,e)},post:function(t,e){return n.send("POST",t,e)},send:function(e,r,a){return l.open(e,t,!0,d,h),null==i||u.has("accept")||u.set("accept",i+",*/*"),l.setRequestHeader&&u.each(function(t,e){l.setRequestHeader(e,t)}),null!=i&&l.overrideMimeType&&l.overrideMimeType(i),null!=s&&(l.responseType=s),f>0&&(l.timeout=f),null==a&&"function"==typeof r&&(a=r,r=null),null!=a&&1===a.length&&(a=function(t){return function(e,n){t(null==e?n:null)}}(a)),null!=a&&n.on("error",a).on("load",function(t){a(null,t)}),c.call("beforesend",n,l),l.send(null==r?null:r),n},abort:function(){return l.abort(),n},on:function(){var t=c.on.apply(c,arguments);return t===c?n:t}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return n.get(e)}return n};var o=function(t,e){return function(n,r){var a=i(n).mimeType(t).response(e);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return a.get(r)}return a}},s=(o("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),o("application/json",function(t){return JSON.parse(t.responseText)})),c=(o("text/plain",function(t){return t.responseText}),o("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e}),{}),u={},l=34,d=10,h=13;function f(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}var p=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,a=[],i=t.length,o=0,s=0,f=i<=0,p=!1;function m(){if(f)return u;if(p)return p=!1,c;var e,r,a=o;if(t.charCodeAt(a)===l){for(;o++<i&&t.charCodeAt(o)!==l||t.charCodeAt(++o)===l;);return(e=o)>=i?f=!0:(r=t.charCodeAt(o++))===d?p=!0:r===h&&(p=!0,t.charCodeAt(o)===d&&++o),t.slice(a+1,e-1).replace(/""/g,'"')}for(;o<i;){if((r=t.charCodeAt(e=o++))===d)p=!0;else if(r===h)p=!0,t.charCodeAt(o)===d&&++o;else if(r!==n)continue;return t.slice(a,e)}return f=!0,t.slice(a,i)}for(t.charCodeAt(i-1)===d&&--i,t.charCodeAt(i-1)===h&&--i;(r=m())!==u;){for(var g=[];r!==c&&r!==u;)g.push(r),r=m();e&&null==(g=e(g,s++))||a.push(g)}return a}function a(e){return e.map(i).join(t)}function i(t){return null==t?"":e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,a,i=r(t,function(t,r){if(n)return n(t,r-1);a=t,n=e?function(t,e){var n=f(t);return function(r,a){return e(n(r),a,t)}}(t,e):f(t)});return i.columns=a||[],i},parseRows:r,format:function(e,n){return null==n&&(n=function(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}(e)),[n.map(i).join(t)].concat(e.map(function(e){return n.map(function(t){return i(e[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(a).join("\n")}}},m=p(","),g=m.parse,b=(m.parseRows,m.format,m.formatRows,p("\t")),v=b.parse,y=(b.parseRows,b.format,b.formatRows,function(t,e){return function(n,r,a){arguments.length<3&&(a=r,r=null);var o=i(n).mimeType(t);return o.row=function(t){return arguments.length?o.response(function(t,e){return function(n){return t(n.responseText,e)}}(e,r=t)):r},o.row(r),a?o.get(a):o}});y("text/csv",g),y("text/tab-separated-values",v);var x=n(0),w=n.n(x),O=n(395),k=n(307),j=n(304),S=n(348);e.default=function(){var t=Object(x.useState)(!0),e=t[0],n=t[1],r=Object(x.useState)(null),a=r[0],i=r[1];return Object(x.useEffect)(function(){s("https://opendata.arcgis.com/datasets/8d3a9e6e7bd445e2bdcc26cdf007eac7_3.geojson",function(t,e){if(t)throw t;i(e),n(!1)})},[]),e?w.a.createElement("div",null,"loading"):w.a.createElement(k.a,null,w.a.createElement(j.a,{title:"Histogram",description:""}),w.a.createElement("h1",null,"Map"),w.a.createElement("div",null,w.a.createElement(O.Map,{data:S.a,geojson:a,height:400,width:400})))}},276:function(t,e,n){"use strict";n(53);var r=n(82),a=n.n(r),i=n(10),o=n.n(i),s=n(0),c=n.n(s),u=n(55),l=n.n(u),d=n(326),h=function(t){function e(e){var n;return(n=t.call(this,e)||this).ref=null,n.chart=Object(d.b)(),n.state={parentWidth:300},n}o()(e,t);var n=e.prototype;return n.handleResize=function(){var t=this,e=this.getDOMNode();if(e){var n=this.ref&&this.ref.offsetWidth?this.ref.offsetWidth:0;this.setState({parentWidth:n},function(){return t.chart.create(e,t.getChartState())})}},n.componentDidMount=function(){var t=this,e=this.getDOMNode();e&&(this.chart.create(e,this.getChartState()),"100%"===this.props.width&&(window.addEventListener("resize",function(e){return t.handleResize()}),this.handleResize()))},n.componentDidUpdate=function(){var t=this.getDOMNode();t&&this.chart.update(t,this.getChartState())},n.getChartState=function(){var t=this.props.width,e=this.props,n=(e.children,a()(e,["children"]));return"100%"===t&&(t=this.state.parentWidth||300),Object.assign({},n,{width:t})},n.componentWillUnmount=function(){var t=this.getDOMNode();t&&("100%"===this.props.width&&window.removeEventListener("resize",this.handleResize),this.chart.destroy(t))},n.getDOMNode=function(){var t=l.a.findDOMNode(this.ref);if(t instanceof HTMLElement)return t},n.render=function(){var t=this;return c.a.createElement("div",{ref:function(e){return t.ref=e},className:"histogram-chart-container"})},e}(s.Component);e.a=h},282:function(t,e,n){"use strict";e.a=["#4bbcad","#d54539","#5ab94d","#8a5cd3","#a4b243","#ba5ccd","#54995c","#cf47a1","#d29f3e","#5c6fda","#c36528","#5fa6dc","#d74770","#7d7430","#8a529e","#df9273","#5f74b8","#ac5450","#d192d7","#b26088"]},285:function(t,e,n){"use strict";n.d(e,"c",function(){return a}),n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});n(53);var r=n(306),a={fill:"#000",opacity:1,"shape-rendering":"auto",stroke:"#000","stroke-opacity":1,"stroke-width":1,visible:!0},i=(r.e,{x:{dateFormat:"",height:20,label:"",margin:20,numberFormat:"",scale:"LINEAR",style:Object.assign({},a,{fill:"none",stroke:"#666"}),text:{style:{dy:".35em",transform:"rotate(0)",x:0,y:10}},tickSize:0,tickValues:[],ticks:3,visible:!0,width:50},y:{dateFormat:"",height:20,label:"",margin:20,numberFormat:"",scale:"LINEAR",style:Object.assign({},a,{fill:"none",stroke:"#666"}),text:{style:{fill:"#666"}},tickSize:20,tickValues:[],ticks:3,visible:!0,width:50}}),o={x:{height:1,style:Object.assign({},a,{fill:"none",stroke:"#bbb","stroke-opacity":.7,"stroke-width":1}),ticks:5,visible:!0},y:{style:Object.assign({},a,{fill:"none",stroke:"#bbb","stroke-opacity":.7,"stroke-width":1}),ticks:5,visible:!0}}},288:function(t,e,n){"use strict";n(83),n(407),n(128);e.a=function(t,e){return Object.keys(e).forEach(function(n){t.attr(n,e[n])}),t}},289:function(t,e,n){"use strict";n.d(e,"b",function(){return a});var r=n(272);e.a={fx:{in:function(t){t.style("left",r.a.pageX+"px").style("top",r.a.pageY-55+"px"),t.transition().duration(200).style("opacity",.9)},move:function(t){t.style("left",r.a.pageX+"px").style("top",r.a.pageY-55+"px")},out:function(t){t.transition().duration(100).style("opacity",0)}}};var a=function(t,e){return e&&e.remove(),(e=Object(r.d)(t).append("div").attr("class","tooltip top").style("opacity",0)).append("div").attr("class","tooltip-arrow"),{tipContainer:e,tipContent:e.append("div").attr("class","tooltip-inner")}}},293:function(t,e,n){"use strict";n.d(e,"b",function(){return l});var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(54),c=n.n(s);n.d(e,"a",function(){return c.a});n(295);var u=a.a.createContext({}),l=function(t){return a.a.createElement(u.Consumer,null,function(e){return t.data||e[t.query]&&e[t.query].data?(t.render||t.children)(t.data?t.data.data:e[t.query].data):a.a.createElement("div",null,"Loading (StaticQuery)")})};l.propTypes={data:o.a.object,query:o.a.string.isRequired,render:o.a.func,children:o.a.func}},295:function(t,e,n){var r;t.exports=(r=n(320))&&r.default||r},298:function(t,e,n){"use strict";n(352);var r=n(419),a=n.n(r);e.a=function(t){return t.filter(function(t){try{var e=a()(t),n=e.hsl().array();if(n.length>3)return!1;var r=e.luminosity();return r<.8&&r>.1&&n[2]<200&&n[2]>20}catch(i){return!1}}).filter(function(t,e,n){return n.indexOf(t)===e}).sort(function(){return Math.random()-.5})}},304:function(t,e,n){"use strict";var r=n(322),a=n(1),i=n.n(a),o=n(0),s=n.n(o),c=n(397),u=n.n(c);function l(t){var e=t.description,n=t.lang,a=t.meta,i=t.keywords,o=t.title,c=r.data.site,l=e||c.siteMetadata.description;return s.a.createElement(u.a,{htmlAttributes:{lang:n},title:o,titleTemplate:"%s | "+c.siteMetadata.title,meta:[{content:l,name:"description"},{content:o,property:"og:title"},{content:l,property:"og:description"},{content:"website",property:"og:type"},{content:"summary",name:"twitter:card"},{content:c.siteMetadata.author,name:"twitter:creator"},{content:o,name:"twitter:title"},{content:l,name:"twitter:description"}].concat(i.length>0?{content:i.join(", "),name:"keywords"}:[]).concat(a)})}l.defaultProps={keywords:[],lang:"en",meta:[]},l.propTypes={description:i.a.string,keywords:i.a.arrayOf(i.a.string),lang:i.a.string,meta:i.a.array,title:i.a.string.isRequired},e.a=l},305:function(t,e,n){"use strict";n(53);var r=n(283),a=n(0),i=n.n(a),o=n(282),s={cursor:"pointer",display:"inline-block",height:"1rem",margin:"0.25rem 0.5rem",width:"1rem"},c={listStyle:"none"};e.a=function(t){var e=t.className,n=t.theme,a=void 0===n?o.a:n,u=t.data,l=t.onSelect,d=t.visible,h=Object(r.d)(a),f=u.bins;return i.a.createElement("div",{className:e},i.a.createElement("ul",{style:c},f.map(function(t){var e=d.hasOwnProperty(t)&&d[t]||!d.hasOwnProperty(t);return i.a.createElement("li",{key:t},i.a.createElement("div",{style:Object.assign({},s,{backgroundColor:e?h(t):"#FFF",border:"2px solid "+h(t)}),onClick:function(){return l(t)}})," ",t)})))}},307:function(t,e,n){"use strict";var r=n(319),a=(n(396),n(293)),i=n(1),o=n.n(i),s=n(0),c=n.n(s),u=n(284),l=function(t){var e=t.siteTitle;return c.a.createElement(u.a,{position:"static"},c.a.createElement(u.m,null,c.a.createElement(u.n,{variant:"h6",color:"inherit"},c.a.createElement(a.a,{to:"/"},e)),c.a.createElement(u.b,null,c.a.createElement(a.a,{to:"histogram"},"Histogram")),c.a.createElement(u.b,null,c.a.createElement(a.a,{to:"line"},"Line Chart")),c.a.createElement(u.b,null,c.a.createElement(a.a,{to:"pie"},"Pie Chart")),c.a.createElement(u.b,null,c.a.createElement(a.a,{to:"joyplot"},"Joy Plot"))))};l.propTypes={siteTitle:o.a.string},l.defaultProps={siteTitle:""};var d=l,h=function(t){var e=t.children;return c.a.createElement(a.b,{query:"755544856",render:function(t){return c.a.createElement(c.a.Fragment,null,c.a.createElement(d,{siteTitle:t.site.siteMetadata.title}),c.a.createElement("div",{style:{flexGrow:2,margin:"0 auto",padding:"0px 1.0875rem 1.45rem",paddingTop:0,width:"100%"}},c.a.createElement("main",null,e)),c.a.createElement("footer",null,"Â© ",(new Date).getFullYear(),", Built by"," ",c.a.createElement("a",{href:"https://www.infosum.com"},"InfoSum")))},data:r})};h.propTypes={children:o.a.node.isRequired};e.a=h},319:function(t){t.exports={data:{site:{siteMetadata:{title:"Infosum Charts"}}}}},320:function(t,e,n){"use strict";n.r(e);n(53);var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(85),c=n(4),u=function(t){var e=t.location,n=c.default.getResourcesForPathnameSync(e.pathname);return a.a.createElement(s.a,Object.assign({location:e,pageResources:n},n.json))};u.propTypes={location:o.a.shape({pathname:o.a.string.isRequired}).isRequired},e.default=u},322:function(t){t.exports={data:{site:{siteMetadata:{title:"Infosum Charts",description:"Kick off your next, great Gatsby project with this default starter. This barebones starter ships with the main Gatsby configuration files you might need.",author:"@gatsbyjs"}}}}},324:function(t,e,n){"use strict";n(53);var r=n(82),a=n.n(r),i=n(10),o=n.n(i),s=n(0),c=n.n(s),u=n(55),l=n.n(u),d=(n(323),n(128),n(83),n(417),n(130),n(418),n(278),n(294)),h=n(290),f=n(283),p=n(272),m=n(297),g=n.n(m),b=n(287),v=n.n(b),y=n(282),x=n(288),w=n(289),O=n(285),k=function(){var t,e,n,r,a,i,o,s,c,u=Object(f.a)(),l=Object(f.b)(),m=Object(f.a)(),b=Object(f.a)();var k={axis:O.a,bar:{groupMargin:0,margin:0,width:50},className:"histogram-d3",colorScheme:y.a,data:[{bins:[],counts:[]}],delay:0,domain:{max:null,min:null},duration:400,grid:O.b,height:200,margin:{bottom:0,left:5,right:0,top:5},stroke:{color:"#005870",dasharray:"",linecap:"butt",width:0},tip:w.a,tipContainer:"body",tipContentFn:function(t,e,n,r){return r+": "+t[e]+"<br />"+n},visible:{},width:200};return{create:function(e,n){void 0===n&&(n={}),this.mergeProps(n),this._makeSvg(e),this.makeGrid(),this.makeScales(),a=k.data.map(function(e,n){return t.append("g").attr("class","histogram-container-"+n)}),this.update(e,k)},mergeProps:function(t){v()(k,t),t.data&&(k.data=t.data),t.colorScheme&&(k.colorScheme=t.colorScheme)},_makeSvg:function(r){if(t){t.selectAll("svg > *").remove(),t.remove();var a=r.getElementsByTagName("svg");a.length>0&&r.removeChild(a[0])}var i=k.margin,o=k.width,s=k.height,c=k.className;t=Object(p.d)(r).append("svg").attr("class",c).attr("width",o).attr("height",s).attr("viewBox","0 0 "+o+" "+s).append("g").attr("transform","translate("+i.left+","+i.top+")");var u=Object(w.b)(k.tipContainer,e);n=u.tipContent,e=u.tipContainer},valuesCount:function(t){return t.reduce(function(t,e){return e.data.length>t?e.data.length:t},0)},appendDomainRange:function(t,e){var n=[],r=k.domain,a=e.reduce(function(t,e){var n=e.reduce(function(t,e){return[].concat(t,e.map(function(t){return t.value}))},[]);return[].concat(t,n)},[0]),i=Object(d.a)(a,function(t){return t});n[1]=r&&r.hasOwnProperty("max")&&null!==r.max?r.max:Number(i[1]),n[0]=r&&r.hasOwnProperty("min")&&null!==r.min?r.min:Number(i[0]);var o=[u.bandwidth(),0];t.range(o).domain(n)},yAxisWidth:function(){var t=k.axis;return""===t.y.label?t.y.width:t.y.width+30},xAxisHeight:function(){var t=k.axis;return""===t.x.label?t.x.height:t.x.height+30},makeScales:function(){var e=k.axis,n=k.margin,r=k.height,a=k.width;i=t.append("g").attr("class","x-axis"),o=t.append("g").attr("class","y-axis"),""!==e.x.label&&t.append("text").attr("class","x-axis-label").attr("transform","translate("+Number(a)/2+" ,"+(r-this.xAxisHeight()-2*n.left+10+e.x.margin)+")").style("text-anchor","middle").text(e.x.label),""!==e.y.label&&t.append("text").attr("class","y-axis-label").attr("transform","translate(0, -"+this.gridHeight()+")rotate(-90)").attr("y",0-n.left).attr("x",0-(r/2-2*n.top)).attr("dy","1em").style("text-anchor","middle").text(e.y.label)},getBins:function(){return k.data.reduce(function(t,e){return Array.from(new Set(t.concat(e.bins)))},[])},_drawScales:function(e){var n,a=this,s=k.margin,c=k.height,d=k.axis,f=e.reduce(function(t,e){var n=a.valuesCount(e.counts);return n>t?n:t},0),p=this.gridWidth(),v=e[0].counts.map(function(t){return t.label}),y=this.getBins();m.domain(y).rangeRound([0,p]).paddingInner(this.groupedMargin()),b.domain(v).rangeRound([0,m.bandwidth()]).paddingInner(this.barMargin()),n=Object(h.a)(m);var w=g()(d,"x.tickSize",void 0);void 0!==w?n.tickSize(w):p/f<10&&n.tickValues(m.domain().filter(function(t,e){return!(e%10)})),i.attr("transform","translate("+(this.yAxisWidth()+d.y.style["stroke-width"])+","+(c-this.xAxisHeight()-2*s.left)+")").call(n);var O=e.map(function(t){return String(t.title)}),j=[c-2*s.top-this.xAxisHeight(),0];u.domain(O).rangeRound(j),this.appendDomainRange(l,r);var S=Object(h.b)(u).ticks(d.y.ticks),C=g()(d,"y.tickSize",void 0);void 0!==C&&S.tickSize(C),o.attr("transform","translate("+this.yAxisWidth()+", 0)").transition().call(S),Object(x.a)(t.selectAll(".y-axis .domain, .y-axis .tick line"),d.y.style),Object(x.a)(t.selectAll(".y-axis .tick text"),d.y.text.style),Object(x.a)(t.selectAll(".x-axis .domain, .x-axis .tick line"),d.x.style),Object(x.a)(t.selectAll(".x-axis .tick text"),d.x.text.style)},gridWidth:function(){var t=k.width,e=k.margin;return Number(t)-2*e.left-this.yAxisWidth()},gridHeight:function(){return k.height-2*k.margin.top-this.xAxisHeight()},groupedMargin:function(){var t=g()(k.bar,"groupMargin",.1);return t>=0&&t<=1?t:0},barMargin:function(){var t=g()(k.bar,"margin",0);return t>=0&&t<=1?t:.1},barWidth:function(){return b.bandwidth()},updateChart:function(t){var r=this.getBins(),i=k.delay,o=k.duration,s=k.axis,c=k.stroke,d=k.tip,h=k.tipContentFn,p=this.barWidth(),g=Object(f.d)(k.colorScheme),v=Object(f.d)(["#FFF"]),y=this.yAxisWidth();t.forEach(function(t,f){var x=k.data[f].title,w=a[f].selectAll("g").data(t),O=w.enter().append("g").merge(w).attr("transform",function(t){return"translate("+(y+s.y.style["stroke-width"]+(m(t[0].label)||0))+", "+u(t[0].label)+")"}).selectAll("rect").data(function(t){return t});O.enter().append("rect").attr("height",0).attr("y",function(t){return u.bandwidth()}).attr("class","bar").attr("x",function(t){return String(b(t.label))}).attr("width",function(t){return p}).attr("fill",function(t,e){return g(String(e))}).on("mouseover",function(t){var a=r.findIndex(function(e){return e===t.label});n.html(function(){return h(r,a,t.value,x)}),d.fx.in(e)}).on("mousemove",function(){return d.fx.move(e)}).on("mouseout",function(){return d.fx.out(e)}).merge(O).transition().duration(o).delay(i).attr("y",function(t){return l(t.value)}).attr("stroke",function(t,e){return v?v(String(e)):""}).attr("shape-rendering","crispEdges").attr("stroke-width",c.width).attr("stroke-linecap",c.linecap).attr("stroke-dasharray",function(t){var e=u.bandwidth()-l(t.value);return p+" 0 "+e+" "+p}).attr("height",function(t){return u.bandwidth()-l(t.value)}),w.exit().remove()})},makeGrid:function(){s=t.append("g").attr("class","grid gridX"),c=t.append("g").attr("class","grid gridY")},_drawGrid:function(){var t=this,e=k.data,n=k.height,r=k.width,a=k.axis,i=k.grid,o=k.margin,l=e.reduce(function(e,n){var r=t.valuesCount(n.counts);return r>e?e:r},0),d=a.y.style["stroke-width"],f=this.yAxisWidth()+d,p=this.gridHeight();i.x.visible&&(s.attr("transform","translate("+f+", "+p+")"),s.call(function(t){return void 0===t&&(t=5),Object(h.a)(m).ticks(t)}(g()(i,"x.ticks",l)).tickSize(-n+this.xAxisHeight()+2*o.top).tickFormat(function(){return""})),Object(x.a)(s.selectAll(".tick line"),i.x.style),Object(x.a)(s.selectAll(".domain"),Object.assign({},a.y.style,{stroke:"transparent"}))),i.y.visible&&(c.attr("transform","translate("+(this.yAxisWidth()+d)+", 0)").transition().call(function(t){return void 0===t&&(t=5),Object(h.b)(u).ticks(t)}(g()(i,"y.ticks",l)).tickSize(-r+2*o.left+this.yAxisWidth()).tickFormat(function(){return""})),Object(x.a)(c.selectAll(".tick line"),i.y.style),c.selectAll(".gridY .tick line").filter(function(t,e){return 0===e}).attr("display","none"),Object(x.a)(c.selectAll(".domain"),Object.assign({},a.x.style,{stroke:"transparent"})))},update:function(t,e){this.mergeProps(e);var n=k.data,a=k.visible;r=n.map(function(t){var e=[];return t.counts.forEach(function(n){n.data.forEach(function(r,i){e[i]||(e[i]=[]),e[i].push({groupLabel:n.label,joyLabel:t.title,label:t.bins[i],value:!1!==a[t.bins[i]]&&!1!==a[n.label]?r:0})})}),e}),this._drawScales(k.data),this._drawGrid(),this.updateChart(r)},destroy:function(e){t.selectAll("svg > *").remove()}}},j=function(t){function e(e){var n;return(n=t.call(this,e)||this).ref=null,n.chart=k(),n.state={parentWidth:300},n}o()(e,t);var n=e.prototype;return n.handleResize=function(){var t=this,e=this.getDOMNode();if(e){var n=this.ref&&this.ref.offsetWidth?this.ref.offsetWidth:0;this.setState({parentWidth:n},function(){return t.chart.create(e,t.getChartState())})}},n.componentDidMount=function(){var t=this,e=this.getDOMNode();e&&(this.chart.create(e,this.getChartState()),"100%"===this.props.width&&(window.addEventListener("resize",function(e){return t.handleResize()}),this.handleResize()))},n.componentDidUpdate=function(){var t=this.getDOMNode();t&&this.chart.update(t,this.getChartState())},n.getChartState=function(){var t=this.props.width,e=this.props,n=(e.children,a()(e,["children"]));return"100%"===t&&(t=this.state.parentWidth||300),Object.assign({},n,{width:t})},n.componentWillUnmount=function(){var t=this.getDOMNode();t&&("100%"===this.props.width&&window.removeEventListener("resize",this.handleResize),this.chart.destroy(t))},n.getDOMNode=function(){var t=l.a.findDOMNode(this.ref);if(t instanceof HTMLElement)return t},n.render=function(){var t=this;return c.a.createElement("div",{ref:function(e){return t.ref=e},className:"histogram-chart-container"})},e}(s.Component);e.a=j},325:function(t,e,n){"use strict";n(53);var r=n(82),a=n.n(r),i=n(10),o=n.n(i),s=n(0),c=n.n(s),u=n(55),l=n.n(u),d=(n(352),n(278),n(128),n(596),n(394)),h=n(283),f=n(272),p=n(306),m=n(297),g=n.n(m),b=n(287),v=n.n(b),y=n(282),x=n(289),w=function(){var t,e,n,r,a,i,o,s,c={backgroundColor:"#ddd",className:"piechart-d3",colorScheme:y.a,data:{bins:[],counts:[]},donutWidth:0,height:200,labels:{display:!0,displayFn:function(t,e){return t.value}},margin:{bottom:0,left:10,right:0,top:10},tip:x.a,tipContainer:"body",tipContentFn:function(t,e,n,r){return r+": "+t[e]+"<br />"+n},visible:{},width:200};return{create:function(t,e){var r=this;void 0===e&&(e={}),v()(c,e),i=c.data.counts.map(function(t,e){return t.data.map(function(e,n){return{count:e,groupLabel:t.label,label:c.data.bins[n]}})}),this._makeSvg(t),n=[],i.forEach(function(t,e){r.drawChartBg(c.data,e)}),this.update(t,c)},_makeSvg:function(n){if(r){r.selectAll("svg > *").remove(),r.remove();var a=n.getElementsByTagName("svg");a.length>0&&n.removeChild(a[0])}var i=c.margin,o=c.width,s=c.height,u=c.className;r=Object(f.d)(n).append("svg").attr("class",u).attr("width",o).attr("height",s).attr("viewBox","0 0 "+o+" "+s).append("g").attr("transform","translate("+i.left+","+i.top+")");var l=Object(x.b)(c.tipContainer,t);e=l.tipContent,t=l.tipContainer},update:function(t,e){c.data&&(v()(c,e),c.colorScheme&&(c.colorScheme=c.colorScheme),c.data.bins&&this.drawCharts())},outerRadius:function(t){void 0===t&&(t=0);var e=c.donutWidth,n=void 0===e?0:e,r=c.width,a=c.height,i=Math.min(Number(r),a)/2;return 0===n?i-10:i-10-t*(n+10)},innerRadius:function(t){void 0===t&&(t=0);var e=c.donutWidth,n=void 0===e?0:e,r=c.width,a=c.height,i=Math.min(Number(r),a)/2;return 0===n?0:i-10-n-t*(n+10)},drawCharts:function(){var t=this,e=c.data,n=c.visible;(a=e.counts.map(function(t){return t.data.map(function(r,a){return{count:!1!==n[e.bins[a]]?r:0,groupLabel:t.label,label:e.bins[a]}})})).forEach(function(n,r){var a=g()(e.counts[r],"colors",c.colorScheme);t.drawChart(n,r,e.bins,a)}),i=a},drawChartBg:function(t,e){var a=c.backgroundColor,i=c.width,o=c.height,s=2*Math.PI,u=this.outerRadius(e),l=this.innerRadius(e),d=Object(p.a)().innerRadius(l).outerRadius(u).startAngle(0).endAngle(s),h=r.append("g").attr("class","pie-bg").append("path").attr("class","pie-background").style("fill",a);h.enter().attr("transform","translate("+Number(i)/2+","+o/2+")").attr("d",d),h.merge(h),n[e]||(n[e]=r.append("g").attr("class","pie-container"))},drawChart:function(r,a,u,l){var f=c.labels,m=c.width,g=c.height,b=c.tip,v=c.tipContentFn,y=this.outerRadius(a),x=this.innerRadius(a),w=Object(p.l)().sort(null).value(function(t){return t.count}),O=w(i[a]),k=Object(h.d)(l),j=Object(p.a)().outerRadius(y).innerRadius(x),S=n[a].selectAll("path").data(w(r));S.enter().append("g").attr("class","arc").append("path").attr("transform","translate("+Number(m)/2+","+g/2+")").attr("stroke","#FFF").attr("fill",function(t,e){return k(e)}).each(function(t,e){O[e]}).attr("d",j).on("mouseover",function(n,r){e.html(function(){return v(u,r,n.data.count,n.data.groupLabel)}),b.fx.in(t)}).on("mousemove",function(){return b.fx.move(t)}).on("mouseout",function(){return b.fx.out(t)}).style("opacity",0).transition().duration(500).style("opacity",1),S.merge(S).on("mouseover",function(n,r){e.html(function(){return v(u,r,n.data.count,n.data.groupLabel)}),b.fx.in(t)}).on("mousemove",function(){return b.fx.move(t)}).on("mouseout",function(){return b.fx.out(t)}).transition().delay(400).duration(500).attr("fill",function(t,e){return k(e)}).attrTween("d",function(t){return function(e){var n=Object(d.a)(this._current,e);return this._current=n(0),function(e){return t(n(e))}}}(j));var C=n[a].selectAll("text.label").data(w(r));C.enter().append("text").attr("class","label").each(function(){s=g,o=Number(m)}).attr("transform",function(t){var e=j.centroid(t);return"translate("+(e[0]+o/2)+","+(e[1]+s/2)+")"}).each(function(t){t}).text(function(t,e){return 0===t.value?"":f.displayFn(t,e)}),C.merge(C).transition().duration(500).style("opacity",0).transition().attr("transform",function(t){var e=j.centroid(t);return"translate("+(e[0]+o/2)+","+(e[1]+s/2)+")"}).transition().duration(500).style("opacity",function(t){return!1===f.display||0===t.data.value?0:1}),C.exit().remove(),S.exit().transition().duration(500).style("opacity",0).remove()},destroy:function(t){r.selectAll("svg > *").remove()}}};var O=function(t){function e(e){var n;return(n=t.call(this,e)||this).ref=null,n.chart=w(),n.state={parentWidth:300},n}o()(e,t);var n=e.prototype;return n.handleResize=function(){var t=this,e=this.getDOMNode();if(e){var n=this.ref&&this.ref.offsetWidth?this.ref.offsetWidth:0;this.setState({parentWidth:n},function(){return t.chart.create(e,t.getChartState())})}},n.componentDidMount=function(){var t=this,e=this.getDOMNode();e&&(this.chart.create(e,this.getChartState()),"100%"===this.props.width&&(window.addEventListener("resize",function(e){return t.handleResize()}),this.handleResize()))},n.componentDidUpdate=function(){var t=this.getDOMNode();t&&this.chart.update(t,this.getChartState())},n.getChartState=function(){var t=this.props.width,e=this.props,n=(e.children,a()(e,["children"]));return"100%"===t&&(t=this.state.parentWidth||300),Object.assign({},n,{width:t})},n.componentWillUnmount=function(){"100%"===this.props.width&&window.removeEventListener("resize",this.handleResize);var t=this.getDOMNode();t&&this.chart.destroy(t)},n.getDOMNode=function(){var t=l.a.findDOMNode(this.ref);if(t instanceof HTMLElement)return t},n.render=function(){var t=this;return c.a.createElement("div",{ref:function(e){return t.ref=e},className:"piechart-chart-container"})},e}(s.Component);e.a=O},326:function(t,e,n){"use strict";n.d(e,"a",function(){return b}),n.d(e,"b",function(){return v});n(128),n(323),n(131),n(278);var r=n(294),a=n(290),i=n(283),o=n(272),s=n(351),c=n(297),u=n.n(c),l=n(287),d=n.n(l),h=n(282),f=n(288),p=n(327),m=n(289),g=n(285),b=function(t){return function(e){return Object(s.a)(t.dateFormat)(new Date(e))}},v=function(){var t,e,n,s,c,l,v,y,x,w,O,k=Object(i.b)(),j=Object(i.a)(),S=Object(i.a)(),C={axis:g.a,bar:{groupMargin:.1,margin:0,width:50},className:"histogram-d3",colorScheme:h.a,data:{bins:[],counts:[]},delay:0,domain:{max:null,min:null},duration:400,grid:g.b,height:200,margin:{bottom:0,left:5,right:0,top:5},stacked:!1,stroke:{color:"#005870",dasharray:"",linecap:"butt",width:0},tip:m.a,tipContainer:"body",tipContentFn:function(t,e,n){return t[e]+"<br />"+n},visible:{},width:200};return{create:function(e,n){void 0===n&&(n={}),this.mergeProps(n),this._makeSvg(e),this.makeGrid(),this.makeScales(),s=t.append("g").attr("class","histogram-container"),this.update(e,n)},mergeProps:function(t){d()(C,t),t.data&&(C.data=t.data),t.colorScheme&&(C.colorScheme=t.colorScheme)},_makeSvg:function(r){if(t){t.selectAll("svg > *").remove(),t.remove();var a=r.getElementsByTagName("svg");a.length>0&&r.removeChild(a[0])}var i=C.margin,s=C.width,c=C.height,u=C.className,l=1-i.left/Number(s),d=1-i.top/c;t=Object(o.d)(r).append("svg").attr("class",u).attr("width",s).attr("height",c).attr("viewBox","0 0 "+s+" "+c).append("g").attr("transform","translate("+i.left+","+i.top+") scale("+l+","+d+")");var h=Object(m.b)(C.tipContainer,e);n=h.tipContent,e=h.tipContainer},valuesCount:function(t){return t.reduce(function(t,e){return e.data.length>t?e.data.length:t},0)},appendDomainRange:function(t,e){var n=[],a=C.domain,i=C.margin,o=C.height,s=C.stacked,c=e.reduce(function(t,e){return[].concat(t,s?[e.reduce(function(t,e){return t+e.value},0)]:e.map(function(t){return t.value}))},[0]),u=Object(r.a)(c,function(t){return t});n[1]=a&&a.hasOwnProperty("max")&&null!==a.max?a.max:Number(u[1]),n[0]=a&&a.hasOwnProperty("min")&&null!==a.min?a.min:Number(u[0]);var l=[o-2*i.top-Object(p.d)(C.axis),0];t.range(l).domain(n)},makeScales:function(){x=t.append("g").attr("class","x-axis"),y=t.append("g").attr("class","y-axis"),w=t.append("g"),O=t.append("g")},_drawScales:function(){var e=C.axis,n=C.data,r=C.margin,i=C.height,o=C.stacked,s=this.valuesCount(n.counts),l=Object(p.c)(C),d=n.counts.map(function(t){return t.label});j.domain(n.bins).rangeRound([0,l]).paddingInner(this.groupedMargin()),S.domain(o?["main"]:d).rangeRound([0,j.bandwidth()]).paddingInner(this.barMargin());var h=Object(a.a)(j),m=u()(e,"x.tickSize",void 0);void 0!==m?h.tickSize(m):l/s<10&&h.tickValues(j.domain().filter(function(t,e){return!(e%10)})),"TIME"===e.x.scale&&e.x.dateFormat&&h.tickFormat(b(e.x)),x.attr("transform","translate("+(Object(p.e)(e)+e.y.style["stroke-width"])+","+(i-Object(p.d)(C.axis)-2*r.left)+")").call(h),this.appendDomainRange(k,c);var g=Object(a.b)(k).ticks(e.y.ticks),v=u()(e,"y.tickSize",void 0);void 0!==v&&g.tickSize(v),"TIME"===e.y.scale&&e.y.dateFormat&&g.tickFormat(b(e.y)),y.attr("transform","translate("+Object(p.e)(e)+", 0)").transition().call(g),Object(f.a)(t.selectAll(".y-axis .domain, .y-axis .tick line"),e.y.style),Object(f.a)(t.selectAll(".y-axis .tick text"),e.y.text.style),Object(f.a)(t.selectAll(".x-axis .domain, .x-axis .tick line"),e.x.style),Object(f.a)(t.selectAll(".x-axis .tick text"),e.x.text.style)},groupedMargin:function(){var t=u()(C.bar,"groupMargin",.1);return t>=0&&t<=1?t:.1},barMargin:function(){var t=u()(C.bar,"margin",0);return t>=0&&t<=1?t:.1},barWidth:function(){return S.bandwidth()},updateChart:function(t,r){var a=C.axis,o=C.height,c=C.width,u=C.margin,l=C.delay,d=C.duration,h=C.tip,f=C.stacked,m=this.barWidth(),g=function(t,e){var n=r.find(function(e){return void 0!==e.find(function(e){return e.label===t.label})}),a=n?n.filter(function(t,n){return n<e}).reduce(function(t,e){return t+e.value},0):0,i=f&&e>0?a:0;return k(t.value+i)},b=Object(i.d)(C.colorScheme),v=Object(p.b)(C),y=s.selectAll("g").data(r),x=y.enter().append("g").merge(y).attr("transform",function(t){var e=j(t[0].label);return void 0===e&&(e=0),"translate("+(Object(p.e)(a)+a.y.style["stroke-width"]+e)+", 0)"}).selectAll("rect").data(function(t){return t});x.enter().append("rect").attr("height",0).attr("y",g).attr("class","bar").on("mouseover",function(r,a){var i=t.findIndex(function(t){return t===r.label});n.html(function(){return C.tipContentFn(t,i,r.value)}),h.fx.in(e)}).on("mousemove",function(){return h.fx.move(e)}).on("mouseout",function(){return h.fx.out(e)}).merge(x).attr("x",function(t){return S(t.groupLabel)}).attr("width",function(t){return m}).attr("fill",function(t,e){return b(e)}).transition().duration(d).delay(l).attr("y",g).attr("stroke-dasharray",function(t){var e=v-k(t.value);return m+" 0 "+e+" "+m}).attr("height",function(t){return v-k(t.value)}),x.exit().remove(),y.exit().remove();var E=w.selectAll("text").data([a.x.label]);E.enter().append("text").attr("class","x-axis-label").merge(E).attr("transform","translate("+Number(c)/2+" ,"+(o-Object(p.d)(C.axis)-2*u.left+a.x.margin)+")").style("text-anchor","middle").text(function(t){return t});var N=O.selectAll("text").data([a.y.label]);N.enter().append("text").attr("class","y-axis-label").merge(N).attr("transform","rotate(-90)").attr("y",0).attr("x",0-(v/2-2*u.top)).attr("dy","1em").style("text-anchor","middle").text(function(t){return t})},makeGrid:function(){l=t.append("g").attr("class","grid gridX"),v=t.append("g").attr("class","grid gridY")},update:function(t,e){if(console.log("----- update"),e.data&&(this.mergeProps(e),C.data.bins)){var n=C.data,r=C.visible;c=[],n.counts.forEach(function(t){t.data.forEach(function(e,a){c[a]||(c[a]=[]),c[a].push({groupLabel:t.label,label:n.bins[a],value:!1!==r[n.bins[a]]&&!1!==r[t.label]?e:0})})}),this._drawScales(),Object(p.a)(j,k,l,v,C,this.valuesCount(n.counts)),this.updateChart(n.bins,c)}},destroy:function(e){t.selectAll("svg > *").remove()}}}},327:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return c}),n.d(e,"e",function(){return u}),n.d(e,"d",function(){return l}),n.d(e,"c",function(){return d});n(53);var r=n(290),a=n(297),i=n.n(a),o=n(288),s=function(t,e,n,a,s,d){var h=s.height,f=s.width,p=s.axis,m=s.grid,g=s.margin,b=p.y.style["stroke-width"],v=u(p)+b,y=c(s);m.x.visible&&(n.attr("transform","translate("+v+", "+y+")").transition().call(function(t,e){return void 0===e&&(e=5),Object(r.a)(t).ticks(e)}(t,i()(m,"x.ticks",d)).tickSize(-h+l(s.axis)+2*g.top).tickFormat(function(){return""})),Object(o.a)(n.selectAll(".tick line"),m.x.style),Object(o.a)(n.selectAll(".domain"),Object.assign({},p.y.style,{stroke:"transparent"}))),m.y.visible&&(a.attr("transform","translate("+(u(p)+b)+", 0)").transition().call(function(t,e){return void 0===e&&(e=5),Object(r.b)(t).ticks(e)}(e,i()(m,"y.ticks",d)).tickSize(-f+2*g.left+u(p)).tickFormat(function(){return""})),Object(o.a)(a.selectAll(".tick line"),m.y.style),a.selectAll(".gridY .tick line").filter(function(t,e){return 0===e}).attr("display","none"),Object(o.a)(a.selectAll(".domain"),Object.assign({},p.x.style,{stroke:"transparent"})))},c=function(t){var e=t.height,n=t.margin,r=t.axis;return e-2*n.top-l(r)},u=function(t){return""===t.y.label?t.y.width:t.y.width+30},l=function(t){return""===t.x.label?t.x.height:t.x.height+30+i()(t,"x.margin",0)},d=function(t){var e=t.axis;return t.width-2*t.margin.left-u(e)}},348:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return c});n(53);var r=n(298),a=n(285),i={x:{style:Object.assign({},a.c,{stroke:"#ccc","stroke-opacity":.4}),ticks:5},y:{style:Object.assign({},a.c,{stroke:"#ccc","stroke-opacity":.4}),ticks:5}},o={bins:["Data 1","Data 6","Data 3","Dat 4"],counts:[{data:[1,2,3,4],label:"DataSet 1"},{data:[13,14,15,16],label:"DataSet 2"}]},s={bins:["bin 1","bin 2","bin 3 with a long name","bin 4","bin 5","bin 6","bin 7"],counts:[{borderColors:["red"],data:[1,2,3,4,5,6,7],label:"Data 1"}],title:"Plot 1"},c=Object(r.a)(["rgba(255, 113, 1, 0.5)","#fff6ef","rgba(0, 169, 123, 0.5)","#f6fffd","#D7263D","rgba(215, 38, 61, 0.05)","#0f2629","#ededed","rgba(86, 180, 191, 0.5)","#f5fbfb","#000000","#0f2629","#D7263D","#FBD7D9","#ffebec","#963540","#22545a","#56b4bf","#56b4bf","#56b4bf","#FF7101","#449098","#77c3cb","#d4eef8","#ff7101","#FF7101","#cc5a00","#ff8d33","#fef9e5","#7d5d2e","#00a97b","#008762","#33ba95","#dbf1d6","#227839","#0f5e7b","#d4eef8","#0f5e7b","#F9C80E","#007656","#c5e5e9","#f9c80e","#a9a9a9","#dbdbdb","#cccccc","#e6e6e6","#56b4bf","#449098","#77c3cb","#22545a","#ff7101","#cdcdcd","#ffffff","#d7263d","#00a97b","#888888","#e6e6e6","#f2f2f2","#f4f4f4"])},395:function(t,e,n){"use strict";n(276),n(53);var r=n(82),a=n.n(r),i=n(10),o=n.n(i),s=n(0),c=n.n(s),u=n(55),l=n.n(u),d=(n(416),n(128),n(355),n(278),n(294)),h=n(290),f=n(272),p=n(306),m=n(351),g=n(287),b=n.n(g),v=n(288),y=n(327),x=n(326),w=n(289),O=n(285),k=n(283),j=function(t){var e,n;switch(t.x.scale){case"LOG":e=Object(k.c)().clamp(!0);break;case"TIME":e=Object(k.e)();break;default:e=Object(k.b)()}switch(t.y.scale){case"LOG":n=Object(k.c)().clamp(!0);break;case"TIME":n=Object(k.e)();break;default:n=Object(k.b)()}return[e,n]},S=function(){var t,e,n,r,a,i,o,s,c,u,l,g,k,S={curveType:p.e,fill:{fill:"#eee",show:!1},show:!0,stroke:"#005870",strokeDashArray:"5 5",strokeDashOffset:0},C=Object.assign({},O.c,{fill:"rgba(255, 255, 255, 0)",radius:4,show:!0,stroke:"#005870"}),E={axis:O.a,className:"line-chart-d3",data:[],grid:O.b,height:250,margin:{bottom:0,left:5,right:0,top:5},tip:w.a,tipContainer:"body",tipContentFn:function(t,e,r){switch(typeof t[e].x){case"object":return n(t[e].x)+", "+t[e].y;default:return Number(t[e].x).toFixed(3)+", "+t[e].y}},visible:{},width:200},N={line:S,point:C};return{create:function(t,e){void 0===e&&(e={}),b()(E,e),console.log(E),this._makeSvg(t),this.makeScales();var n=j(E.axis);u=n[0],l=n[1],this.makeGrid(),i=a.append("g").attr("class","linechart-container"),o=i.append("g").attr("class","line-container"),this._createLines(E.data),this.update(t,E)},_makeSvg:function(e){if(a){a.selectAll("svg > *").remove(),a.remove();var n=e.getElementsByTagName("svg");n.length>0&&e.removeChild(n[0])}a=Object(f.d)(e).append("svg"),this.sizeSVG();var i=Object(w.b)(E.tipContainer,t);r=i.tipContent,t=i.tipContainer},sizeSVG:function(){var t=E.margin,e=E.width,n=E.height,r=E.className;console.log("size svg",e,n);var i=1-t.left/Number(e),o=1-t.top/Number(n);a.attr("class",r).attr("width",e).attr("height",n).append("g").attr("transform","translate("+t.left+","+t.top+") scale("+i+","+o+")")},_drawDataPointSet:function(e){var n=E.axis,a=E.tip,o=Object(y.e)(n),s=i.selectAll("g").data(e),c=s.enter().append("g").attr("class",function(t,e){return"point-container"+e}).merge(s).selectAll("circle").data(function(t){return t.data.map(function(e){return Object.assign({},e,{point:t.point})})});c.attr("class","update"),c.enter().append("circle").attr("class","enter").on("mouseover",function(e,n){r.html(function(){return E.tipContentFn([e],0,0,"")}),a.fx.in(t)}).on("mousemove",function(){return a.fx.move(t)}).on("mouseout",function(){return a.fx.out(t)}).merge(c).attr("class","point").attr("cy",function(t){return l(t.y)}).attr("r",function(t,e){return 0}).attr("fill",function(t){return t.point.fill}).attr("stroke",function(t){return t.point.stroke}).attr("cx",function(t){return u(t.x)+o}).transition().duration(400).attr("r",function(t){return t.point.show?t.point.radius:0}).delay(650),s.exit().remove(),c.exit().remove()},makeScales:function(){g=a.append("g").attr("class","x-axis"),k=a.append("g").attr("class","y-axis")},_drawScales:function(t){var e,n,r=E.axis,i=E.height,o=Object(y.c)(E),s=[],c=[],f=Object(h.b)(l);r.y.tickValues?f.tickValues(r.y.tickValues):f.ticks(r.y.ticks),r.y.numberFormat&&f.tickFormat(Object(x.a)(r.y));var p=Object(h.a)(u);r.x.tickValues&&p.tickValues(r.x.tickValues),"TIME"===r.x.scale&&r.x.dateFormat&&p.tickFormat(Object(x.a)(r.x));var m=Object(y.d)(r),b=Object(y.e)(r);t.forEach(function(t){t.data.forEach(function(t){var e=t.y,n=t.x;"LOG"===r.y.scale&&0===t.y&&(e=1e-6),"LOG"===r.x.scale&&0===t.x&&(n=1e-6),s.push(e),c.push(n)})}),e=Object(d.a)(s),n=Object(d.a)(c),"LOG"===r.y.scale&&1e-6===e[0]&&(e[0]=1),"LOG"===r.x.scale&&1e-6===n[0]&&(n[0]=1),u.domain(n).rangeRound([0,o]),l.domain(e).range([Number(i)-m,0]),k.attr("transform","translate("+b+", 0)").transition().call(f),g.attr("transform","translate("+b+","+(Number(i)-m)+")").call(p),Object(v.a)(a.selectAll(".y-axis .domain, .y-axis .tick line"),r.y.style),Object(v.a)(a.selectAll(".y-axis .tick text"),r.y.text.style),Object(v.a)(a.selectAll(".x-axis .domain, .x-axis .tick line"),r.x.style),Object(v.a)(a.selectAll(".x-axis .tick text"),r.x.text.style)},_createLines:function(t){t.forEach(function(t,e){o.append("path").attr("class","line-"+e)}),t.forEach(function(t,e){o.append("path").attr("class","fill-"+e)})},_drawLines:function(t){var e=E.axis,n=Object(y.e)(e);t.forEach(function(t,e){o.select(".line-"+e).attr("fill","none").attr("stroke-dashoffset",t.line.strokeDashOffset).attr("stroke-dasharray",t.line.strokeDashOffset).attr("stroke",t.line.stroke).transition().duration(500).attr("d",function(t,e,n,r){return Object(p.k)().curve(t).x(function(t){return n(t.x)+e}).y(function(t){return r(t.y)})}(t.line.curveType,n,u,l)(t.data)).delay(50)})},drawAreas:function(t){var e=E.axis,n=E.height,r=Object(y.e)(e),a=Object(y.d)(e);t.forEach(function(t,e){var i;o.select(".fill-"+e).attr("fill",t.line.fill.fill).style("opacity",t.line.show&&t.line.fill.show?1:0).transition().duration(500).delay(50).attr("d",(i=t.line.curveType,Object(p.b)().curve(i).x(function(t){return u(t.x)+r}).y0(function(t){return Number(n)-a}).y1(function(t){return l(t.y)}))(t.data))})},valuesCount:function(t){return t.reduce(function(t,e){return e.data.length>t?e.data.length:t},0)},makeGrid:function(){s=a.append("g").attr("class","grid gridX"),c=a.append("g").attr("class","grid gridY")},update:function(t,r){if(r.data){b()(E,r),this.sizeSVG();var a=j(E.axis);u=a[0],l=a[1];var i=E.data;e=Object(m.b)(E.axis.x.dateFormat),n=Object(m.a)(E.axis.x.dateFormat),i=i.map(function(t){return"TIME"===E.axis.x.scale&&(t.data=t.data.map(function(t){return Object.assign({},t,{x:"object"==typeof t.x?t.x:e(t.x.toString())})})),Object.assign({},N,t)}),this._drawScales(i),this._drawLines(i),this.drawAreas(i),Object(y.a)(u,l,s,c,E,this.valuesCount(i)),this._drawDataPointSet(i)}},destroy:function(t){a.selectAll("svg > *").remove()}}},C=function(t){function e(e){var n;return(n=t.call(this,e)||this).ref=null,n.chart=S(),n.state={parentWidth:300},n}o()(e,t);var n=e.prototype;return n.handleResize=function(){var t=this,e=this.getDOMNode();if(e){var n=this.ref&&this.ref.offsetWidth?this.ref.offsetWidth:0;this.setState({parentWidth:n},function(){return t.chart.create(e,t.getChartState())})}},n.componentDidMount=function(){var t=this,e=this.getDOMNode();e&&(this.chart.create(e,this.getChartState()),"100%"===this.props.width&&(window.addEventListener("resize",function(e){return t.handleResize()}),this.handleResize()))},n.componentDidUpdate=function(){var t=this.getDOMNode();t&&this.chart.update(t,this.getChartState())},n.getChartState=function(){var t=this.props.width,e=this.props,n=(e.children,a()(e,["children"]));return"100%"===t&&(t=this.state.parentWidth||300),console.log("get chart state, width",t,this.state.parentWidth),Object.assign({},n,{width:t})},n.componentWillUnmount=function(){"100%"===this.props.width&&window.removeEventListener("resize",this.handleResize);var t=this.getDOMNode();t&&this.chart.destroy(t)},n.getDOMNode=function(){var t=l.a.findDOMNode(this.ref);if(t instanceof HTMLElement)return t},n.render=function(){var t=this;return c.a.createElement("div",{ref:function(e){return t.ref=e},className:"chart-container"})},e}(c.a.Component),E=(n(305),n(324),n(325),n(323),n(83),n(132),n(282)),N=function(){var t,e,n,r,a=Object(k.b)(),i=Object(k.b)(),o={},s={choices:[],className:"scatter-plot-d3",colorScheme:E.a,data:{keys:[],values:[]},delay:0,distModels:[],duration:400,height:300,legendWidth:100,padding:20,radius:4,split:"",width:"100%"};return{create:function(t,e){void 0===e&&(e=s),b()(s,e),this.update(t,e)},_makeSvg:function(e,r){if(t){t.selectAll("svg > *").remove(),t.remove();var a=e.getElementsByTagName("svg");a.length>0&&e.removeChild(a[0])}var i=s.width,o=s.className,c=s.height,u=s.legendWidth,l=s.padding;t=Object(f.d)(e).append("svg").attr("class",o).attr("width",Number(i)+l+u).attr("height",c+l).append("g").attr("transform","translate("+l+","+l/2+")"),n=Object(k.d)(s.colorScheme)},_drawScales:function(n){var c=s.height,u=s.padding,l=Number(s.width)/n.length,d=c/n.length;i.range([u/2,l-u/2]),a.range([c-u/2,u/2]),t.selectAll(".x.axis").data(n).enter().append("g").attr("class","x axis").attr("transform",function(t,e){return"translate("+(n.length-e-1)*l+",0)"}).each(function(t){i.domain(o[t]),Object(f.d)(this).call(e)}),t.selectAll(".y.axis").data(n).enter().append("g").attr("class","y axis").attr("transform",function(t,e){return"translate(0,"+e*d+")"}).each(function(t){a.domain(o[t]),Object(f.d)(this).call(r)})},_drawLegend:function(){var e=s.choices,r=s.padding,a=s.width,i=s.split;if(void 0!==e){var o=t.append("g").attr("transform","translate("+(Number(a)+r/2)+", "+(r+50)+")");o.append("g").append("text").attr("x",0).attr("y",0).attr("dy",".71em").text(function(t){return i}),o.selectAll(".legendItem").data(e).enter().append("g").each(function(t,e){var r=Object(f.d)(this);r.append("rect").attr("class","legendItem").attr("x",0).attr("y",20+15*e).attr("fill",n(e)).attr("height",10).attr("width",10),r.append("text").attr("x",15).attr("y",20+15*e).attr("dy",".71em").text(function(e){return t})}),o.exit().remove()}},_drawPoints:function(e,r,c){var u=s.data,l=s.delay,d=s.duration,h=s.choices,p=s.split,m=s.padding,g=s.radius,b=e.length;t.selectAll(".cell").data(function(t,e){var n,r,a=[],i=t.length,o=e.length;for(n=-1;++n<i;)for(r=-1;++r<o;)a.push({x:t[n],i:n,y:e[r],j:r});return a}(e,e)).enter().append("g").attr("class","cell").attr("transform",function(t){return"translate("+(b-t.i-1)*r+","+t.j*r+")"}).each(function(t){var e=Object(f.d)(this);i.domain(o[Number(t.x)]),a.domain(o[Number(t.y)]),e.append("rect").attr("class","frame").attr("x",m/2).attr("y",m/2).attr("width",r-m).attr("height",c-m),e.selectAll("circle").data(u.values).enter().append("circle").attr("r",function(t){return g}).attr("cx",function(e){return i(e[Number(t.x)])}).attr("cy",function(e){return a(e[Number(t.y)])}).style("fill",function(t){if(t[p]){var e=h.findIndex(function(e){return e===t[p]});return n(e)}return"#eeaabb"}).transition().duration(d).delay(l).attr("r",function(t){return g})}).filter(function(t){return t.i===t.j}).append("text").attr("x",m).attr("y",m).attr("dy",".71em").text(function(t){return t.x})},update:function(t,n){if(b()(s,n),s.data){var c=s.data,u=s.distModels,l=s.height,f=s.width;this._makeSvg(t,s.data),this._drawLegend();var p=c.keys.filter(function(t){return-1!==u.indexOf(t)}),m=Number(f)/p.length,g=l/p.length,v=p.length;p.forEach(function(t){o[t]=Object(d.a)(c.values,function(e){return e[t]})}),e=Object(h.a)(i).ticks(6).tickSize(m*v),r=Object(h.b)(a).ticks(6).tickSize(-g*v),this._drawScales(p),this._drawPoints(p,m,g)}},destroy:function(e){t.selectAll("svg > *").remove()}}},A=function(t){function e(e){var n;return(n=t.call(this,e)||this).ref=null,n.chart=N(),n.state={parentWidth:300},n}o()(e,t);var n=e.prototype;return n.handleResize=function(){var t=this,e=this.getDOMNode();if(e){var n=this.ref&&this.ref.offsetWidth?this.ref.offsetWidth:0;this.setState({parentWidth:n},function(){return t.chart.create(e,t.getChartState())})}},n.componentDidMount=function(){var t=this,e=this.getDOMNode();if(e){this.chart.create(e,this.getChartState());var n=this.props.width;"string"==typeof n&&"100%"===n&&(window.addEventListener("resize",function(e){return t.handleResize()}),this.handleResize())}},n.componentDidUpdate=function(){var t=this.getDOMNode();t&&this.chart.update(t,this.getChartState())},n.getChartState=function(){var t=this.props.width,e=this.props,n=(e.children,a()(e,["children"]));return"string"==typeof t&&"100%"===t&&(t=this.state.parentWidth||300),Object.assign({},n,{width:t})},n.componentWillReceiveProps=function(t){var e=this.getDOMNode();e&&this.chart.update(e,this.getChartState())},n.componentWillUnmount=function(){var t=this.props.width;"string"==typeof t&&"100%"===t&&window.removeEventListener("resize",this.handleResize);var e=this.getDOMNode();e&&this.chart.destroy(e)},n.getDOMNode=function(){var t=l.a.findDOMNode(this.ref);if(t instanceof HTMLElement)return t},n.render=function(){var t=this;return c.a.createElement("div",{ref:function(e){return t.ref=e},className:"scatterplot-chart-container"})},e}(s.Component);A.defaultProps={height:400,width:"100%"};var M=function(){var t,e,n,r=Object(k.b)(),a=Object(k.a)();var i={axis:O.a,bar:{groupMargin:.1,margin:10,width:50},className:"histogram-d3",colorScheme:E.a,data:{bins:[],colorScheme:[],counts:[]},delay:0,domain:{max:null,min:null},duration:400,grid:O.b,height:200,margin:{bottom:0,left:5,right:0,top:5},stacked:!1,stroke:{color:"#005870",dasharray:"",linecap:"butt",width:0},tip:w.a,tipContainer:"body",tipContentFn:function(t,e,n){return t[e]+"<br />"+n},visible:{},width:200};return{create:function(t,e){void 0===e&&(e={}),b()(i,e),this.update(t,e)},_makeSvg:function(r){if(t){t.selectAll("svg > *").remove(),t.remove();var a=r.getElementsByTagName("svg");a.length>0&&r.removeChild(a[0])}var o=i.margin,s=i.width,c=i.height,u=i.className;t=Object(f.d)(r).append("svg").attr("class",u).attr("width",s).attr("height",c).attr("viewBox","0 0 "+s+" "+c).append("g").attr("transform","translate("+o.left+","+o.top+")");var l=Object(w.b)(i.tipContainer,e);n=l.tipContent,e=l.tipContainer},valuesCount:function(t){return t.reduce(function(t,e){return e.data.length>t?e.data.length:t},0)},_drawScales:function(e){var n=i.margin,o=i.width,s=i.height,c=i.axis,u=this.valuesCount(e.counts);t.selectAll(".y-axis").remove(),t.selectAll(".x-axis").remove();var l,f,p,m,g=this.gridHeight(),b=e.counts.reduce(function(t,e){return[].concat(t,e.data)},[]);a.domain(e.bins).rangeRound([0,g]),f=Object(h.a)(r).ticks(c.x.ticks),p=Object(h.b)(a).ticks(c.y.ticks),g/u<10&&f.tickValues(r.domain().filter(function(t,e){return!(e%10)})),(l=Object(d.a)(b,function(t){return t}))[0]=0,m=[0,Number(o)-2*n.top-c.y.width],r.range(m).domain(l),t.append("g").attr("class","y-axis").attr("transform","translate("+c.y.width+", 0)").call(p),t.append("g").attr("class","x-axis").attr("transform","translate("+c.y.width+","+(s-c.x.height-2*n.left)+")").call(f),Object(v.a)(t.selectAll(".y-axis .domain, .y-axis .tick line"),c.y.style),Object(v.a)(t.selectAll(".y-axis .tick text"),c.y.text.style),Object(v.a)(t.selectAll(".x-axis .domain, .x-axis .tick line"),c.x.style),Object(v.a)(t.selectAll(".x-axis .tick text"),c.x.text.style)},_drawBars:function(t){var e=this;this.valuesCount(t.counts);t.counts.forEach(function(n,r){e.drawDataSet(t.bins,n,r,t.counts.length)})},gridWidth:function(){var t=i.axis,e=i.margin;return Number(i.width)-2*e.left-t.y.width},gridHeight:function(){var t=i.axis;return i.height-2*i.margin.top-t.x.height},groupedMargin:function(){return 3*(i.data.counts.length-1)},barHeight:function(){var t=i.data,e=i.bar,n=this.gridHeight(),r=this.valuesCount(t.counts),a=t.counts.length,o=n/r-2*e.margin-this.groupedMargin();return o<5&&(e.margin=1,o=Math.max(1,(n-(r+1)*e.margin)/r)),o/a},drawDataSet:function(a,o,s,c){var u,l=this,d=i.bar,h=i.delay,f=i.duration,p=i.axis,m=i.stroke,g=i.tip,b=i.tipContentFn,v=this.barHeight(),y=Object(k.d)(o.colors||i.colorScheme),x=o.borderColors?Object(k.d)(o.borderColors):null,w=".bar-"+s;t.selectAll(w).remove(),(u=t.selectAll(w).data(o.data).enter().append("rect").attr("class","bar "+w).attr("y",function(t,e,n){return d.margin+(v+2*d.margin)*e+function(t){return 1===c?0:(t+s)*(v+l.groupedMargin())}(e)}).attr("height",function(t){return v}).attr("fill",function(t,e){return y(String(e))}).on("mouseover",function(t,r){n.html(function(){return b(a,r,t)}),g.fx.in(e)}).on("mousemove",function(){return g.fx.move(e)}).on("mouseout",function(){return g.fx.out(e)}).attr("x",function(t){return p.y.width+p.y.style["stroke-width"]}).attr("width",0)).attr("stroke",function(t,e){return x?x(e):"function"==typeof m.color?m.color(t,e,function(t){return y[t]}):m.color}).attr("shape-rendering","crispEdges").attr("stroke-width",m.width).attr("stroke-linecap",m.linecap),u.attr("stroke-dasharray",m.dasharray),u.transition().duration(f).delay(h).attr("stroke-dasharray",function(t){var e=r(t);return e+v+e+" "+v}).attr("width",function(t){return r(t)}),u.exit().remove()},_drawGrid:function(){var e,n,o=i.data,s=i.height,c=i.width,u=i.axis,l=i.grid,d=i.margin,f=this.valuesCount(o.counts),p=u.y.style["stroke-width"],m=u.y.width+this.groupedMargin()/2,g=0;l.x.visible&&((e=t.append("g").attr("class","grid gridX").attr("transform","translate("+m+", "+g+")")).call(function(t){return void 0===t&&(t=5),Object(h.b)(a).ticks(t)}(l.x.ticks||f).tickSize(-c+2*d.left+u.y.width).tickFormat(function(){return""})),Object(v.a)(e.selectAll(".tick line"),l.x.style),Object(v.a)(e.selectAll(".domain"),Object.assign({},u.y.style,{stroke:"transparent"}))),l.y.visible&&(n=t.append("g").attr("class","grid gridY").attr("transform","translate("+(u.y.width+p)+", "+(s-u.x.height-2*d.top)+")").call(function(t){return void 0===t&&(t=5),Object(h.a)(r).ticks(t)}(l.y.ticks||f).tickSize(-s+2*d.left+u.x.height).tickFormat(function(){return""})),Object(v.a)(n.selectAll(".tick line"),l.y.style),Object(v.a)(n.selectAll(".domain"),Object.assign({},u.x.style,{stroke:"transparent"})))},update:function(t,e){i.data&&(b()(i,e),this._makeSvg(t),i.data.bins&&(this._drawScales(i.data),this._drawGrid(),this._drawBars(i.data)))},destroy:function(e){t.selectAll("svg > *").remove()}}},D=function(t){function e(e){var n;return(n=t.call(this,e)||this).ref=null,n.histogram=M(),n.state={parentWidth:300},n}o()(e,t);var n=e.prototype;return n.handleResize=function(){var t=this,e=this.getDOMNode();if(e){var n=this.ref&&this.ref.offsetWidth?this.ref.offsetWidth:0;this.setState({parentWidth:n},function(){return t.histogram.create(e,t.getChartState())})}},n.componentDidMount=function(){var t=this,e=this.getDOMNode();e&&(this.histogram.create(e,this.getChartState()),"100%"===this.props.width&&(window.addEventListener("resize",function(e){return t.handleResize()}),this.handleResize()))},n.componentDidUpdate=function(){var t=this.getDOMNode();t&&this.histogram.update(t,this.getChartState())},n.getChartState=function(){var t=this.props.width,e=this.props,n=(e.children,a()(e,["children"]));return"100%"===t&&(t=this.state.parentWidth||300),Object.assign({},n,{width:t})},n.componentWillReceiveProps=function(){var t=this.getDOMNode();t&&this.histogram.update(t,this.getChartState())},n.componentWillUnmount=function(){var t=this.getDOMNode();t&&("100%"===this.props.width&&window.removeEventListener("resize",this.handleResize),this.histogram.destroy(t))},n.getDOMNode=function(){var t=l.a.findDOMNode(this.ref);if(t instanceof HTMLElement)return t},n.render=function(){var t=this;return c.a.createElement("div",{ref:function(e){return t.ref=e},className:"histogram-chart-container"})},e}(s.Component);n(298);n.d(e,"b",function(){return C}),n.d(e,"a",function(){return D})}}]);
//# sourceMappingURL=component---src-pages-map-tsx-8177e74bbfacec95661b.js.map